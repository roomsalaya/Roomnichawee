import{g as X_,R as me,b as _f,r as _,c as Dc,d as Y_,a as J_,j as bf}from"./index-DgKVGHIq.js";var pm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(pm);var Z_=pm.exports;const Je=X_(Z_);function Ct(){return Ct=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ct.apply(null,arguments)}var gm={exports:{}},je={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph=Symbol.for("react.element"),xh=Symbol.for("react.portal"),Vc=Symbol.for("react.fragment"),Lc=Symbol.for("react.strict_mode"),Fc=Symbol.for("react.profiler"),$c=Symbol.for("react.provider"),jc=Symbol.for("react.context"),eb=Symbol.for("react.server_context"),Uc=Symbol.for("react.forward_ref"),Bc=Symbol.for("react.suspense"),zc=Symbol.for("react.suspense_list"),Hc=Symbol.for("react.memo"),Wc=Symbol.for("react.lazy"),tb=Symbol.for("react.offscreen"),mm;mm=Symbol.for("react.module.reference");function Vn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ph:switch(t=t.type,t){case Vc:case Fc:case Lc:case Bc:case zc:return t;default:switch(t=t&&t.$$typeof,t){case eb:case jc:case Uc:case Wc:case Hc:case $c:return t;default:return e}}case xh:return e}}}je.ContextConsumer=jc;je.ContextProvider=$c;je.Element=Ph;je.ForwardRef=Uc;je.Fragment=Vc;je.Lazy=Wc;je.Memo=Hc;je.Portal=xh;je.Profiler=Fc;je.StrictMode=Lc;je.Suspense=Bc;je.SuspenseList=zc;je.isAsyncMode=function(){return!1};je.isConcurrentMode=function(){return!1};je.isContextConsumer=function(t){return Vn(t)===jc};je.isContextProvider=function(t){return Vn(t)===$c};je.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ph};je.isForwardRef=function(t){return Vn(t)===Uc};je.isFragment=function(t){return Vn(t)===Vc};je.isLazy=function(t){return Vn(t)===Wc};je.isMemo=function(t){return Vn(t)===Hc};je.isPortal=function(t){return Vn(t)===xh};je.isProfiler=function(t){return Vn(t)===Fc};je.isStrictMode=function(t){return Vn(t)===Lc};je.isSuspense=function(t){return Vn(t)===Bc};je.isSuspenseList=function(t){return Vn(t)===zc};je.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Vc||t===Fc||t===Lc||t===Bc||t===zc||t===tb||typeof t=="object"&&t!==null&&(t.$$typeof===Wc||t.$$typeof===Hc||t.$$typeof===$c||t.$$typeof===jc||t.$$typeof===Uc||t.$$typeof===mm||t.getModuleId!==void 0)};je.typeOf=Vn;gm.exports=je;var ms=gm.exports;function Cs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return me.Children.forEach(t,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?n=n.concat(Cs(r)):ms.isFragment(r)&&r.props?n=n.concat(Cs(r.props.children,e)):n.push(r))}),n}var lu={},nb=function(e){};function rb(t,e){}function ib(t,e){}function ob(){lu={}}function vm(t,e,n){!e&&!lu[n]&&(t(!1,n),lu[n]=!0)}function wn(t,e){vm(rb,t,e)}function sb(t,e){vm(ib,t,e)}wn.preMessage=nb;wn.resetWarned=ob;wn.noteOnce=sb;function pe(t){"@babel/helpers - typeof";return pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(t)}function ab(t,e){if(pe(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pe(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ym(t){var e=ab(t,"string");return pe(e)=="symbol"?e:e+""}function L(t,e,n){return(e=ym(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ef(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ef(Object(n),!0).forEach(function(r){L(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ef(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function As(t){return t instanceof HTMLElement||t instanceof SVGElement}function cb(t){return t&&pe(t)==="object"&&As(t.nativeElement)?t.nativeElement:As(t)?t:null}function za(t){var e=cb(t);if(e)return e;if(t instanceof me.Component){var n;return(n=_f.findDOMNode)===null||n===void 0?void 0:n.call(_f,t)}return null}function Oh(t,e,n){var r=_.useRef({});return(!("value"in r.current)||n(r.current.condition,e))&&(r.current.value=t(),r.current.condition=e),r.current.value}var Mh=function(e,n){typeof e=="function"?e(n):pe(e)==="object"&&e&&"current"in e&&(e.current=n)},Qs=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);return i.length<=1?i[0]:function(o){n.forEach(function(s){Mh(s,o)})}},Nh=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Oh(function(){return Qs.apply(void 0,n)},n,function(i,o){return i.length!==o.length||i.every(function(s,a){return s!==o[a]})})},jo=function(e){var n,r,i=ms.isMemo(e)?e.type.type:e.type;return!(typeof i=="function"&&!((n=i.prototype)!==null&&n!==void 0&&n.render)&&i.$$typeof!==ms.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==ms.ForwardRef)};function uu(t){return _.isValidElement(t)&&!ms.isFragment(t)}var ik=function(e){return uu(e)&&jo(e)};Number(_.version.split(".")[0])>=19;var hu=_.createContext(null);function lb(t){var e=t.children,n=t.onBatchResize,r=_.useRef(0),i=_.useRef([]),o=_.useContext(hu),s=_.useCallback(function(a,l,u){r.current+=1;var h=r.current;i.current.push({size:a,element:l,data:u}),Promise.resolve().then(function(){h===r.current&&(n==null||n(i.current),i.current=[])}),o==null||o(a,l,u)},[n,o]);return _.createElement(hu.Provider,{value:s},e)}var _m=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];n.call(r,s[1],s[0])}},e}()}(),du=typeof window<"u"&&typeof document<"u"&&window.document===document,cc=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),ub=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(cc):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),hb=2;function db(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){ub(o)}function a(){var l=Date.now();if(n){if(l-i<hb)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=l}return a}var fb=20,pb=["top","right","bottom","left","width","height","size","weight"],gb=typeof MutationObserver<"u",mb=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=db(this.refresh.bind(this),fb)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!du||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),gb?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!du||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=pb.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),bm=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},So=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||cc},Em=qc(0,0,0,0);function lc(t){return parseFloat(t)||0}function wf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+lc(o)},0)}function vb(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],s=t["padding-"+o];n[o]=lc(s)}return n}function yb(t){var e=t.getBBox();return qc(0,0,e.width,e.height)}function _b(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Em;var r=So(t).getComputedStyle(t),i=vb(r),o=i.left+i.right,s=i.top+i.bottom,a=lc(r.width),l=lc(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=wf(r,"left","right")+o),Math.round(l+s)!==n&&(l-=wf(r,"top","bottom")+s)),!Eb(t)){var u=Math.round(a+o)-e,h=Math.round(l+s)-n;Math.abs(u)!==1&&(a-=u),Math.abs(h)!==1&&(l-=h)}return qc(i.left,i.top,a,l)}var bb=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof So(t).SVGGraphicsElement}:function(t){return t instanceof So(t).SVGElement&&typeof t.getBBox=="function"}}();function Eb(t){return t===So(t).document.documentElement}function wb(t){return du?bb(t)?yb(t):_b(t):Em}function Tb(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return bm(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}function qc(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Sb=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=qc(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=wb(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),Ib=function(){function t(e,n){var r=Tb(n);bm(this,{target:e,contentRect:r})}return t}(),Cb=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new _m,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof So(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new Sb(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof So(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new Ib(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),wm=typeof WeakMap<"u"?new WeakMap:new _m,Tm=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=mb.getInstance(),r=new Cb(e,n,this);wm.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){Tm.prototype[t]=function(){var e;return(e=wm.get(this))[t].apply(e,arguments)}});var Ab=function(){return typeof cc.ResizeObserver<"u"?cc.ResizeObserver:Tm}(),ai=new Map;function Rb(t){t.forEach(function(e){var n,r=e.target;(n=ai.get(r))===null||n===void 0||n.forEach(function(i){return i(r)})})}var Sm=new Ab(Rb);function Pb(t,e){ai.has(t)||(ai.set(t,new Set),Sm.observe(t)),ai.get(t).add(e)}function xb(t,e){ai.has(t)&&(ai.get(t).delete(e),ai.get(t).size||(Sm.unobserve(t),ai.delete(t)))}function Wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ym(r.key),r)}}function qt(t,e,n){return e&&Tf(t.prototype,e),n&&Tf(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rs(t,e){return Rs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Rs(t,e)}function Gi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rs(t,e)}function Ps(t){return Ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ps(t)}function kh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kh=function(){return!!t})()}function ye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ob(t,e){if(e&&(pe(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ye(t)}function Ki(t){var e=kh();return function(){var n,r=Ps(t);if(e){var i=Ps(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ob(this,n)}}var Mb=function(t){Gi(n,t);var e=Ki(n);function n(){return Wt(this,n),e.apply(this,arguments)}return qt(n,[{key:"render",value:function(){return this.props.children}}]),n}(_.Component);function Nb(t,e){var n=t.children,r=t.disabled,i=_.useRef(null),o=_.useRef(null),s=_.useContext(hu),a=typeof n=="function",l=a?n(i):n,u=_.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),h=!a&&_.isValidElement(l)&&jo(l),f=h?l.ref:null,g=Nh(f,i),E=function(){var x;return za(i.current)||(i.current&&pe(i.current)==="object"?za((x=i.current)===null||x===void 0?void 0:x.nativeElement):null)||za(o.current)};_.useImperativeHandle(e,function(){return E()});var S=_.useRef(t);S.current=t;var C=_.useCallback(function(m){var x=S.current,A=x.onResize,O=x.data,M=m.getBoundingClientRect(),N=M.width,k=M.height,b=m.offsetWidth,v=m.offsetHeight,y=Math.floor(N),I=Math.floor(k);if(u.current.width!==y||u.current.height!==I||u.current.offsetWidth!==b||u.current.offsetHeight!==v){var R={width:y,height:I,offsetWidth:b,offsetHeight:v};u.current=R;var P=b===Math.round(N)?N:b,T=v===Math.round(k)?k:v,B=U(U({},R),{},{offsetWidth:P,offsetHeight:T});s==null||s(B,m,O),A&&Promise.resolve().then(function(){A(B,m)})}},[]);return _.useEffect(function(){var m=E();return m&&!r&&Pb(m,C),function(){return xb(m,C)}},[i.current,r]),_.createElement(Mb,{ref:o},h?_.cloneElement(l,{ref:g}):l)}var kb=_.forwardRef(Nb),Db="rc-observer-key";function Vb(t,e){var n=t.children,r=typeof n=="function"?[n]:Cs(n);return r.map(function(i,o){var s=(i==null?void 0:i.key)||"".concat(Db,"-").concat(o);return _.createElement(kb,Ct({},t,{key:s,ref:o===0?e:void 0}),i)})}var Dh=_.forwardRef(Vb);Dh.Collection=lb;function Im(t,e){var n=Object.assign({},t);return Array.isArray(e)&&e.forEach(function(r){delete n[r]}),n}function fu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Lb(t){if(Array.isArray(t))return fu(t)}function Cm(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vh(t,e){if(t){if(typeof t=="string")return fu(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fu(t,e):void 0}}function Fb(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ce(t){return Lb(t)||Cm(t)||Vh(t)||Fb()}var Am=function(e){return+setTimeout(e,16)},Rm=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(Am=function(e){return window.requestAnimationFrame(e)},Rm=function(e){return window.cancelAnimationFrame(e)});var Sf=0,Lh=new Map;function Pm(t){Lh.delete(t)}var ji=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Sf+=1;var r=Sf;function i(o){if(o===0)Pm(r),e();else{var s=Am(function(){i(o-1)});Lh.set(r,s)}}return i(n),r};ji.cancel=function(t){var e=Lh.get(t);return Pm(t),Rm(e)};function xm(t){if(Array.isArray(t))return t}function $b(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Om(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J(t,e){return xm(t)||$b(t,e)||Vh(t,e)||Om()}function xs(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function Tn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function jb(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var If="data-rc-order",Cf="data-rc-priority",Ub="rc-util-key",pu=new Map;function Mm(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):Ub}function Gc(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function Bb(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function Fh(t){return Array.from((pu.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function Nm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Tn())return null;var n=e.csp,r=e.prepend,i=e.priority,o=i===void 0?0:i,s=Bb(r),a=s==="prependQueue",l=document.createElement("style");l.setAttribute(If,s),a&&o&&l.setAttribute(Cf,"".concat(o)),n!=null&&n.nonce&&(l.nonce=n==null?void 0:n.nonce),l.innerHTML=t;var u=Gc(e),h=u.firstChild;if(r){if(a){var f=(e.styles||Fh(u)).filter(function(g){if(!["prepend","prependQueue"].includes(g.getAttribute(If)))return!1;var E=Number(g.getAttribute(Cf)||0);return o>=E});if(f.length)return u.insertBefore(l,f[f.length-1].nextSibling),l}u.insertBefore(l,h)}else u.appendChild(l);return l}function km(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Gc(e);return(e.styles||Fh(n)).find(function(r){return r.getAttribute(Mm(e))===t})}function Os(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=km(t,e);if(n){var r=Gc(e);r.removeChild(n)}}function zb(t,e){var n=pu.get(t);if(!n||!jb(document,n)){var r=Nm("",e),i=r.parentNode;pu.set(t,i),t.removeChild(r)}}function Or(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Gc(n),i=Fh(r),o=U(U({},n),{},{styles:i});zb(r,o);var s=km(e,o);if(s){var a,l;if((a=o.csp)!==null&&a!==void 0&&a.nonce&&s.nonce!==((l=o.csp)===null||l===void 0?void 0:l.nonce)){var u;s.nonce=(u=o.csp)===null||u===void 0?void 0:u.nonce}return s.innerHTML!==t&&(s.innerHTML=t),s}var h=Nm(t,o);return h.setAttribute(Mm(o),e),h}function Hb(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function fr(t,e){if(t==null)return{};var n,r,i=Hb(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gu(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(o,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(o);if(wn(!l,"Warning: There may be circular references"),l)return!1;if(o===s)return!0;if(n&&a>1)return!1;r.add(o);var u=a+1;if(Array.isArray(o)){if(!Array.isArray(s)||o.length!==s.length)return!1;for(var h=0;h<o.length;h++)if(!i(o[h],s[h],u))return!1;return!0}if(o&&s&&pe(o)==="object"&&pe(s)==="object"){var f=Object.keys(o);return f.length!==Object.keys(s).length?!1:f.every(function(g){return i(o[g],s[g],u)})}return!1}return i(t,e)}var Wb="%";function mu(t){return t.join(Wb)}var qb=function(){function t(e){Wt(this,t),L(this,"instanceId",void 0),L(this,"cache",new Map),this.instanceId=e}return qt(t,[{key:"get",value:function(n){return this.opGet(mu(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,r){return this.opUpdate(mu(n),r)}},{key:"opUpdate",value:function(n,r){var i=this.cache.get(n),o=r(i);o===null?this.cache.delete(n):this.cache.set(n,o)}}]),t}(),Io="data-token-hash",Qn="data-css-hash",ci="__cssinjs_instance__";function Gb(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(Qn,"]"))||[],n=document.head.firstChild;Array.from(e).forEach(function(i){i[ci]=i[ci]||t,i[ci]===t&&document.head.insertBefore(i,n)});var r={};Array.from(document.querySelectorAll("style[".concat(Qn,"]"))).forEach(function(i){var o=i.getAttribute(Qn);if(r[o]){if(i[ci]===t){var s;(s=i.parentNode)===null||s===void 0||s.removeChild(i)}}else r[o]=!0})}return new qb(t)}var Kc=_.createContext({hashPriority:"low",cache:Gb(),defaultCache:!0});function Kb(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var $h=function(){function t(){Wt(this,t),L(this,"cache",void 0),L(this,"keys",void 0),L(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return qt(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s={map:this.cache};return n.forEach(function(a){if(!s)s=void 0;else{var l;s=(l=s)===null||l===void 0||(l=l.map)===null||l===void 0?void 0:l.get(a)}}),(r=s)!==null&&r!==void 0&&r.value&&o&&(s.value[1]=this.cacheCallTimes++),(i=s)===null||i===void 0?void 0:i.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var i=this;if(!this.has(n)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var o=this.keys.reduce(function(u,h){var f=J(u,2),g=f[1];return i.internalGet(h)[1]<g?[h,i.internalGet(h)[1]]:u},[this.keys[0],this.cacheCallTimes]),s=J(o,1),a=s[0];this.delete(a)}this.keys.push(n)}var l=this.cache;n.forEach(function(u,h){if(h===n.length-1)l.set(u,{value:[r,i.cacheCallTimes++]});else{var f=l.get(u);f?f.map||(f.map=new Map):l.set(u,{map:new Map}),l=l.get(u).map}})}},{key:"deleteByPath",value:function(n,r){var i=n.get(r[0]);if(r.length===1){var o;return i.map?n.set(r[0],{map:i.map}):n.delete(r[0]),(o=i.value)===null||o===void 0?void 0:o[0]}var s=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&n.delete(r[0]),s}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!Kb(r,n)}),this.deleteByPath(this.cache,n)}}]),t}();L($h,"MAX_CACHE_SIZE",20);L($h,"MAX_CACHE_OFFSET",5);var Af=0,Dm=function(){function t(e){Wt(this,t),L(this,"derivatives",void 0),L(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=Af,e.length===0&&(e.length>0,void 0),Af+=1}return qt(t,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,i){return i(n,r)},void 0)}}]),t}(),Cl=new $h;function vu(t){var e=Array.isArray(t)?t:[t];return Cl.has(e)||Cl.set(e,new Dm(e)),Cl.get(e)}var Qb=new WeakMap,Al={};function Xb(t,e){for(var n=Qb,r=0;r<e.length;r+=1){var i=e[r];n.has(i)||n.set(i,new WeakMap),n=n.get(i)}return n.has(Al)||n.set(Al,t()),n.get(Al)}var Rf=new WeakMap;function vs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=Rf.get(t)||"";return n||(Object.keys(t).forEach(function(r){var i=t[r];n+=r,i instanceof Dm?n+=i.id:i&&pe(i)==="object"?n+=vs(i,e):n+=i}),e&&(n=xs(n)),Rf.set(t,n)),n}function Pf(t,e){return xs("".concat(e,"_").concat(vs(t,!0)))}var yu=Tn();function Se(t){return typeof t=="number"?"".concat(t,"px"):t}function uc(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(i)return t;var o=U(U({},r),{},L(L({},Io,e),Qn,n)),s=Object.keys(o).map(function(a){var l=o[a];return l?"".concat(a,'="').concat(l,'"'):null}).filter(function(a){return a}).join(" ");return"<style ".concat(s,">").concat(t,"</style>")}var Ha=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},Yb=function(e,n,r){return Object.keys(e).length?".".concat(n).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(i){var o=J(i,2),s=o[0],a=o[1];return"".concat(s,":").concat(a,";")}).join(""),"}"):""},Vm=function(e,n,r){var i={},o={};return Object.entries(e).forEach(function(s){var a,l,u=J(s,2),h=u[0],f=u[1];if(r!=null&&(a=r.preserve)!==null&&a!==void 0&&a[h])o[h]=f;else if((typeof f=="string"||typeof f=="number")&&!(r!=null&&(l=r.ignore)!==null&&l!==void 0&&l[h])){var g,E=Ha(h,r==null?void 0:r.prefix);i[E]=typeof f=="number"&&!(r!=null&&(g=r.unitless)!==null&&g!==void 0&&g[h])?"".concat(f,"px"):String(f),o[h]="var(".concat(E,")")}}),[o,Yb(i,n,{scope:r==null?void 0:r.scope})]},xf=Tn()?_.useLayoutEffect:_.useEffect,Xt=function(e,n){var r=_.useRef(!0);xf(function(){return e(r.current)},n),xf(function(){return r.current=!1,function(){r.current=!0}},[])},Of=function(e,n){Xt(function(r){if(!r)return e()},n)},Jb=U({},Dc),Mf=Jb.useInsertionEffect,Zb=function(e,n,r){_.useMemo(e,r),Xt(function(){return n(!0)},r)},eE=Mf?function(t,e,n){return Mf(function(){return t(),e()},n)}:Zb,tE=U({},Dc),nE=tE.useInsertionEffect,rE=function(e){var n=[],r=!1;function i(o){r||n.push(o)}return _.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(o){return o()})}},e),i},iE=function(){return function(e){e()}},oE=typeof nE<"u"?rE:iE;function jh(t,e,n,r,i){var o=_.useContext(Kc),s=o.cache,a=[t].concat(ce(e)),l=mu(a),u=oE([l]),h=function(S){s.opUpdate(l,function(C){var m=C||[void 0,void 0],x=J(m,2),A=x[0],O=A===void 0?0:A,M=x[1],N=M,k=N||n(),b=[O,k];return S?S(b):b})};_.useMemo(function(){h()},[l]);var f=s.opGet(l),g=f[1];return eE(function(){i==null||i(g)},function(E){return h(function(S){var C=J(S,2),m=C[0],x=C[1];return E&&m===0&&(i==null||i(g)),[m+1,x]}),function(){s.opUpdate(l,function(S){var C=S||[],m=J(C,2),x=m[0],A=x===void 0?0:x,O=m[1],M=A-1;return M===0?(u(function(){(E||!s.opGet(l))&&(r==null||r(O,!1))}),null):[A-1,O]})}},[l]),g}var sE={},aE="css",Ni=new Map;function cE(t){Ni.set(t,(Ni.get(t)||0)+1)}function lE(t,e){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(Io,'="').concat(t,'"]'));n.forEach(function(r){if(r[ci]===e){var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)}})}}var uE=0;function hE(t,e){Ni.set(t,(Ni.get(t)||0)-1);var n=Array.from(Ni.keys()),r=n.filter(function(i){var o=Ni.get(i)||0;return o<=0});n.length-r.length>uE&&r.forEach(function(i){lE(i,e),Ni.delete(i)})}var dE=function(e,n,r,i){var o=r.getDerivativeToken(e),s=U(U({},o),n);return i&&(s=i(s)),s},Lm="token";function fE(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=_.useContext(Kc),i=r.cache.instanceId,o=r.container,s=n.salt,a=s===void 0?"":s,l=n.override,u=l===void 0?sE:l,h=n.formatToken,f=n.getComputedToken,g=n.cssVar,E=Xb(function(){return Object.assign.apply(Object,[{}].concat(ce(e)))},e),S=vs(E),C=vs(u),m=g?vs(g):"",x=jh(Lm,[a,t.id,S,C,m],function(){var A,O=f?f(E,u,t):dE(E,u,t,h),M=U({},O),N="";if(g){var k=Vm(O,g.key,{prefix:g.prefix,ignore:g.ignore,unitless:g.unitless,preserve:g.preserve}),b=J(k,2);O=b[0],N=b[1]}var v=Pf(O,a);O._tokenKey=v,M._tokenKey=Pf(M,a);var y=(A=g==null?void 0:g.key)!==null&&A!==void 0?A:v;O._themeKey=y,cE(y);var I="".concat(aE,"-").concat(xs(v));return O._hashId=I,[O,I,M,N,(g==null?void 0:g.key)||""]},function(A){hE(A[0]._themeKey,i)},function(A){var O=J(A,4),M=O[0],N=O[3];if(g&&N){var k=Or(N,xs("css-variables-".concat(M._themeKey)),{mark:Qn,prepend:"queue",attachTo:o,priority:-999});k[ci]=i,k.setAttribute(Io,M._themeKey)}});return x}var pE=function(e,n,r){var i=J(e,5),o=i[2],s=i[3],a=i[4],l=r||{},u=l.plain;if(!s)return null;var h=o._tokenKey,f=-999,g={"data-rc-order":"prependQueue","data-rc-priority":"".concat(f)},E=uc(s,a,h,g,u);return[f,h,E]},gE={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Fm="comm",$m="rule",jm="decl",mE="@import",vE="@keyframes",yE="@layer",Um=Math.abs,Uh=String.fromCharCode;function Bm(t){return t.trim()}function Wa(t,e,n){return t.replace(e,n)}function _E(t,e,n){return t.indexOf(e,n)}function Ms(t,e){return t.charCodeAt(e)|0}function Co(t,e,n){return t.slice(e,n)}function sr(t){return t.length}function bE(t){return t.length}function Sa(t,e){return e.push(t),t}var Qc=1,Ao=1,zm=0,kn=0,vt=0,Uo="";function Bh(t,e,n,r,i,o,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Qc,column:Ao,length:s,return:"",siblings:a}}function EE(){return vt}function wE(){return vt=kn>0?Ms(Uo,--kn):0,Ao--,vt===10&&(Ao=1,Qc--),vt}function Xn(){return vt=kn<zm?Ms(Uo,kn++):0,Ao++,vt===10&&(Ao=1,Qc++),vt}function li(){return Ms(Uo,kn)}function qa(){return kn}function Xc(t,e){return Co(Uo,t,e)}function Ns(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function TE(t){return Qc=Ao=1,zm=sr(Uo=t),kn=0,[]}function SE(t){return Uo="",t}function Rl(t){return Bm(Xc(kn-1,_u(t===91?t+2:t===40?t+1:t)))}function IE(t){for(;(vt=li())&&vt<33;)Xn();return Ns(t)>2||Ns(vt)>3?"":" "}function CE(t,e){for(;--e&&Xn()&&!(vt<48||vt>102||vt>57&&vt<65||vt>70&&vt<97););return Xc(t,qa()+(e<6&&li()==32&&Xn()==32))}function _u(t){for(;Xn();)switch(vt){case t:return kn;case 34:case 39:t!==34&&t!==39&&_u(vt);break;case 40:t===41&&_u(t);break;case 92:Xn();break}return kn}function AE(t,e){for(;Xn()&&t+vt!==57;)if(t+vt===84&&li()===47)break;return"/*"+Xc(e,kn-1)+"*"+Uh(t===47?t:Xn())}function RE(t){for(;!Ns(li());)Xn();return Xc(t,kn)}function PE(t){return SE(Ga("",null,null,null,[""],t=TE(t),0,[0],t))}function Ga(t,e,n,r,i,o,s,a,l){for(var u=0,h=0,f=s,g=0,E=0,S=0,C=1,m=1,x=1,A=0,O="",M=i,N=o,k=r,b=O;m;)switch(S=A,A=Xn()){case 40:if(S!=108&&Ms(b,f-1)==58){_E(b+=Wa(Rl(A),"&","&\f"),"&\f",Um(u?a[u-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:b+=Rl(A);break;case 9:case 10:case 13:case 32:b+=IE(S);break;case 92:b+=CE(qa()-1,7);continue;case 47:switch(li()){case 42:case 47:Sa(xE(AE(Xn(),qa()),e,n,l),l),(Ns(S||1)==5||Ns(li()||1)==5)&&sr(b)&&Co(b,-1,void 0)!==" "&&(b+=" ");break;default:b+="/"}break;case 123*C:a[u++]=sr(b)*x;case 125*C:case 59:case 0:switch(A){case 0:case 125:m=0;case 59+h:x==-1&&(b=Wa(b,/\f/g,"")),E>0&&(sr(b)-f||C===0&&S===47)&&Sa(E>32?kf(b+";",r,n,f-1,l):kf(Wa(b," ","")+";",r,n,f-2,l),l);break;case 59:b+=";";default:if(Sa(k=Nf(b,e,n,u,h,i,a,O,M=[],N=[],f,o),o),A===123)if(h===0)Ga(b,e,k,k,M,o,f,a,N);else switch(g===99&&Ms(b,3)===110?100:g){case 100:case 108:case 109:case 115:Ga(t,k,k,r&&Sa(Nf(t,k,k,0,0,i,a,O,i,M=[],f,N),N),i,N,f,a,r?M:N);break;default:Ga(b,k,k,k,[""],N,0,a,N)}}u=h=E=0,C=x=1,O=b="",f=s;break;case 58:f=1+sr(b),E=S;default:if(C<1){if(A==123)--C;else if(A==125&&C++==0&&wE()==125)continue}switch(b+=Uh(A),A*C){case 38:x=h>0?1:(b+="\f",-1);break;case 44:a[u++]=(sr(b)-1)*x,x=1;break;case 64:li()===45&&(b+=Rl(Xn())),g=li(),h=f=sr(O=b+=RE(qa())),A++;break;case 45:S===45&&sr(b)==2&&(C=0)}}return o}function Nf(t,e,n,r,i,o,s,a,l,u,h,f){for(var g=i-1,E=i===0?o:[""],S=bE(E),C=0,m=0,x=0;C<r;++C)for(var A=0,O=Co(t,g+1,g=Um(m=s[C])),M=t;A<S;++A)(M=Bm(m>0?E[A]+" "+O:Wa(O,/&\f/g,E[A])))&&(l[x++]=M);return Bh(t,e,n,i===0?$m:a,l,u,h,f)}function xE(t,e,n,r){return Bh(t,e,n,Fm,Uh(EE()),Co(t,2,-2),0,r)}function kf(t,e,n,r,i){return Bh(t,e,n,jm,Co(t,0,r),Co(t,r+1,-1),r,i)}function bu(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function OE(t,e,n,r){switch(t.type){case yE:if(t.children.length)break;case mE:case jm:return t.return=t.return||t.value;case Fm:return"";case vE:return t.return=t.value+"{"+bu(t.children,r)+"}";case $m:if(!sr(t.value=t.props.join(",")))return""}return sr(n=bu(t.children,r))?t.return=t.value+"{"+n+"}":""}var Df="data-ant-cssinjs-cache-path",Hm="_FILE_STYLE__",Li,Wm=!0;function ME(){if(!Li&&(Li={},Tn())){var t=document.createElement("div");t.className=Df,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(i){var o=i.split(":"),s=J(o,2),a=s[0],l=s[1];Li[a]=l});var n=document.querySelector("style[".concat(Df,"]"));if(n){var r;Wm=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(t)}}function NE(t){return ME(),!!Li[t]}function kE(t){var e=Li[t],n=null;if(e&&Tn())if(Wm)n=Hm;else{var r=document.querySelector("style[".concat(Qn,'="').concat(Li[t],'"]'));r?n=r.innerHTML:delete Li[t]}return[n,e]}var DE="_skip_check_",qm="_multi_value_";function Ka(t){var e=bu(PE(t),OE);return e.replace(/\{%%%\:[^;];}/g,";")}function VE(t){return pe(t)==="object"&&t&&(DE in t||qm in t)}function Vf(t,e,n){if(!e)return t;var r=".".concat(e),i=n==="low"?":where(".concat(r,")"):r,o=t.split(",").map(function(s){var a,l=s.trim().split(/\s+/),u=l[0]||"",h=((a=u.match(/^\w+/))===null||a===void 0?void 0:a[0])||"";return u="".concat(h).concat(i).concat(u.slice(h.length)),[u].concat(ce(l.slice(1))).join(" ")});return o.join(",")}var LE=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,o=r.injectHash,s=r.parentSelectors,a=n.hashId,l=n.layer;n.path;var u=n.hashPriority,h=n.transformers,f=h===void 0?[]:h;n.linters;var g="",E={};function S(x){var A=x.getName(a);if(!E[A]){var O=t(x.style,n,{root:!1,parentSelectors:s}),M=J(O,1),N=M[0];E[A]="@keyframes ".concat(x.getName(a)).concat(N)}}function C(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return x.forEach(function(O){Array.isArray(O)?C(O,A):O&&A.push(O)}),A}var m=C(Array.isArray(e)?e:[e]);return m.forEach(function(x){var A=typeof x=="string"&&!i?{}:x;if(typeof A=="string")g+="".concat(A,`
`);else if(A._keyframe)S(A);else{var O=f.reduce(function(M,N){var k;return(N==null||(k=N.visit)===null||k===void 0?void 0:k.call(N,M))||M},A);Object.keys(O).forEach(function(M){var N=O[M];if(pe(N)==="object"&&N&&(M!=="animationName"||!N._keyframe)&&!VE(N)){var k=!1,b=M.trim(),v=!1;(i||o)&&a?b.startsWith("@")?k=!0:b==="&"?b=Vf("",a,u):b=Vf(M,a,u):i&&!a&&(b==="&"||b==="")&&(b="",v=!0);var y=t(N,n,{root:v,injectHash:k,parentSelectors:[].concat(ce(s),[b])}),I=J(y,2),R=I[0],P=I[1];E=U(U({},E),P),g+="".concat(b).concat(R)}else{let Y=function(F,V){var j=F.replace(/[A-Z]/g,function(q){return"-".concat(q.toLowerCase())}),z=V;!gE[F]&&typeof z=="number"&&z!==0&&(z="".concat(z,"px")),F==="animationName"&&V!==null&&V!==void 0&&V._keyframe&&(S(V),z=V.getName(a)),g+="".concat(j,":").concat(z,";")};var T,B=(T=N==null?void 0:N.value)!==null&&T!==void 0?T:N;pe(N)==="object"&&N!==null&&N!==void 0&&N[qm]&&Array.isArray(B)?B.forEach(function(F){Y(M,F)}):Y(M,B)}})}}),i?l&&(g="@layer ".concat(l.name," {").concat(g,"}"),l.dependencies&&(E["@layer ".concat(l.name)]=l.dependencies.map(function(x){return"@layer ".concat(x,", ").concat(l.name,";")}).join(`
`))):g="{".concat(g,"}"),[g,E]};function Gm(t,e){return xs("".concat(t.join("%")).concat(e))}function FE(){return null}var Km="style";function Eu(t,e){var n=t.token,r=t.path,i=t.hashId,o=t.layer,s=t.nonce,a=t.clientOnly,l=t.order,u=l===void 0?0:l,h=_.useContext(Kc),f=h.autoClear;h.mock;var g=h.defaultCache,E=h.hashPriority,S=h.container,C=h.ssrInline,m=h.transformers,x=h.linters,A=h.cache,O=h.layer,M=n._tokenKey,N=[M];O&&N.push("layer"),N.push.apply(N,ce(r));var k=yu,b=jh(Km,N,function(){var P=N.join("|");if(NE(P)){var T=kE(P),B=J(T,2),Y=B[0],F=B[1];if(Y)return[Y,M,F,{},a,u]}var V=e(),j=LE(V,{hashId:i,hashPriority:E,layer:O?o:void 0,path:r.join("-"),transformers:m,linters:x}),z=J(j,2),q=z[0],G=z[1],K=Ka(q),ee=Gm(N,K);return[K,M,ee,G,a,u]},function(P,T){var B=J(P,3),Y=B[2];(T||f)&&yu&&Os(Y,{mark:Qn})},function(P){var T=J(P,4),B=T[0];T[1];var Y=T[2],F=T[3];if(k&&B!==Hm){var V={mark:Qn,prepend:O?!1:"queue",attachTo:S,priority:u},j=typeof s=="function"?s():s;j&&(V.csp={nonce:j});var z=[],q=[];Object.keys(F).forEach(function(K){K.startsWith("@layer")?z.push(K):q.push(K)}),z.forEach(function(K){Or(Ka(F[K]),"_layer-".concat(K),U(U({},V),{},{prepend:!0}))});var G=Or(B,Y,V);G[ci]=A.instanceId,G.setAttribute(Io,M),q.forEach(function(K){Or(Ka(F[K]),"_effect-".concat(K),V)})}}),v=J(b,3),y=v[0],I=v[1],R=v[2];return function(P){var T;return!C||k||!g?T=_.createElement(FE,null):T=_.createElement("style",Ct({},L(L({},Io,I),Qn,R),{dangerouslySetInnerHTML:{__html:y}})),_.createElement(_.Fragment,null,T,P)}}var $E=function(e,n,r){var i=J(e,6),o=i[0],s=i[1],a=i[2],l=i[3],u=i[4],h=i[5],f=r||{},g=f.plain;if(u)return null;var E=o,S={"data-rc-order":"prependQueue","data-rc-priority":"".concat(h)};return E=uc(o,s,a,S,g),l&&Object.keys(l).forEach(function(C){if(!n[C]){n[C]=!0;var m=Ka(l[C]),x=uc(m,s,"_effect-".concat(C),S,g);C.startsWith("@layer")?E=x+E:E+=x}}),[h,a,E]},Qm="cssVar",jE=function(e,n){var r=e.key,i=e.prefix,o=e.unitless,s=e.ignore,a=e.token,l=e.scope,u=l===void 0?"":l,h=_.useContext(Kc),f=h.cache.instanceId,g=h.container,E=a._tokenKey,S=[].concat(ce(e.path),[r,u,E]),C=jh(Qm,S,function(){var m=n(),x=Vm(m,r,{prefix:i,unitless:o,ignore:s,scope:u}),A=J(x,2),O=A[0],M=A[1],N=Gm(S,M);return[O,M,N,r]},function(m){var x=J(m,3),A=x[2];yu&&Os(A,{mark:Qn})},function(m){var x=J(m,3),A=x[1],O=x[2];if(A){var M=Or(A,O,{mark:Qn,prepend:"queue",attachTo:g,priority:-999});M[ci]=f,M.setAttribute(Io,r)}});return C},UE=function(e,n,r){var i=J(e,4),o=i[1],s=i[2],a=i[3],l=r||{},u=l.plain;if(!o)return null;var h=-999,f={"data-rc-order":"prependQueue","data-rc-priority":"".concat(h)},g=uc(o,a,s,f,u);return[h,s,g]};L(L(L({},Km,$E),Lm,pE),Qm,UE);var Ln=function(){function t(e,n){Wt(this,t),L(this,"name",void 0),L(this,"style",void 0),L(this,"_keyframe",!0),this.name=e,this.style=n}return qt(t,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),t}();function io(t){return t.notSplit=!0,t}io(["borderTop","borderBottom"]),io(["borderTop"]),io(["borderBottom"]),io(["borderLeft","borderRight"]),io(["borderLeft"]),io(["borderRight"]);var zh=_.createContext({});function BE(t){return xm(t)||Cm(t)||Vh(t)||Om()}function ar(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function Xm(t,e,n,r){if(!e.length)return n;var i=BE(e),o=i[0],s=i.slice(1),a;return!t&&typeof o=="number"?a=[]:Array.isArray(t)?a=ce(t):a=U({},t),r&&n===void 0&&s.length===1?delete a[o][s[0]]:a[o]=Xm(a[o],s,n,r),a}function qn(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!ar(t,e.slice(0,-1))?t:Xm(t,e,n,r)}function zE(t){return pe(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function Lf(t){return Array.isArray(t)?[]:{}}var HE=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function go(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Lf(e[0]);return e.forEach(function(i){function o(s,a){var l=new Set(a),u=ar(i,s),h=Array.isArray(u);if(h||zE(u)){if(!l.has(u)){l.add(u);var f=ar(r,s);h?r=qn(r,s,[]):(!f||pe(f)!=="object")&&(r=qn(r,s,Lf(u))),HE(u).forEach(function(g){o([].concat(ce(s),[g]),l)})}}else r=qn(r,s,u)}o([])}),r}function WE(){}const qE=_.createContext({}),Ym=()=>{const t=()=>{};return t.deprecated=WE,t},GE=_.createContext(void 0);var KE={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},QE={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},XE=U(U({},QE),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const Jm={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Ff={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},XE),timePickerLocale:Object.assign({},Jm)},pn="${label} is not a valid ${type}",Ro={locale:"en",Pagination:KE,DatePicker:Ff,TimePicker:Jm,Calendar:Ff,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:pn,method:pn,array:pn,object:pn,number:pn,date:pn,boolean:pn,integer:pn,float:pn,regexp:pn,email:pn,url:pn,hex:pn},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let Qa=Object.assign({},Ro.Modal),Xa=[];const $f=()=>Xa.reduce((t,e)=>Object.assign(Object.assign({},t),e),Ro.Modal);function YE(t){if(t){const e=Object.assign({},t);return Xa.push(e),Qa=$f(),()=>{Xa=Xa.filter(n=>n!==e),Qa=$f()}}Qa=Object.assign({},Ro.Modal)}function ok(){return Qa}const Hh=_.createContext(void 0),sk=(t,e)=>{const n=_.useContext(Hh),r=_.useMemo(()=>{var o;const s=e||Ro[t],a=(o=n==null?void 0:n[t])!==null&&o!==void 0?o:{};return Object.assign(Object.assign({},typeof s=="function"?s():s),a||{})},[t,e,n]),i=_.useMemo(()=>{const o=n==null?void 0:n.locale;return n!=null&&n.exist&&!o?Ro.locale:o},[n]);return[r,i]},JE="internalMark",ZE=t=>{const{locale:e={},children:n,_ANT_MARK__:r}=t;_.useEffect(()=>YE(e==null?void 0:e.Modal),[e]);const i=_.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return _.createElement(Hh.Provider,{value:i},n)};function Nt(t,e){ew(t)&&(t="100%");var n=tw(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function Ia(t){return Math.min(1,Math.max(0,t))}function ew(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function tw(t){return typeof t=="string"&&t.indexOf("%")!==-1}function Zm(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Ca(t){return t<=1?"".concat(Number(t)*100,"%"):t}function ki(t){return t.length===1?"0"+t:String(t)}function nw(t,e,n){return{r:Nt(t,255)*255,g:Nt(e,255)*255,b:Nt(n,255)*255}}function jf(t,e,n){t=Nt(t,255),e=Nt(e,255),n=Nt(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,s=0,a=(r+i)/2;if(r===i)s=0,o=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function Pl(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function rw(t,e,n){var r,i,o;if(t=Nt(t,360),e=Nt(e,100),n=Nt(n,100),e===0)i=n,o=n,r=n;else{var s=n<.5?n*(1+e):n+e-n*e,a=2*n-s;r=Pl(a,s,t+1/3),i=Pl(a,s,t),o=Pl(a,s,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function wu(t,e,n){t=Nt(t,255),e=Nt(e,255),n=Nt(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,s=r,a=r-i,l=r===0?0:a/r;if(r===i)o=0;else{switch(r){case t:o=(e-n)/a+(e<n?6:0);break;case e:o=(n-t)/a+2;break;case n:o=(t-e)/a+4;break}o/=6}return{h:o,s:l,v:s}}function iw(t,e,n){t=Nt(t,360)*6,e=Nt(e,100),n=Nt(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,s,o,o,a,n][l],h=[a,n,n,s,o,o][l],f=[o,o,a,n,n,s][l];return{r:u*255,g:h*255,b:f*255}}function Tu(t,e,n,r){var i=[ki(Math.round(t).toString(16)),ki(Math.round(e).toString(16)),ki(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function ow(t,e,n,r,i){var o=[ki(Math.round(t).toString(16)),ki(Math.round(e).toString(16)),ki(Math.round(n).toString(16)),ki(sw(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function sw(t){return Math.round(parseFloat(t)*255).toString(16)}function Uf(t){return mn(t)/255}function mn(t){return parseInt(t,16)}function aw(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var Su={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function uo(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=uw(t)),typeof t=="object"&&(Ir(t.r)&&Ir(t.g)&&Ir(t.b)?(e=nw(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Ir(t.h)&&Ir(t.s)&&Ir(t.v)?(r=Ca(t.s),i=Ca(t.v),e=iw(t.h,r,i),s=!0,a="hsv"):Ir(t.h)&&Ir(t.s)&&Ir(t.l)&&(r=Ca(t.s),o=Ca(t.l),e=rw(t.h,r,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=Zm(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var cw="[-\\+]?\\d+%?",lw="[-\\+]?\\d*\\.\\d+%?",ui="(?:".concat(lw,")|(?:").concat(cw,")"),xl="[\\s|\\(]+(".concat(ui,")[,|\\s]+(").concat(ui,")[,|\\s]+(").concat(ui,")\\s*\\)?"),Ol="[\\s|\\(]+(".concat(ui,")[,|\\s]+(").concat(ui,")[,|\\s]+(").concat(ui,")[,|\\s]+(").concat(ui,")\\s*\\)?"),Wn={CSS_UNIT:new RegExp(ui),rgb:new RegExp("rgb"+xl),rgba:new RegExp("rgba"+Ol),hsl:new RegExp("hsl"+xl),hsla:new RegExp("hsla"+Ol),hsv:new RegExp("hsv"+xl),hsva:new RegExp("hsva"+Ol),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function uw(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(Su[t])t=Su[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Wn.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=Wn.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Wn.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=Wn.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Wn.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=Wn.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Wn.hex8.exec(t),n?{r:mn(n[1]),g:mn(n[2]),b:mn(n[3]),a:Uf(n[4]),format:e?"name":"hex8"}:(n=Wn.hex6.exec(t),n?{r:mn(n[1]),g:mn(n[2]),b:mn(n[3]),format:e?"name":"hex"}:(n=Wn.hex4.exec(t),n?{r:mn(n[1]+n[1]),g:mn(n[2]+n[2]),b:mn(n[3]+n[3]),a:Uf(n[4]+n[4]),format:e?"name":"hex8"}:(n=Wn.hex3.exec(t),n?{r:mn(n[1]+n[1]),g:mn(n[2]+n[2]),b:mn(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function Ir(t){return!!Wn.CSS_UNIT.exec(String(t))}var yn=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=aw(e)),this.originalInput=e;var i=uo(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,i,o=e.r/255,s=e.g/255,a=e.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=Zm(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=wu(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=wu(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=jf(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=jf(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),Tu(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),ow(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(Nt(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(Nt(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+Tu(this.r,this.g,this.b,!1),n=0,r=Object.entries(Su);n<r.length;n++){var i=r[n],o=i[0],s=i[1];if(e===s)return o}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,o=!n&&i&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=Ia(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=Ia(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=Ia(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=Ia(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return new t(s)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(new t(r));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(new t({h:r,s:i,v:o})),o=(o+a)%1;return s},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb(),i=n.a+r.a*(1-n.a);return new t({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],o=360/e,s=1;s<e;s++)i.push(new t({h:(r+s*o)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}(),Aa=2,Bf=.16,hw=.05,dw=.05,fw=.15,ev=5,tv=4,pw=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function zf(t){var e=t.r,n=t.g,r=t.b,i=wu(e,n,r);return{h:i.h*360,s:i.s,v:i.v}}function Ra(t){var e=t.r,n=t.g,r=t.b;return"#".concat(Tu(e,n,r,!1))}function gw(t,e,n){var r=n/100,i={r:(e.r-t.r)*r+t.r,g:(e.g-t.g)*r+t.g,b:(e.b-t.b)*r+t.b};return i}function Hf(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-Aa*e:Math.round(t.h)+Aa*e:r=n?Math.round(t.h)+Aa*e:Math.round(t.h)-Aa*e,r<0?r+=360:r>=360&&(r-=360),r}function Wf(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-Bf*e:e===tv?r=t.s+Bf:r=t.s+hw*e,r>1&&(r=1),n&&e===ev&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function qf(t,e,n){var r;return n?r=t.v+dw*e:r=t.v-fw*e,r>1&&(r=1),Number(r.toFixed(2))}function ks(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=uo(t),i=ev;i>0;i-=1){var o=zf(r),s=Ra(uo({h:Hf(o,i,!0),s:Wf(o,i,!0),v:qf(o,i,!0)}));n.push(s)}n.push(Ra(r));for(var a=1;a<=tv;a+=1){var l=zf(r),u=Ra(uo({h:Hf(l,a),s:Wf(l,a),v:qf(l,a)}));n.push(u)}return e.theme==="dark"?pw.map(function(h){var f=h.index,g=h.opacity,E=Ra(gw(uo(e.backgroundColor||"#141414"),uo(n[f]),g*100));return E}):n}var Ml={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Iu=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Iu.primary=Iu[5];var Cu=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Cu.primary=Cu[5];var Au=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];Au.primary=Au[5];var Ru=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Ru.primary=Ru[5];var Pu=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Pu.primary=Pu[5];var xu=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];xu.primary=xu[5];var Ou=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Ou.primary=Ou[5];var Mu=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Mu.primary=Mu[5];var hc=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];hc.primary=hc[5];var Nu=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Nu.primary=Nu[5];var ku=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];ku.primary=ku[5];var Du=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Du.primary=Du[5];var Vu=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Vu.primary=Vu[5];var Nl={red:Iu,volcano:Cu,orange:Au,gold:Ru,yellow:Pu,lime:xu,green:Ou,cyan:Mu,blue:hc,geekblue:Nu,purple:ku,magenta:Du,grey:Vu};const nv={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Ds=Object.assign(Object.assign({},nv),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});function mw(t,e){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=e;const{colorSuccess:i,colorWarning:o,colorError:s,colorInfo:a,colorPrimary:l,colorBgBase:u,colorTextBase:h}=t,f=n(l),g=n(i),E=n(o),S=n(s),C=n(a),m=r(u,h),x=t.colorLink||t.colorInfo,A=n(x);return Object.assign(Object.assign({},m),{colorPrimaryBg:f[1],colorPrimaryBgHover:f[2],colorPrimaryBorder:f[3],colorPrimaryBorderHover:f[4],colorPrimaryHover:f[5],colorPrimary:f[6],colorPrimaryActive:f[7],colorPrimaryTextHover:f[8],colorPrimaryText:f[9],colorPrimaryTextActive:f[10],colorSuccessBg:g[1],colorSuccessBgHover:g[2],colorSuccessBorder:g[3],colorSuccessBorderHover:g[4],colorSuccessHover:g[4],colorSuccess:g[6],colorSuccessActive:g[7],colorSuccessTextHover:g[8],colorSuccessText:g[9],colorSuccessTextActive:g[10],colorErrorBg:S[1],colorErrorBgHover:S[2],colorErrorBgActive:S[3],colorErrorBorder:S[3],colorErrorBorderHover:S[4],colorErrorHover:S[5],colorError:S[6],colorErrorActive:S[7],colorErrorTextHover:S[8],colorErrorText:S[9],colorErrorTextActive:S[10],colorWarningBg:E[1],colorWarningBgHover:E[2],colorWarningBorder:E[3],colorWarningBorderHover:E[4],colorWarningHover:E[4],colorWarning:E[6],colorWarningActive:E[7],colorWarningTextHover:E[8],colorWarningText:E[9],colorWarningTextActive:E[10],colorInfoBg:C[1],colorInfoBgHover:C[2],colorInfoBorder:C[3],colorInfoBorderHover:C[4],colorInfoHover:C[4],colorInfo:C[6],colorInfoActive:C[7],colorInfoTextHover:C[8],colorInfoText:C[9],colorInfoTextActive:C[10],colorLinkHover:A[4],colorLink:A[6],colorLinkActive:A[7],colorBgMask:new yn("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const vw=t=>{let e=t,n=t,r=t,i=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?r=1:t>=6&&(r=2),t>4&&t<8?i=4:t>=8&&(i=6),{borderRadius:t,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:i}};function yw(t){const{motionUnit:e,motionBase:n,borderRadius:r,lineWidth:i}=t;return Object.assign({motionDurationFast:`${(n+e).toFixed(1)}s`,motionDurationMid:`${(n+e*2).toFixed(1)}s`,motionDurationSlow:`${(n+e*3).toFixed(1)}s`,lineWidthBold:i+1},vw(r))}const _w=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function Ya(t){return(t+8)/t}function bw(t){const e=new Array(10).fill(null).map((n,r)=>{const i=r-1,o=t*Math.pow(Math.E,i/5),s=r>1?Math.floor(o):Math.ceil(o);return Math.floor(s/2)*2});return e[1]=t,e.map(n=>({size:n,lineHeight:Ya(n)}))}const Ew=t=>{const e=bw(t),n=e.map(h=>h.size),r=e.map(h=>h.lineHeight),i=n[1],o=n[0],s=n[2],a=r[1],l=r[0],u=r[2];return{fontSizeSM:o,fontSize:i,fontSizeLG:s,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:a,lineHeightLG:u,lineHeightSM:l,fontHeight:Math.round(a*i),fontHeightLG:Math.round(u*s),fontHeightSM:Math.round(l*o),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function ww(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}const Cr=(t,e)=>new yn(t).setAlpha(e).toRgbString(),os=(t,e)=>new yn(t).darken(e).toHexString(),Tw=t=>{const e=ks(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},Sw=(t,e)=>{const n=t||"#fff",r=e||"#000";return{colorBgBase:n,colorTextBase:r,colorText:Cr(r,.88),colorTextSecondary:Cr(r,.65),colorTextTertiary:Cr(r,.45),colorTextQuaternary:Cr(r,.25),colorFill:Cr(r,.15),colorFillSecondary:Cr(r,.06),colorFillTertiary:Cr(r,.04),colorFillQuaternary:Cr(r,.02),colorBgLayout:os(n,4),colorBgContainer:os(n,0),colorBgElevated:os(n,0),colorBgSpotlight:Cr(r,.85),colorBgBlur:"transparent",colorBorder:os(n,15),colorBorderSecondary:os(n,6)}};function Iw(t){Ml.pink=Ml.magenta,Nl.pink=Nl.magenta;const e=Object.keys(nv).map(n=>{const r=t[n]===Ml[n]?Nl[n]:ks(t[n]);return new Array(10).fill(1).reduce((i,o,s)=>(i[`${n}-${s+1}`]=r[s],i[`${n}${s+1}`]=r[s],i),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),mw(t,{generateColorPalettes:Tw,generateNeutralColorPalettes:Sw})),Ew(t.fontSize)),ww(t)),_w(t)),yw(t))}const rv=vu(Iw),Lu={token:Ds,override:{override:Ds},hashed:!0},iv=me.createContext(Lu),Vs="ant",Wh="anticon",Cw=["outlined","borderless","filled"],Aw=(t,e)=>e||(t?`${Vs}-${t}`:Vs),Zt=_.createContext({getPrefixCls:Aw,iconPrefixCls:Wh}),Rw=`-ant-${Date.now()}-${Math.random()}`;function Pw(t,e){const n={},r=(s,a)=>{let l=s.clone();return l=(a==null?void 0:a(l))||l,l.toRgbString()},i=(s,a)=>{const l=new yn(s),u=ks(l.toRgbString());n[`${a}-color`]=r(l),n[`${a}-color-disabled`]=u[1],n[`${a}-color-hover`]=u[4],n[`${a}-color-active`]=u[6],n[`${a}-color-outline`]=l.clone().setAlpha(.2).toRgbString(),n[`${a}-color-deprecated-bg`]=u[0],n[`${a}-color-deprecated-border`]=u[2]};if(e.primaryColor){i(e.primaryColor,"primary");const s=new yn(e.primaryColor),a=ks(s.toRgbString());a.forEach((u,h)=>{n[`primary-${h+1}`]=u}),n["primary-color-deprecated-l-35"]=r(s,u=>u.lighten(35)),n["primary-color-deprecated-l-20"]=r(s,u=>u.lighten(20)),n["primary-color-deprecated-t-20"]=r(s,u=>u.tint(20)),n["primary-color-deprecated-t-50"]=r(s,u=>u.tint(50)),n["primary-color-deprecated-f-12"]=r(s,u=>u.setAlpha(u.getAlpha()*.12));const l=new yn(a[0]);n["primary-color-active-deprecated-f-30"]=r(l,u=>u.setAlpha(u.getAlpha()*.3)),n["primary-color-active-deprecated-d-02"]=r(l,u=>u.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(s=>`--${t}-${s}: ${n[s]};`).join(`
`)}
  }
  `.trim()}function xw(t,e){const n=Pw(t,e);Tn()&&Or(n,`${Rw}-dynamic-theme`)}const dc=_.createContext(!1),Ow=t=>{let{children:e,disabled:n}=t;const r=_.useContext(dc);return _.createElement(dc.Provider,{value:n??r},e)},Po=_.createContext(void 0),Mw=t=>{let{children:e,size:n}=t;const r=_.useContext(Po);return _.createElement(Po.Provider,{value:n||r},e)};function Nw(){const t=_.useContext(dc),e=_.useContext(Po);return{componentDisabled:t,componentSize:e}}var ov=qt(function t(){Wt(this,t)}),sv="CALC_UNIT",kw=new RegExp(sv,"g");function kl(t){return typeof t=="number"?"".concat(t).concat(sv):t}var Dw=function(t){Gi(n,t);var e=Ki(n);function n(r,i){var o;Wt(this,n),o=e.call(this),L(ye(o),"result",""),L(ye(o),"unitlessCssVar",void 0),L(ye(o),"lowPriority",void 0);var s=pe(r);return o.unitlessCssVar=i,r instanceof n?o.result="(".concat(r.result,")"):s==="number"?o.result=kl(r):s==="string"&&(o.result=r),o}return qt(n,[{key:"add",value:function(i){return i instanceof n?this.result="".concat(this.result," + ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," + ").concat(kl(i))),this.lowPriority=!0,this}},{key:"sub",value:function(i){return i instanceof n?this.result="".concat(this.result," - ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," - ").concat(kl(i))),this.lowPriority=!0,this}},{key:"mul",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof n?this.result="".concat(this.result," * ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," * ").concat(i)),this.lowPriority=!1,this}},{key:"div",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof n?this.result="".concat(this.result," / ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," / ").concat(i)),this.lowPriority=!1,this}},{key:"getResult",value:function(i){return this.lowPriority||i?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(i){var o=this,s=i||{},a=s.unit,l=!0;return typeof a=="boolean"?l=a:Array.from(this.unitlessCssVar).some(function(u){return o.result.includes(u)})&&(l=!1),this.result=this.result.replace(kw,l?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),n}(ov),Vw=function(t){Gi(n,t);var e=Ki(n);function n(r){var i;return Wt(this,n),i=e.call(this),L(ye(i),"result",0),r instanceof n?i.result=r.result:typeof r=="number"&&(i.result=r),i}return qt(n,[{key:"add",value:function(i){return i instanceof n?this.result+=i.result:typeof i=="number"&&(this.result+=i),this}},{key:"sub",value:function(i){return i instanceof n?this.result-=i.result:typeof i=="number"&&(this.result-=i),this}},{key:"mul",value:function(i){return i instanceof n?this.result*=i.result:typeof i=="number"&&(this.result*=i),this}},{key:"div",value:function(i){return i instanceof n?this.result/=i.result:typeof i=="number"&&(this.result/=i),this}},{key:"equal",value:function(){return this.result}}]),n}(ov),Lw=function(e,n){var r=e==="css"?Dw:Vw;return function(i){return new r(i,n)}},Gf=function(e,n){return"".concat([n,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function vn(t){var e=_.useRef();e.current=t;var n=_.useCallback(function(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return n}function Ls(t){var e=_.useRef(!1),n=_.useState(t),r=J(n,2),i=r[0],o=r[1];_.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function s(a,l){l&&e.current||o(a)}return[i,s]}function Dl(t){return t!==void 0}function Fw(t,e){var n=e||{},r=n.defaultValue,i=n.value,o=n.onChange,s=n.postState,a=Ls(function(){return Dl(i)?i:Dl(r)?typeof r=="function"?r():r:typeof t=="function"?t():t}),l=J(a,2),u=l[0],h=l[1],f=i!==void 0?i:u,g=s?s(f):f,E=vn(o),S=Ls([f]),C=J(S,2),m=C[0],x=C[1];Of(function(){var O=m[0];u!==O&&E(u,O)},[m]),Of(function(){Dl(i)||h(i)},[i]);var A=vn(function(O,M){h(O,M),x([f],M)});return[g,A]}function Kf(t,e,n,r){var i=U({},e[t]);if(r!=null&&r.deprecatedTokens){var o=r.deprecatedTokens;o.forEach(function(a){var l=J(a,2),u=l[0],h=l[1];if(i!=null&&i[u]||i!=null&&i[h]){var f;(f=i[h])!==null&&f!==void 0||(i[h]=i==null?void 0:i[u])}})}var s=U(U({},n),i);return Object.keys(s).forEach(function(a){s[a]===e[a]&&delete s[a]}),s}var av=typeof CSSINJS_STATISTIC<"u",Fu=!0;function Sn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!av)return Object.assign.apply(Object,[{}].concat(e));Fu=!1;var r={};return e.forEach(function(i){if(pe(i)==="object"){var o=Object.keys(i);o.forEach(function(s){Object.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return i[s]}})})}}),Fu=!0,r}var Qf={};function $w(){}var jw=function(e){var n,r=e,i=$w;return av&&typeof Proxy<"u"&&(n=new Set,r=new Proxy(e,{get:function(s,a){if(Fu){var l;(l=n)===null||l===void 0||l.add(a)}return s[a]}}),i=function(s,a){var l;Qf[s]={global:Array.from(n),component:U(U({},(l=Qf[s])===null||l===void 0?void 0:l.component),a)}}),{token:r,keys:n,flush:i}};function Xf(t,e,n){if(typeof n=="function"){var r;return n(Sn(e,(r=e[t])!==null&&r!==void 0?r:{}))}return n??{}}function Uw(t){return t==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return"max(".concat(r.map(function(o){return Se(o)}).join(","),")")},min:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return"min(".concat(r.map(function(o){return Se(o)}).join(","),")")}}}var Bw=1e3*60*10,zw=function(){function t(){Wt(this,t),L(this,"map",new Map),L(this,"objectIDMap",new WeakMap),L(this,"nextID",0),L(this,"lastAccessBeat",new Map),L(this,"accessBeat",0)}return qt(t,[{key:"set",value:function(n,r){this.clear();var i=this.getCompositeKey(n);this.map.set(i,r),this.lastAccessBeat.set(i,Date.now())}},{key:"get",value:function(n){var r=this.getCompositeKey(n),i=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,i}},{key:"getCompositeKey",value:function(n){var r=this,i=n.map(function(o){return o&&pe(o)==="object"?"obj_".concat(r.getObjectID(o)):"".concat(pe(o),"_").concat(o)});return i.join("|")}},{key:"getObjectID",value:function(n){if(this.objectIDMap.has(n))return this.objectIDMap.get(n);var r=this.nextID;return this.objectIDMap.set(n,r),this.nextID+=1,r}},{key:"clear",value:function(){var n=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(i,o){r-i>Bw&&(n.map.delete(o),n.lastAccessBeat.delete(o))}),this.accessBeat=0}}}]),t}(),Yf=new zw;function Hw(t,e){return me.useMemo(function(){var n=Yf.get(e);if(n)return n;var r=t();return Yf.set(e,r),r},e)}var Ww=function(){return{}};function qw(t){var e=t.useCSP,n=e===void 0?Ww:e,r=t.useToken,i=t.usePrefix,o=t.getResetStyles,s=t.getCommonStyle,a=t.getCompUnitless;function l(g,E,S,C){var m=Array.isArray(g)?g[0]:g;function x(v){return"".concat(String(m)).concat(v.slice(0,1).toUpperCase()).concat(v.slice(1))}var A=(C==null?void 0:C.unitless)||{},O=typeof a=="function"?a(g):{},M=U(U({},O),{},L({},x("zIndexPopup"),!0));Object.keys(A).forEach(function(v){M[x(v)]=A[v]});var N=U(U({},C),{},{unitless:M,prefixToken:x}),k=h(g,E,S,N),b=u(m,S,N);return function(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v,I=k(v,y),R=J(I,2),P=R[1],T=b(y),B=J(T,2),Y=B[0],F=B[1];return[Y,P,F]}}function u(g,E,S){var C=S.unitless,m=S.injectStyle,x=m===void 0?!0:m,A=S.prefixToken,O=S.ignore,M=function(b){var v=b.rootCls,y=b.cssVar,I=y===void 0?{}:y,R=r(),P=R.realToken;return jE({path:[g],prefix:I.prefix,key:I.key,unitless:C,ignore:O,token:P,scope:v},function(){var T=Xf(g,P,E),B=Kf(g,P,T,{deprecatedTokens:S==null?void 0:S.deprecatedTokens});return Object.keys(T).forEach(function(Y){B[A(Y)]=B[Y],delete B[Y]}),B}),null},N=function(b){var v=r(),y=v.cssVar;return[function(I){return x&&y?me.createElement(me.Fragment,null,me.createElement(M,{rootCls:b,cssVar:y,component:g}),I):I},y==null?void 0:y.key]};return N}function h(g,E,S){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},m=Array.isArray(g)?g:[g,g],x=J(m,1),A=x[0],O=m.join("-"),M=t.layer||{name:"antd"};return function(N){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N,b=r(),v=b.theme,y=b.realToken,I=b.hashId,R=b.token,P=b.cssVar,T=i(),B=T.rootPrefixCls,Y=T.iconPrefixCls,F=n(),V=P?"css":"js",j=Hw(function(){var X=new Set;return P&&Object.keys(C.unitless||{}).forEach(function(oe){X.add(Ha(oe,P.prefix)),X.add(Ha(oe,Gf(A,P.prefix)))}),Lw(V,X)},[V,A,P==null?void 0:P.prefix]),z=Uw(V),q=z.max,G=z.min,K={theme:v,token:R,hashId:I,nonce:function(){return F.nonce},clientOnly:C.clientOnly,layer:M,order:C.order||-999};Eu(U(U({},K),{},{clientOnly:!1,path:["Shared",B]}),function(){return typeof o=="function"?o(R):[]});var ee=Eu(U(U({},K),{},{path:[O,N,Y]}),function(){if(C.injectStyle===!1)return[];var X=jw(R),oe=X.token,Ie=X.flush,le=Xf(A,y,S),Ge=".".concat(N),it=Kf(A,y,le,{deprecatedTokens:C.deprecatedTokens});P&&le&&pe(le)==="object"&&Object.keys(le).forEach(function(Ke){le[Ke]="var(".concat(Ha(Ke,Gf(A,P.prefix)),")")});var et=Sn(oe,{componentCls:Ge,prefixCls:N,iconCls:".".concat(Y),antCls:".".concat(B),calc:j,max:q,min:G},P?le:it),ze=E(et,{hashId:I,prefixCls:N,rootPrefixCls:B,iconPrefixCls:Y});Ie(A,it);var ke=typeof s=="function"?s(et,N,k,C.resetFont):null;return[C.resetStyle===!1?null:ke,ze]});return[ee,I]}}function f(g,E,S){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},m=h(g,E,S,U({resetStyle:!1,order:-998},C)),x=function(O){var M=O.prefixCls,N=O.rootCls,k=N===void 0?M:N;return m(M,k),null};return x}return{genStyleHooks:l,genSubStyleComponent:f,genComponentStyleHook:h}}const fc=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],Gw="5.20.6";function Vl(t){return t>=0&&t<=255}function Pa(t,e){const{r:n,g:r,b:i,a:o}=new yn(t).toRgb();if(o<1)return t;const{r:s,g:a,b:l}=new yn(e).toRgb();for(let u=.01;u<=1;u+=.01){const h=Math.round((n-s*(1-u))/u),f=Math.round((r-a*(1-u))/u),g=Math.round((i-l*(1-u))/u);if(Vl(h)&&Vl(f)&&Vl(g))return new yn({r:h,g:f,b:g,a:Math.round(u*100)/100}).toRgbString()}return new yn({r:n,g:r,b:i,a:1}).toRgbString()}var Kw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function cv(t){const{override:e}=t,n=Kw(t,["override"]),r=Object.assign({},e);Object.keys(Ds).forEach(g=>{delete r[g]});const i=Object.assign(Object.assign({},n),r),o=480,s=576,a=768,l=992,u=1200,h=1600;if(i.motion===!1){const g="0s";i.motionDurationFast=g,i.motionDurationMid=g,i.motionDurationSlow=g}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:Pa(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:Pa(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:Pa(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*4,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:Pa(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:s-1,screenSM:s,screenSMMin:s,screenSMMax:a-1,screenMD:a,screenMDMin:a,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:u-1,screenXL:u,screenXLMin:u,screenXLMax:h-1,screenXXL:h,screenXXLMin:h,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new yn("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new yn("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new yn("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var Jf=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const lv={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},Qw={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},Xw={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},uv=(t,e,n)=>{const r=n.getDerivativeToken(t),{override:i}=e,o=Jf(e,["override"]);let s=Object.assign(Object.assign({},r),{override:i});return s=cv(s),o&&Object.entries(o).forEach(a=>{let[l,u]=a;const{theme:h}=u,f=Jf(u,["theme"]);let g=f;h&&(g=uv(Object.assign(Object.assign({},s),f),{override:f},h)),s[l]=g}),s};function Fr(){const{token:t,hashed:e,theme:n,override:r,cssVar:i}=me.useContext(iv),o=`${Gw}-${e||""}`,s=n||rv,[a,l,u]=fE(s,[Ds,t],{salt:o,override:r,getComputedToken:uv,formatToken:cv,cssVar:i&&{prefix:i.prefix,key:i.key,unitless:lv,ignore:Qw,preserve:Xw}});return[s,u,e?l:"",a,i]}const ak={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},qh=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:e?"inherit":t.fontFamily}},Yw=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),Jw=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),Zw=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active, &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),eT=(t,e,n,r)=>{const i=`[class^="${e}"], [class*=" ${e}"]`,o=n?`.${n}`:i,s={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let a={};return r!==!1&&(a={fontFamily:t.fontFamily,fontSize:t.fontSize}),{[o]:Object.assign(Object.assign(Object.assign({},a),s),{[i]:s})}},tT=t=>({outline:`${Se(t.lineWidthFocus)} solid ${t.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),nT=t=>({"&:focus-visible":Object.assign({},tT(t))}),hv=(t,e)=>{const[n,r]=Fr();return Eu({theme:n,token:r,hashId:"",path:["ant-design-icons",t],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[{[`.${t}`]:Object.assign(Object.assign({},Yw()),{[`.${t} .${t}-icon`]:{display:"block"}})}])},{genStyleHooks:Bo,genComponentStyleHook:rT,genSubStyleComponent:iT}=qw({usePrefix:()=>{const{getPrefixCls:t,iconPrefixCls:e}=_.useContext(Zt);return{rootPrefixCls:t(),iconPrefixCls:e}},useToken:()=>{const[t,e,n,r,i]=Fr();return{theme:t,realToken:e,hashId:n,token:r,cssVar:i}},useCSP:()=>{const{csp:t,iconPrefixCls:e}=_.useContext(Zt);return hv(e,t),t??{}},getResetStyles:t=>[{"&":Zw(t)}],getCommonStyle:eT,getCompUnitless:()=>lv});function oT(t,e){return fc.reduce((n,r)=>{const i=t[`${r}1`],o=t[`${r}3`],s=t[`${r}6`],a=t[`${r}7`];return Object.assign(Object.assign({},n),e(r,{lightColor:i,lightBorderColor:o,darkColor:s,textColor:a}))},{})}const sT=Object.assign({},Dc),{useId:Zf}=sT,aT=()=>"",cT=typeof Zf>"u"?aT:Zf;function lT(t,e,n){var r;Ym();const i=t||{},o=i.inherit===!1||!e?Object.assign(Object.assign({},Lu),{hashed:(r=e==null?void 0:e.hashed)!==null&&r!==void 0?r:Lu.hashed,cssVar:e==null?void 0:e.cssVar}):e,s=cT();return Oh(()=>{var a,l;if(!t)return e;const u=Object.assign({},o.components);Object.keys(t.components||{}).forEach(g=>{u[g]=Object.assign(Object.assign({},u[g]),t.components[g])});const h=`css-var-${s.replace(/:/g,"")}`,f=((a=i.cssVar)!==null&&a!==void 0?a:o.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n==null?void 0:n.prefixCls},typeof o.cssVar=="object"?o.cssVar:{}),typeof i.cssVar=="object"?i.cssVar:{}),{key:typeof i.cssVar=="object"&&((l=i.cssVar)===null||l===void 0?void 0:l.key)||h});return Object.assign(Object.assign(Object.assign({},o),i),{token:Object.assign(Object.assign({},o.token),i.token),components:u,cssVar:f})},[i,o],(a,l)=>a.some((u,h)=>{const f=l[h];return!gu(u,f,!0)}))}var uT=["children"],dv=_.createContext({});function hT(t){var e=t.children,n=fr(t,uT);return _.createElement(dv.Provider,{value:n},e)}var dT=function(t){Gi(n,t);var e=Ki(n);function n(){return Wt(this,n),e.apply(this,arguments)}return qt(n,[{key:"render",value:function(){return this.props.children}}]),n}(_.Component);function fT(t){var e=_.useReducer(function(a){return a+1},0),n=J(e,2),r=n[1],i=_.useRef(t),o=vn(function(){return i.current}),s=vn(function(a){i.current=typeof a=="function"?a(i.current):a,r()});return[o,s]}var ti="none",xa="appear",Oa="enter",Ma="leave",ep="none",Gn="prepare",mo="start",vo="active",Gh="end",fv="prepared";function tp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function pT(t,e){var n={animationend:tp("Animation","AnimationEnd"),transitionend:tp("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var gT=pT(Tn(),typeof window<"u"?window:{}),pv={};if(Tn()){var mT=document.createElement("div");pv=mT.style}var Na={};function gv(t){if(Na[t])return Na[t];var e=gT[t];if(e)for(var n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(e,o)&&o in pv)return Na[t]=e[o],Na[t]}return""}var mv=gv("animationend"),vv=gv("transitionend"),yv=!!(mv&&vv),np=mv||"animationend",rp=vv||"transitionend";function ip(t,e){if(!t)return null;if(pe(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}const vT=function(t){var e=_.useRef();function n(i){i&&(i.removeEventListener(rp,t),i.removeEventListener(np,t))}function r(i){e.current&&e.current!==i&&n(e.current),i&&i!==e.current&&(i.addEventListener(rp,t),i.addEventListener(np,t),e.current=i)}return _.useEffect(function(){return function(){n(e.current)}},[]),[r,n]};var _v=Tn()?_.useLayoutEffect:_.useEffect;const yT=function(){var t=_.useRef(null);function e(){ji.cancel(t.current)}function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var o=ji(function(){i<=1?r({isCanceled:function(){return o!==t.current}}):n(r,i-1)});t.current=o}return _.useEffect(function(){return function(){e()}},[]),[n,e]};var _T=[Gn,mo,vo,Gh],bT=[Gn,fv],bv=!1,ET=!0;function Ev(t){return t===vo||t===Gh}const wT=function(t,e,n){var r=Ls(ep),i=J(r,2),o=i[0],s=i[1],a=yT(),l=J(a,2),u=l[0],h=l[1];function f(){s(Gn,!0)}var g=e?bT:_T;return _v(function(){if(o!==ep&&o!==Gh){var E=g.indexOf(o),S=g[E+1],C=n(o);C===bv?s(S,!0):S&&u(function(m){function x(){m.isCanceled()||s(S,!0)}C===!0?x():Promise.resolve(C).then(x)})}},[t,o]),_.useEffect(function(){return function(){h()}},[]),[f,o]};function TT(t,e,n,r){var i=r.motionEnter,o=i===void 0?!0:i,s=r.motionAppear,a=s===void 0?!0:s,l=r.motionLeave,u=l===void 0?!0:l,h=r.motionDeadline,f=r.motionLeaveImmediately,g=r.onAppearPrepare,E=r.onEnterPrepare,S=r.onLeavePrepare,C=r.onAppearStart,m=r.onEnterStart,x=r.onLeaveStart,A=r.onAppearActive,O=r.onEnterActive,M=r.onLeaveActive,N=r.onAppearEnd,k=r.onEnterEnd,b=r.onLeaveEnd,v=r.onVisibleChanged,y=Ls(),I=J(y,2),R=I[0],P=I[1],T=fT(ti),B=J(T,2),Y=B[0],F=B[1],V=Ls(null),j=J(V,2),z=j[0],q=j[1],G=Y(),K=_.useRef(!1),ee=_.useRef(null);function X(){return n()}var oe=_.useRef(!1);function Ie(){F(ti),q(null,!0)}var le=vn(function(Re){var ve=Y();if(ve!==ti){var ot=X();if(!(Re&&!Re.deadline&&Re.target!==ot)){var re=oe.current,be;ve===xa&&re?be=N==null?void 0:N(ot,Re):ve===Oa&&re?be=k==null?void 0:k(ot,Re):ve===Ma&&re&&(be=b==null?void 0:b(ot,Re)),re&&be!==!1&&Ie()}}}),Ge=vT(le),it=J(Ge,1),et=it[0],ze=function(ve){switch(ve){case xa:return L(L(L({},Gn,g),mo,C),vo,A);case Oa:return L(L(L({},Gn,E),mo,m),vo,O);case Ma:return L(L(L({},Gn,S),mo,x),vo,M);default:return{}}},ke=_.useMemo(function(){return ze(G)},[G]),Ke=wT(G,!t,function(Re){if(Re===Gn){var ve=ke[Gn];return ve?ve(X()):bv}if(Ue in ke){var ot;q(((ot=ke[Ue])===null||ot===void 0?void 0:ot.call(ke,X(),null))||null)}return Ue===vo&&G!==ti&&(et(X()),h>0&&(clearTimeout(ee.current),ee.current=setTimeout(function(){le({deadline:!0})},h))),Ue===fv&&Ie(),ET}),Me=J(Ke,2),ht=Me[0],Ue=Me[1],pt=Ev(Ue);oe.current=pt,_v(function(){P(e);var Re=K.current;K.current=!0;var ve;!Re&&e&&a&&(ve=xa),Re&&e&&o&&(ve=Oa),(Re&&!e&&u||!Re&&f&&!e&&u)&&(ve=Ma);var ot=ze(ve);ve&&(t||ot[Gn])?(F(ve),ht()):F(ti)},[e]),_.useEffect(function(){(G===xa&&!a||G===Oa&&!o||G===Ma&&!u)&&F(ti)},[a,o,u]),_.useEffect(function(){return function(){K.current=!1,clearTimeout(ee.current)}},[]);var Qe=_.useRef(!1);_.useEffect(function(){R&&(Qe.current=!0),R!==void 0&&G===ti&&((Qe.current||R)&&(v==null||v(R)),Qe.current=!0)},[R,G]);var _t=z;return ke[Gn]&&Ue===mo&&(_t=U({transition:"none"},_t)),[G,Ue,_t,R??e]}function ST(t){var e=t;pe(t)==="object"&&(e=t.transitionSupport);function n(i,o){return!!(i.motionName&&e&&o!==!1)}var r=_.forwardRef(function(i,o){var s=i.visible,a=s===void 0?!0:s,l=i.removeOnLeave,u=l===void 0?!0:l,h=i.forceRender,f=i.children,g=i.motionName,E=i.leavedClassName,S=i.eventProps,C=_.useContext(dv),m=C.motion,x=n(i,m),A=_.useRef(),O=_.useRef();function M(){try{return A.current instanceof HTMLElement?A.current:za(O.current)}catch{return null}}var N=TT(x,a,M,i),k=J(N,4),b=k[0],v=k[1],y=k[2],I=k[3],R=_.useRef(I);I&&(R.current=!0);var P=_.useCallback(function(z){A.current=z,Mh(o,z)},[o]),T,B=U(U({},S),{},{visible:a});if(!f)T=null;else if(b===ti)I?T=f(U({},B),P):!u&&R.current&&E?T=f(U(U({},B),{},{className:E}),P):h||!u&&!E?T=f(U(U({},B),{},{style:{display:"none"}}),P):T=null;else{var Y;v===Gn?Y="prepare":Ev(v)?Y="active":v===mo&&(Y="start");var F=ip(g,"".concat(b,"-").concat(Y));T=f(U(U({},B),{},{className:Je(ip(g,b),L(L({},F,F&&Y),g,typeof g=="string")),style:y}),P)}if(_.isValidElement(T)&&jo(T)){var V=T,j=V.ref;j||(T=_.cloneElement(T,{ref:P}))}return _.createElement(dT,{ref:O},T)});return r.displayName="CSSMotion",r}const Xs=ST(yv);var $u="add",ju="keep",Uu="remove",Ll="removed";function IT(t){var e;return t&&pe(t)==="object"&&"key"in t?e=t:e={key:t},U(U({},e),{},{key:String(e.key)})}function Bu(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(IT)}function CT(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,i=e.length,o=Bu(t),s=Bu(e);o.forEach(function(u){for(var h=!1,f=r;f<i;f+=1){var g=s[f];if(g.key===u.key){r<f&&(n=n.concat(s.slice(r,f).map(function(E){return U(U({},E),{},{status:$u})})),r=f),n.push(U(U({},g),{},{status:ju})),r+=1,h=!0;break}}h||n.push(U(U({},u),{},{status:Uu}))}),r<i&&(n=n.concat(s.slice(r).map(function(u){return U(U({},u),{},{status:$u})})));var a={};n.forEach(function(u){var h=u.key;a[h]=(a[h]||0)+1});var l=Object.keys(a).filter(function(u){return a[u]>1});return l.forEach(function(u){n=n.filter(function(h){var f=h.key,g=h.status;return f!==u||g!==Uu}),n.forEach(function(h){h.key===u&&(h.status=ju)})}),n}var AT=["component","children","onVisibleChanged","onAllRemoved"],RT=["status"],PT=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function xT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xs,n=function(r){Gi(o,r);var i=Ki(o);function o(){var s;Wt(this,o);for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return s=i.call.apply(i,[this].concat(l)),L(ye(s),"state",{keyEntities:[]}),L(ye(s),"removeKey",function(h){s.setState(function(f){var g=f.keyEntities.map(function(E){return E.key!==h?E:U(U({},E),{},{status:Ll})});return{keyEntities:g}},function(){var f=s.state.keyEntities,g=f.filter(function(E){var S=E.status;return S!==Ll}).length;g===0&&s.props.onAllRemoved&&s.props.onAllRemoved()})}),s}return qt(o,[{key:"render",value:function(){var a=this,l=this.state.keyEntities,u=this.props,h=u.component,f=u.children,g=u.onVisibleChanged;u.onAllRemoved;var E=fr(u,AT),S=h||_.Fragment,C={};return PT.forEach(function(m){C[m]=E[m],delete E[m]}),delete E.keys,_.createElement(S,E,l.map(function(m,x){var A=m.status,O=fr(m,RT),M=A===$u||A===ju;return _.createElement(e,Ct({},C,{key:O.key,visible:M,eventProps:O,onVisibleChanged:function(k){g==null||g(k,{key:O.key}),k||a.removeKey(O.key)}}),function(N,k){return f(U(U({},N),{},{index:x}),k)})}))}}],[{key:"getDerivedStateFromProps",value:function(a,l){var u=a.keys,h=l.keyEntities,f=Bu(u),g=CT(h,f);return{keyEntities:g.filter(function(E){var S=h.find(function(C){var m=C.key;return E.key===m});return!(S&&S.status===Ll&&E.status===Uu)})}}}]),o}(_.Component);return L(n,"defaultProps",{component:"div"}),n}const ck=xT(yv);function OT(t){const{children:e}=t,[,n]=Fr(),{motion:r}=n,i=_.useRef(!1);return i.current=i.current||r===!1,i.current?_.createElement(hT,{motion:r},e):e}const MT=()=>null;var NT=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const kT=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let pc,wv,Tv,Sv;function Ja(){return pc||Vs}function DT(){return wv||Wh}function VT(t){return Object.keys(t).some(e=>e.endsWith("Color"))}const LT=t=>{const{prefixCls:e,iconPrefixCls:n,theme:r,holderRender:i}=t;e!==void 0&&(pc=e),n!==void 0&&(wv=n),"holderRender"in t&&(Sv=i),r&&(VT(r)?xw(Ja(),r):Tv=r)},lk=()=>({getPrefixCls:(t,e)=>e||(t?`${Ja()}-${t}`:Ja()),getIconPrefixCls:DT,getRootPrefixCls:()=>pc||Ja(),getTheme:()=>Tv,holderRender:Sv}),FT=t=>{const{children:e,csp:n,autoInsertSpaceInButton:r,alert:i,anchor:o,form:s,locale:a,componentSize:l,direction:u,space:h,virtual:f,dropdownMatchSelectWidth:g,popupMatchSelectWidth:E,popupOverflow:S,legacyLocale:C,parentContext:m,iconPrefixCls:x,theme:A,componentDisabled:O,segmented:M,statistic:N,spin:k,calendar:b,carousel:v,cascader:y,collapse:I,typography:R,checkbox:P,descriptions:T,divider:B,drawer:Y,skeleton:F,steps:V,image:j,layout:z,list:q,mentions:G,modal:K,progress:ee,result:X,slider:oe,breadcrumb:Ie,menu:le,pagination:Ge,input:it,textArea:et,empty:ze,badge:ke,radio:Ke,rate:Me,switch:ht,transfer:Ue,avatar:pt,message:Qe,tag:_t,table:Re,card:ve,tabs:ot,timeline:re,timePicker:be,upload:De,notification:_e,tree:Xe,colorPicker:Vt,datePicker:jr,rangePicker:Ur,flex:Br,wave:bt,dropdown:Lt,warning:At,tour:vr,floatButtonGroup:Fn,variant:Ft,inputNumber:tn,treeSelect:zr}=t,Zn=_.useCallback((Ne,Le)=>{const{prefixCls:Fe}=t;if(Le)return Le;const Rt=Fe||m.getPrefixCls("");return Ne?`${Rt}-${Ne}`:Rt},[m.getPrefixCls,t.prefixCls]),Gt=x||m.iconPrefixCls||Wh,cn=n||m.csp;hv(Gt,cn);const Tt=lT(A,m.theme,{prefixCls:Zn("")}),tt={csp:cn,autoInsertSpaceInButton:r,alert:i,anchor:o,locale:a||C,direction:u,space:h,virtual:f,popupMatchSelectWidth:E??g,popupOverflow:S,getPrefixCls:Zn,iconPrefixCls:Gt,theme:Tt,segmented:M,statistic:N,spin:k,calendar:b,carousel:v,cascader:y,collapse:I,typography:R,checkbox:P,descriptions:T,divider:B,drawer:Y,skeleton:F,steps:V,image:j,input:it,textArea:et,layout:z,list:q,mentions:G,modal:K,progress:ee,result:X,slider:oe,breadcrumb:Ie,menu:le,pagination:Ge,empty:ze,badge:ke,radio:Ke,rate:Me,switch:ht,transfer:Ue,avatar:pt,message:Qe,tag:_t,table:Re,card:ve,tabs:ot,timeline:re,timePicker:be,upload:De,notification:_e,tree:Xe,colorPicker:Vt,datePicker:jr,rangePicker:Ur,flex:Br,wave:bt,dropdown:Lt,warning:At,tour:vr,floatButtonGroup:Fn,variant:Ft,inputNumber:tn,treeSelect:zr},Kt=Object.assign({},m);Object.keys(tt).forEach(Ne=>{tt[Ne]!==void 0&&(Kt[Ne]=tt[Ne])}),kT.forEach(Ne=>{const Le=t[Ne];Le&&(Kt[Ne]=Le)}),typeof r<"u"&&(Kt.button=Object.assign({autoInsertSpace:r},Kt.button));const He=Oh(()=>Kt,Kt,(Ne,Le)=>{const Fe=Object.keys(Ne),Rt=Object.keys(Le);return Fe.length!==Rt.length||Fe.some(In=>Ne[In]!==Le[In])}),ln=_.useMemo(()=>({prefixCls:Gt,csp:cn}),[Gt,cn]);let se=_.createElement(_.Fragment,null,_.createElement(MT,{dropdownMatchSelectWidth:g}),e);const Oe=_.useMemo(()=>{var Ne,Le,Fe,Rt;return go(((Ne=Ro.Form)===null||Ne===void 0?void 0:Ne.defaultValidateMessages)||{},((Fe=(Le=He.locale)===null||Le===void 0?void 0:Le.Form)===null||Fe===void 0?void 0:Fe.defaultValidateMessages)||{},((Rt=He.form)===null||Rt===void 0?void 0:Rt.validateMessages)||{},(s==null?void 0:s.validateMessages)||{})},[He,s==null?void 0:s.validateMessages]);Object.keys(Oe).length>0&&(se=_.createElement(GE.Provider,{value:Oe},se)),a&&(se=_.createElement(ZE,{locale:a,_ANT_MARK__:JE},se)),(Gt||cn)&&(se=_.createElement(zh.Provider,{value:ln},se)),l&&(se=_.createElement(Mw,{size:l},se)),se=_.createElement(OT,null,se);const Ve=_.useMemo(()=>{const Ne=Tt||{},{algorithm:Le,token:Fe,components:Rt,cssVar:In}=Ne,Pt=NT(Ne,["algorithm","token","components","cssVar"]),yr=Le&&(!Array.isArray(Le)||Le.length>0)?vu(Le):rv,_r={};Object.entries(Rt||{}).forEach($n=>{let[jn,nn]=$n;const Ye=Object.assign({},nn);"algorithm"in Ye&&(Ye.algorithm===!0?Ye.theme=yr:(Array.isArray(Ye.algorithm)||typeof Ye.algorithm=="function")&&(Ye.theme=vu(Ye.algorithm)),delete Ye.algorithm),_r[jn]=Ye});const un=Object.assign(Object.assign({},Ds),Fe);return Object.assign(Object.assign({},Pt),{theme:yr,token:un,components:_r,override:Object.assign({override:un},_r),cssVar:In})},[Tt]);return A&&(se=_.createElement(iv.Provider,{value:Ve},se)),He.warning&&(se=_.createElement(qE.Provider,{value:He.warning},se)),O!==void 0&&(se=_.createElement(Ow,{disabled:O},se)),_.createElement(Zt.Provider,{value:He},se)},Ys=t=>{const e=_.useContext(Zt),n=_.useContext(Hh);return _.createElement(FT,Object.assign({parentContext:e,legacyLocale:n},t))};Ys.ConfigContext=Zt;Ys.SizeContext=Po;Ys.config=LT;Ys.useConfig=Nw;Object.defineProperty(Ys,"SizeContext",{get:()=>Po});var $T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function Iv(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function jT(t){return Iv(t)instanceof ShadowRoot}function gc(t){return jT(t)?Iv(t):null}function UT(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})}function BT(t,e){wn(t,"[@ant-design/icons] ".concat(e))}function op(t){return pe(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(pe(t.icon)==="object"||typeof t.icon=="function")}function sp(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:delete e[n],e[UT(n)]=r}return e},{})}function zu(t,e,n){return n?me.createElement(t.tag,U(U({key:e},sp(t.attrs)),n),(t.children||[]).map(function(r,i){return zu(r,"".concat(e,"-").concat(t.tag,"-").concat(i))})):me.createElement(t.tag,U({key:e},sp(t.attrs)),(t.children||[]).map(function(r,i){return zu(r,"".concat(e,"-").concat(t.tag,"-").concat(i))}))}function Cv(t){return ks(t)[0]}function Av(t){return t?Array.isArray(t)?t:[t]:[]}var zT=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,HT=function(e){var n=_.useContext(zh),r=n.csp,i=n.prefixCls,o=zT;i&&(o=o.replace(/anticon/g,i)),_.useEffect(function(){var s=e.current,a=gc(s);Or(o,"@ant-design-icons",{prepend:!0,csp:r,attachTo:a})},[])},WT=["icon","className","onClick","style","primaryColor","secondaryColor"],ys={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function qT(t){var e=t.primaryColor,n=t.secondaryColor;ys.primaryColor=e,ys.secondaryColor=n||Cv(e),ys.calculated=!!n}function GT(){return U({},ys)}var zo=function(e){var n=e.icon,r=e.className,i=e.onClick,o=e.style,s=e.primaryColor,a=e.secondaryColor,l=fr(e,WT),u=_.useRef(),h=ys;if(s&&(h={primaryColor:s,secondaryColor:a||Cv(s)}),HT(u),BT(op(n),"icon should be icon definiton, but got ".concat(n)),!op(n))return null;var f=n;return f&&typeof f.icon=="function"&&(f=U(U({},f),{},{icon:f.icon(h.primaryColor,h.secondaryColor)})),zu(f.icon,"svg-".concat(f.name),U(U({className:r,onClick:i,style:o,"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:u}))};zo.displayName="IconReact";zo.getTwoToneColors=GT;zo.setTwoToneColors=qT;function Rv(t){var e=Av(t),n=J(e,2),r=n[0],i=n[1];return zo.setTwoToneColors({primaryColor:r,secondaryColor:i})}function KT(){var t=zo.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var QT=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Rv(hc.primary);var gr=_.forwardRef(function(t,e){var n=t.className,r=t.icon,i=t.spin,o=t.rotate,s=t.tabIndex,a=t.onClick,l=t.twoToneColor,u=fr(t,QT),h=_.useContext(zh),f=h.prefixCls,g=f===void 0?"anticon":f,E=h.rootClassName,S=Je(E,g,L(L({},"".concat(g,"-").concat(r.name),!!r.name),"".concat(g,"-spin"),!!i||r.name==="loading"),n),C=s;C===void 0&&a&&(C=-1);var m=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,x=Av(l),A=J(x,2),O=A[0],M=A[1];return _.createElement("span",Ct({role:"img","aria-label":r.name},u,{ref:e,tabIndex:C,onClick:a,className:S}),_.createElement(zo,{icon:r,primaryColor:O,secondaryColor:M,style:m}))});gr.displayName="AntdIcon";gr.getTwoToneColor=KT;gr.setTwoToneColor=Rv;var XT=function(e,n){return _.createElement(gr,Ct({},e,{ref:n,icon:$T}))},uk=_.forwardRef(XT),YT={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},JT=function(e,n){return _.createElement(gr,Ct({},e,{ref:n,icon:YT}))},hk=_.forwardRef(JT),ZT={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},eS=function(e,n){return _.createElement(gr,Ct({},e,{ref:n,icon:ZT}))},dk=_.forwardRef(eS),tS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},nS=function(e,n){return _.createElement(gr,Ct({},e,{ref:n,icon:tS}))},fk=_.forwardRef(nS),rS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},iS=function(e,n){return _.createElement(gr,Ct({},e,{ref:n,icon:rS}))},pk=_.forwardRef(iS),oS=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,sS=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,aS="".concat(oS," ").concat(sS).split(/[\s\n]+/),cS="aria-",lS="data-";function ap(t,e){return t.indexOf(e)===0}function gk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=U({},e);var r={};return Object.keys(t).forEach(function(i){(n.aria&&(i==="role"||ap(i,cS))||n.data&&ap(i,lS)||n.attr&&aS.includes(i))&&(r[i]=t[i])}),r}function Pv(t){return t&&me.isValidElement(t)&&t.type===me.Fragment}const uS=(t,e,n)=>me.isValidElement(t)?me.cloneElement(t,typeof n=="function"?n(t.props||{}):n):e;function Kh(t,e){return uS(t,t,e)}const mk=t=>{const[,,,,e]=Fr();return e?`${t}-css-var`:""};var ue={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var n=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||n>=ue.F1&&n<=ue.F12)return!1;switch(n){case ue.ALT:case ue.CAPS_LOCK:case ue.CONTEXT_MENU:case ue.CTRL:case ue.DOWN:case ue.END:case ue.ESC:case ue.HOME:case ue.INSERT:case ue.LEFT:case ue.MAC_FF_META:case ue.META:case ue.NUMLOCK:case ue.NUM_CENTER:case ue.PAGE_DOWN:case ue.PAGE_UP:case ue.PAUSE:case ue.PRINT_SCREEN:case ue.RIGHT:case ue.SHIFT:case ue.UP:case ue.WIN_KEY:case ue.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=ue.ZERO&&e<=ue.NINE||e>=ue.NUM_ZERO&&e<=ue.NUM_MULTIPLY||e>=ue.A&&e<=ue.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case ue.SPACE:case ue.QUESTION_MARK:case ue.NUM_PLUS:case ue.NUM_MINUS:case ue.NUM_PERIOD:case ue.NUM_DIVISION:case ue.SEMICOLON:case ue.DASH:case ue.EQUALS:case ue.COMMA:case ue.PERIOD:case ue.SLASH:case ue.APOSTROPHE:case ue.SINGLE_QUOTE:case ue.OPEN_SQUARE_BRACKET:case ue.BACKSLASH:case ue.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},hS={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},dS=function(e,n){return _.createElement(gr,Ct({},e,{ref:n,icon:hS}))},fS=_.forwardRef(dS);const xv=me.createContext(void 0),Oi=100,pS=10,vk=Oi*pS,Ov={Modal:Oi,Drawer:Oi,Popover:Oi,Popconfirm:Oi,Tooltip:Oi,Tour:Oi},gS={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function mS(t){return t in Ov}function vS(t,e){const[,n]=Fr(),r=me.useContext(xv),i=mS(t);let o;if(e!==void 0)o=[e,e];else{let s=r??0;i?s+=(r?0:n.zIndexPopupBase)+Ov[t]:s+=gS[t],o=[r===void 0?e:s,s]}return o}function en(){en=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(F,V,j){F[V]=j.value},o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(F,V,j){return Object.defineProperty(F,V,{value:j,enumerable:!0,configurable:!0,writable:!0}),F[V]}try{u({},"")}catch{u=function(j,z,q){return j[z]=q}}function h(F,V,j,z){var q=V&&V.prototype instanceof x?V:x,G=Object.create(q.prototype),K=new B(z||[]);return i(G,"_invoke",{value:I(F,j,K)}),G}function f(F,V,j){try{return{type:"normal",arg:F.call(V,j)}}catch(z){return{type:"throw",arg:z}}}e.wrap=h;var g="suspendedStart",E="suspendedYield",S="executing",C="completed",m={};function x(){}function A(){}function O(){}var M={};u(M,s,function(){return this});var N=Object.getPrototypeOf,k=N&&N(N(Y([])));k&&k!==n&&r.call(k,s)&&(M=k);var b=O.prototype=x.prototype=Object.create(M);function v(F){["next","throw","return"].forEach(function(V){u(F,V,function(j){return this._invoke(V,j)})})}function y(F,V){function j(q,G,K,ee){var X=f(F[q],F,G);if(X.type!=="throw"){var oe=X.arg,Ie=oe.value;return Ie&&pe(Ie)=="object"&&r.call(Ie,"__await")?V.resolve(Ie.__await).then(function(le){j("next",le,K,ee)},function(le){j("throw",le,K,ee)}):V.resolve(Ie).then(function(le){oe.value=le,K(oe)},function(le){return j("throw",le,K,ee)})}ee(X.arg)}var z;i(this,"_invoke",{value:function(G,K){function ee(){return new V(function(X,oe){j(G,K,X,oe)})}return z=z?z.then(ee,ee):ee()}})}function I(F,V,j){var z=g;return function(q,G){if(z===S)throw Error("Generator is already running");if(z===C){if(q==="throw")throw G;return{value:t,done:!0}}for(j.method=q,j.arg=G;;){var K=j.delegate;if(K){var ee=R(K,j);if(ee){if(ee===m)continue;return ee}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(z===g)throw z=C,j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);z=S;var X=f(F,V,j);if(X.type==="normal"){if(z=j.done?C:E,X.arg===m)continue;return{value:X.arg,done:j.done}}X.type==="throw"&&(z=C,j.method="throw",j.arg=X.arg)}}}function R(F,V){var j=V.method,z=F.iterator[j];if(z===t)return V.delegate=null,j==="throw"&&F.iterator.return&&(V.method="return",V.arg=t,R(F,V),V.method==="throw")||j!=="return"&&(V.method="throw",V.arg=new TypeError("The iterator does not provide a '"+j+"' method")),m;var q=f(z,F.iterator,V.arg);if(q.type==="throw")return V.method="throw",V.arg=q.arg,V.delegate=null,m;var G=q.arg;return G?G.done?(V[F.resultName]=G.value,V.next=F.nextLoc,V.method!=="return"&&(V.method="next",V.arg=t),V.delegate=null,m):G:(V.method="throw",V.arg=new TypeError("iterator result is not an object"),V.delegate=null,m)}function P(F){var V={tryLoc:F[0]};1 in F&&(V.catchLoc=F[1]),2 in F&&(V.finallyLoc=F[2],V.afterLoc=F[3]),this.tryEntries.push(V)}function T(F){var V=F.completion||{};V.type="normal",delete V.arg,F.completion=V}function B(F){this.tryEntries=[{tryLoc:"root"}],F.forEach(P,this),this.reset(!0)}function Y(F){if(F||F===""){var V=F[s];if(V)return V.call(F);if(typeof F.next=="function")return F;if(!isNaN(F.length)){var j=-1,z=function q(){for(;++j<F.length;)if(r.call(F,j))return q.value=F[j],q.done=!1,q;return q.value=t,q.done=!0,q};return z.next=z}}throw new TypeError(pe(F)+" is not iterable")}return A.prototype=O,i(b,"constructor",{value:O,configurable:!0}),i(O,"constructor",{value:A,configurable:!0}),A.displayName=u(O,l,"GeneratorFunction"),e.isGeneratorFunction=function(F){var V=typeof F=="function"&&F.constructor;return!!V&&(V===A||(V.displayName||V.name)==="GeneratorFunction")},e.mark=function(F){return Object.setPrototypeOf?Object.setPrototypeOf(F,O):(F.__proto__=O,u(F,l,"GeneratorFunction")),F.prototype=Object.create(b),F},e.awrap=function(F){return{__await:F}},v(y.prototype),u(y.prototype,a,function(){return this}),e.AsyncIterator=y,e.async=function(F,V,j,z,q){q===void 0&&(q=Promise);var G=new y(h(F,V,j,z),q);return e.isGeneratorFunction(V)?G:G.next().then(function(K){return K.done?K.value:G.next()})},v(b),u(b,l,"Generator"),u(b,s,function(){return this}),u(b,"toString",function(){return"[object Generator]"}),e.keys=function(F){var V=Object(F),j=[];for(var z in V)j.push(z);return j.reverse(),function q(){for(;j.length;){var G=j.pop();if(G in V)return q.value=G,q.done=!1,q}return q.done=!0,q}},e.values=Y,B.prototype={constructor:B,reset:function(V){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!V)for(var j in this)j.charAt(0)==="t"&&r.call(this,j)&&!isNaN(+j.slice(1))&&(this[j]=t)},stop:function(){this.done=!0;var V=this.tryEntries[0].completion;if(V.type==="throw")throw V.arg;return this.rval},dispatchException:function(V){if(this.done)throw V;var j=this;function z(oe,Ie){return K.type="throw",K.arg=V,j.next=oe,Ie&&(j.method="next",j.arg=t),!!Ie}for(var q=this.tryEntries.length-1;q>=0;--q){var G=this.tryEntries[q],K=G.completion;if(G.tryLoc==="root")return z("end");if(G.tryLoc<=this.prev){var ee=r.call(G,"catchLoc"),X=r.call(G,"finallyLoc");if(ee&&X){if(this.prev<G.catchLoc)return z(G.catchLoc,!0);if(this.prev<G.finallyLoc)return z(G.finallyLoc)}else if(ee){if(this.prev<G.catchLoc)return z(G.catchLoc,!0)}else{if(!X)throw Error("try statement without catch or finally");if(this.prev<G.finallyLoc)return z(G.finallyLoc)}}}},abrupt:function(V,j){for(var z=this.tryEntries.length-1;z>=0;--z){var q=this.tryEntries[z];if(q.tryLoc<=this.prev&&r.call(q,"finallyLoc")&&this.prev<q.finallyLoc){var G=q;break}}G&&(V==="break"||V==="continue")&&G.tryLoc<=j&&j<=G.finallyLoc&&(G=null);var K=G?G.completion:{};return K.type=V,K.arg=j,G?(this.method="next",this.next=G.finallyLoc,m):this.complete(K)},complete:function(V,j){if(V.type==="throw")throw V.arg;return V.type==="break"||V.type==="continue"?this.next=V.arg:V.type==="return"?(this.rval=this.arg=V.arg,this.method="return",this.next="end"):V.type==="normal"&&j&&(this.next=j),m},finish:function(V){for(var j=this.tryEntries.length-1;j>=0;--j){var z=this.tryEntries[j];if(z.finallyLoc===V)return this.complete(z.completion,z.afterLoc),T(z),m}},catch:function(V){for(var j=this.tryEntries.length-1;j>=0;--j){var z=this.tryEntries[j];if(z.tryLoc===V){var q=z.completion;if(q.type==="throw"){var G=q.arg;T(z)}return G}}throw Error("illegal catch attempt")},delegateYield:function(V,j,z){return this.delegate={iterator:Y(V),resultName:j,nextLoc:z},this.method==="next"&&(this.arg=t),m}},e}function cp(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(u){return void n(u)}a.done?e(l):Promise.resolve(l).then(r,i)}function Qi(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(l){cp(o,r,i,s,a,"next",l)}function a(l){cp(o,r,i,s,a,"throw",l)}s(void 0)})}}var Js=U({},Y_),yS=Js.version,_S=Js.render,bS=Js.unmountComponentAtNode,Yc;try{var ES=Number((yS||"").split(".")[0]);ES>=18&&(Yc=Js.createRoot)}catch{}function lp(t){var e=Js.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&pe(e)==="object"&&(e.usingClientEntryPoint=t)}var mc="__rc_react_root__";function wS(t,e){lp(!0);var n=e[mc]||Yc(e);lp(!1),n.render(t),e[mc]=n}function TS(t,e){_S(t,e)}function SS(t,e){if(Yc){wS(t,e);return}TS(t,e)}function IS(t){return Hu.apply(this,arguments)}function Hu(){return Hu=Qi(en().mark(function t(e){return en().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=e[mc])===null||i===void 0||i.unmount(),delete e[mc]}));case 1:case"end":return r.stop()}},t)})),Hu.apply(this,arguments)}function CS(t){bS(t)}function AS(t){return Wu.apply(this,arguments)}function Wu(){return Wu=Qi(en().mark(function t(e){return en().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(Yc===void 0){r.next=2;break}return r.abrupt("return",IS(e));case 2:CS(e);case 3:case"end":return r.stop()}},t)})),Wu.apply(this,arguments)}const Fl=()=>({height:0,opacity:0}),up=t=>{const{scrollHeight:e}=t;return{height:e,opacity:1}},RS=t=>({height:t?t.offsetHeight:0}),$l=(t,e)=>(e==null?void 0:e.deadline)===!0||e.propertyName==="height",yk=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vs}-motion-collapse`,onAppearStart:Fl,onEnterStart:Fl,onAppearActive:up,onEnterActive:up,onLeaveStart:RS,onLeaveActive:Fl,onAppearEnd:$l,onEnterEnd:$l,onLeaveEnd:$l,motionDeadline:500}},PS=(t,e,n)=>n!==void 0?n:`${t}-${e}`,Mv=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox(),n=e.width,r=e.height;if(n||r)return!0}if(t.getBoundingClientRect){var i=t.getBoundingClientRect(),o=i.width,s=i.height;if(o||s)return!0}}return!1},xS=t=>{const{componentCls:e,colorPrimary:n}=t;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${t.motionEaseOutCirc}`,`opacity 2s ${t.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${t.motionDurationSlow} ${t.motionEaseInOut}`,`opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`].join(",")}}}}},OS=rT("Wave",t=>[xS(t)]),Nv=`${Vs}-wave-target`;function MS(t){const e=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}function jl(t){return t&&t!=="#fff"&&t!=="#ffffff"&&t!=="rgb(255, 255, 255)"&&t!=="rgba(255, 255, 255, 1)"&&MS(t)&&!/rgba\((?:\d*, ){3}0\)/.test(t)&&t!=="transparent"}function NS(t){const{borderTopColor:e,borderColor:n,backgroundColor:r}=getComputedStyle(t);return jl(e)?e:jl(n)?n:jl(r)?r:null}function Ul(t){return Number.isNaN(t)?0:t}const kS=t=>{const{className:e,target:n,component:r}=t,i=_.useRef(null),[o,s]=_.useState(null),[a,l]=_.useState([]),[u,h]=_.useState(0),[f,g]=_.useState(0),[E,S]=_.useState(0),[C,m]=_.useState(0),[x,A]=_.useState(!1),O={left:u,top:f,width:E,height:C,borderRadius:a.map(k=>`${k}px`).join(" ")};o&&(O["--wave-color"]=o);function M(){const k=getComputedStyle(n);s(NS(n));const b=k.position==="static",{borderLeftWidth:v,borderTopWidth:y}=k;h(b?n.offsetLeft:Ul(-parseFloat(v))),g(b?n.offsetTop:Ul(-parseFloat(y))),S(n.offsetWidth),m(n.offsetHeight);const{borderTopLeftRadius:I,borderTopRightRadius:R,borderBottomLeftRadius:P,borderBottomRightRadius:T}=k;l([I,R,T,P].map(B=>Ul(parseFloat(B))))}if(_.useEffect(()=>{if(n){const k=ji(()=>{M(),A(!0)});let b;return typeof ResizeObserver<"u"&&(b=new ResizeObserver(M),b.observe(n)),()=>{ji.cancel(k),b==null||b.disconnect()}}},[]),!x)return null;const N=(r==="Checkbox"||r==="Radio")&&(n==null?void 0:n.classList.contains(Nv));return _.createElement(Xs,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(k,b)=>{var v;if(b.deadline||b.propertyName==="opacity"){const y=(v=i.current)===null||v===void 0?void 0:v.parentElement;AS(y).then(()=>{y==null||y.remove()})}return!1}},(k,b)=>{let{className:v}=k;return _.createElement("div",{ref:Qs(i,b),className:Je(e,v,{"wave-quick":N}),style:O})})},DS=(t,e)=>{var n;const{component:r}=e;if(r==="Checkbox"&&!(!((n=t.querySelector("input"))===null||n===void 0)&&n.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",t==null||t.insertBefore(i,t==null?void 0:t.firstChild),SS(_.createElement(kS,Object.assign({},e,{target:t})),i)},VS=(t,e,n)=>{const{wave:r}=_.useContext(Zt),[,i,o]=Fr(),s=vn(u=>{const h=t.current;if(r!=null&&r.disabled||!h)return;const f=h.querySelector(`.${Nv}`)||h,{showEffect:g}=r||{};(g||DS)(f,{className:e,token:i,component:n,event:u,hashId:o})}),a=_.useRef();return u=>{ji.cancel(a.current),a.current=ji(()=>{s(u)})}},LS=t=>{const{children:e,disabled:n,component:r}=t,{getPrefixCls:i}=_.useContext(Zt),o=_.useRef(null),s=i("wave"),[,a]=OS(s),l=VS(o,Je(s,a),r);if(me.useEffect(()=>{const h=o.current;if(!h||h.nodeType!==1||n)return;const f=g=>{!Mv(g.target)||!h.getAttribute||h.getAttribute("disabled")||h.disabled||h.className.includes("disabled")||h.className.includes("-leave")||l(g)};return h.addEventListener("click",f,!0),()=>{h.removeEventListener("click",f,!0)}},[n]),!me.isValidElement(e))return e??null;const u=jo(e)?Qs(e.ref,o):o;return Kh(e,{ref:u})},kv=t=>{const e=me.useContext(Po);return me.useMemo(()=>t?typeof t=="string"?t??e:t instanceof Function?t(e):e:e,[t,e])},FS=t=>{const{componentCls:e}=t;return{[e]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},$S=t=>{const{componentCls:e,antCls:n}=t;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${e}-item:empty`]:{display:"none"},[`${e}-item > ${n}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},jS=t=>{const{componentCls:e}=t;return{[e]:{"&-gap-row-small":{rowGap:t.spaceGapSmallSize},"&-gap-row-middle":{rowGap:t.spaceGapMiddleSize},"&-gap-row-large":{rowGap:t.spaceGapLargeSize},"&-gap-col-small":{columnGap:t.spaceGapSmallSize},"&-gap-col-middle":{columnGap:t.spaceGapMiddleSize},"&-gap-col-large":{columnGap:t.spaceGapLargeSize}}}},US=Bo("Space",t=>{const e=Sn(t,{spaceGapSmallSize:t.paddingXS,spaceGapMiddleSize:t.padding,spaceGapLargeSize:t.paddingLG});return[$S(e),jS(e),FS(e)]},()=>({}),{resetStyle:!1});var Dv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Jc=_.createContext(null),BS=(t,e)=>{const n=_.useContext(Jc),r=_.useMemo(()=>{if(!n)return"";const{compactDirection:i,isFirstItem:o,isLastItem:s}=n,a=i==="vertical"?"-vertical-":"-";return Je(`${t}-compact${a}item`,{[`${t}-compact${a}first-item`]:o,[`${t}-compact${a}last-item`]:s,[`${t}-compact${a}item-rtl`]:e==="rtl"})},[t,e,n]);return{compactSize:n==null?void 0:n.compactSize,compactDirection:n==null?void 0:n.compactDirection,compactItemClassnames:r}},zS=t=>{let{children:e}=t;return _.createElement(Jc.Provider,{value:null},e)},HS=t=>{var{children:e}=t,n=Dv(t,["children"]);return _.createElement(Jc.Provider,{value:n},e)},_k=t=>{const{getPrefixCls:e,direction:n}=_.useContext(Zt),{size:r,direction:i,block:o,prefixCls:s,className:a,rootClassName:l,children:u}=t,h=Dv(t,["size","direction","block","prefixCls","className","rootClassName","children"]),f=kv(O=>r??O),g=e("space-compact",s),[E,S]=US(g),C=Je(g,S,{[`${g}-rtl`]:n==="rtl",[`${g}-block`]:o,[`${g}-vertical`]:i==="vertical"},a,l),m=_.useContext(Jc),x=Cs(u),A=_.useMemo(()=>x.map((O,M)=>{const N=(O==null?void 0:O.key)||`${g}-item-${M}`;return _.createElement(HS,{key:N,compactSize:f,compactDirection:i,isFirstItem:M===0&&(!m||(m==null?void 0:m.isFirstItem)),isLastItem:M===x.length-1&&(!m||(m==null?void 0:m.isLastItem))},O)}),[r,x,m]);return x.length===0?null:E(_.createElement("div",Object.assign({className:C},h),A))};var WS=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Vv=_.createContext(void 0),qS=t=>{const{getPrefixCls:e,direction:n}=_.useContext(Zt),{prefixCls:r,size:i,className:o}=t,s=WS(t,["prefixCls","size","className"]),a=e("btn-group",r),[,,l]=Fr();let u="";switch(i){case"large":u="lg";break;case"small":u="sm";break}const h=Je(a,{[`${a}-${u}`]:u,[`${a}-rtl`]:n==="rtl"},o,l);return _.createElement(Vv.Provider,{value:i},_.createElement("div",Object.assign({},s,{className:h})))},hp=/^[\u4e00-\u9fa5]{2}$/,qu=hp.test.bind(hp);function bk(t){return t==="danger"?{danger:!0}:{type:t}}function dp(t){return typeof t=="string"}function Bl(t){return t==="text"||t==="link"}function GS(t,e){if(t==null)return;const n=e?" ":"";return typeof t!="string"&&typeof t!="number"&&dp(t.type)&&qu(t.props.children)?Kh(t,{children:t.props.children.split("").join(n)}):dp(t)?qu(t)?me.createElement("span",null,t.split("").join(n)):me.createElement("span",null,t):Pv(t)?me.createElement("span",null,t):t}function KS(t,e){let n=!1;const r=[];return me.Children.forEach(t,i=>{const o=typeof i,s=o==="string"||o==="number";if(n&&s){const a=r.length-1,l=r[a];r[a]=`${l}${i}`}else r.push(i);n=s}),me.Children.map(r,i=>GS(i,e))}const Lv=_.forwardRef((t,e)=>{const{className:n,style:r,children:i,prefixCls:o}=t,s=Je(`${o}-icon`,n);return me.createElement("span",{ref:e,className:s,style:r},i)}),fp=_.forwardRef((t,e)=>{const{prefixCls:n,className:r,style:i,iconClassName:o}=t,s=Je(`${n}-loading-icon`,r);return me.createElement(Lv,{prefixCls:n,className:s,style:i,ref:e},me.createElement(fS,{className:o}))}),zl=()=>({width:0,opacity:0,transform:"scale(0)"}),Hl=t=>({width:t.scrollWidth,opacity:1,transform:"scale(1)"}),QS=t=>{const{prefixCls:e,loading:n,existIcon:r,className:i,style:o}=t,s=!!n;return r?me.createElement(fp,{prefixCls:e,className:i,style:o}):me.createElement(Xs,{visible:s,motionName:`${e}-loading-icon-motion`,motionLeave:s,removeOnLeave:!0,onAppearStart:zl,onAppearActive:Hl,onEnterStart:zl,onEnterActive:Hl,onLeaveStart:Hl,onLeaveActive:zl},(a,l)=>{let{className:u,style:h}=a;return me.createElement(fp,{prefixCls:e,className:i,style:Object.assign(Object.assign({},o),h),ref:l,iconClassName:u})})},pp=(t,e)=>({[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),XS=t=>{const{componentCls:e,fontSize:n,lineWidth:r,groupBorderColor:i,colorErrorHover:o}=t;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:t.calc(r).mul(-1).equal(),[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:n}},pp(`${e}-primary`,i),pp(`${e}-danger`,o)]}},Fv=t=>{const{paddingInline:e,onlyIconSize:n,paddingBlock:r}=t;return Sn(t,{buttonPaddingHorizontal:e,buttonPaddingVertical:r,buttonIconOnlyFontSize:n})},$v=t=>{var e,n,r,i,o,s;const a=(e=t.contentFontSize)!==null&&e!==void 0?e:t.fontSize,l=(n=t.contentFontSizeSM)!==null&&n!==void 0?n:t.fontSize,u=(r=t.contentFontSizeLG)!==null&&r!==void 0?r:t.fontSizeLG,h=(i=t.contentLineHeight)!==null&&i!==void 0?i:Ya(a),f=(o=t.contentLineHeightSM)!==null&&o!==void 0?o:Ya(l),g=(s=t.contentLineHeightLG)!==null&&s!==void 0?s:Ya(u);return{fontWeight:400,defaultShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlTmpOutline}`,primaryShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlOutline}`,dangerShadow:`0 ${t.controlOutlineWidth}px 0 ${t.colorErrorOutline}`,primaryColor:t.colorTextLightSolid,dangerColor:t.colorTextLightSolid,borderColorDisabled:t.colorBorder,defaultGhostColor:t.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:t.colorBgContainer,paddingInline:t.paddingContentHorizontal-t.lineWidth,paddingInlineLG:t.paddingContentHorizontal-t.lineWidth,paddingInlineSM:8-t.lineWidth,onlyIconSize:t.fontSizeLG,onlyIconSizeSM:t.fontSizeLG-2,onlyIconSizeLG:t.fontSizeLG+2,groupBorderColor:t.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:t.colorBgTextHover,defaultColor:t.colorText,defaultBg:t.colorBgContainer,defaultBorderColor:t.colorBorder,defaultBorderColorDisabled:t.colorBorder,defaultHoverBg:t.colorBgContainer,defaultHoverColor:t.colorPrimaryHover,defaultHoverBorderColor:t.colorPrimaryHover,defaultActiveBg:t.colorBgContainer,defaultActiveColor:t.colorPrimaryActive,defaultActiveBorderColor:t.colorPrimaryActive,contentFontSize:a,contentFontSizeSM:l,contentFontSizeLG:u,contentLineHeight:h,contentLineHeightSM:f,contentLineHeightLG:g,paddingBlock:Math.max((t.controlHeight-a*h)/2-t.lineWidth,0),paddingBlockSM:Math.max((t.controlHeightSM-l*f)/2-t.lineWidth,0),paddingBlockLG:Math.max((t.controlHeightLG-u*g)/2-t.lineWidth,0)}},YS=t=>{const{componentCls:e,iconCls:n,fontWeight:r}=t;return{[e]:{outline:"none",position:"relative",display:"inline-flex",gap:t.marginXS,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${Se(t.lineWidth)} ${t.lineType} transparent`,cursor:"pointer",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:t.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${e}-icon`]:{lineHeight:1},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},nT(t)),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},"&-icon-end":{flexDirection:"row-reverse"}}}},Nr=(t,e,n)=>({[`&:not(:disabled):not(${t}-disabled)`]:{"&:hover":e,"&:active":n}}),JS=t=>({minWidth:t.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),ZS=t=>({borderRadius:t.controlHeight,paddingInlineStart:t.calc(t.controlHeight).div(2).equal(),paddingInlineEnd:t.calc(t.controlHeight).div(2).equal()}),eI=t=>({cursor:"not-allowed",borderColor:t.borderColorDisabled,color:t.colorTextDisabled,background:t.colorBgContainerDisabled,boxShadow:"none"}),Fs=(t,e,n,r,i,o,s,a)=>({[`&${t}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:e,borderColor:r||void 0,boxShadow:"none"},Nr(t,Object.assign({background:e},s),Object.assign({background:e},a))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:o||void 0}})}),Qh=t=>({[`&:disabled, &${t.componentCls}-disabled`]:Object.assign({},eI(t))}),jv=t=>Object.assign({},Qh(t)),vc=t=>({[`&:disabled, &${t.componentCls}-disabled`]:{cursor:"not-allowed",color:t.colorTextDisabled}}),Uv=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},jv(t)),{background:t.defaultBg,borderColor:t.defaultBorderColor,color:t.defaultColor,boxShadow:t.defaultShadow}),Nr(t.componentCls,{color:t.defaultHoverColor,borderColor:t.defaultHoverBorderColor,background:t.defaultHoverBg},{color:t.defaultActiveColor,borderColor:t.defaultActiveBorderColor,background:t.defaultActiveBg})),Fs(t.componentCls,t.ghostBg,t.defaultGhostColor,t.defaultGhostBorderColor,t.colorTextDisabled,t.colorBorder)),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:t.colorError,borderColor:t.colorError},Nr(t.componentCls,{color:t.colorErrorHover,borderColor:t.colorErrorBorderHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),Fs(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder)),Qh(t))}),tI=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},jv(t)),{color:t.primaryColor,background:t.colorPrimary,boxShadow:t.primaryShadow}),Nr(t.componentCls,{color:t.colorTextLightSolid,background:t.colorPrimaryHover},{color:t.colorTextLightSolid,background:t.colorPrimaryActive})),Fs(t.componentCls,t.ghostBg,t.colorPrimary,t.colorPrimary,t.colorTextDisabled,t.colorBorder,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({background:t.colorError,boxShadow:t.dangerShadow,color:t.dangerColor},Nr(t.componentCls,{background:t.colorErrorHover},{background:t.colorErrorActive})),Fs(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder,{color:t.colorErrorHover,borderColor:t.colorErrorHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),Qh(t))}),nI=t=>Object.assign(Object.assign({},Uv(t)),{borderStyle:"dashed"}),rI=t=>Object.assign(Object.assign(Object.assign({color:t.colorLink},Nr(t.componentCls,{color:t.colorLinkHover,background:t.linkHoverBg},{color:t.colorLinkActive})),vc(t)),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign({color:t.colorError},Nr(t.componentCls,{color:t.colorErrorHover},{color:t.colorErrorActive})),vc(t))}),iI=t=>Object.assign(Object.assign(Object.assign({},Nr(t.componentCls,{color:t.colorText,background:t.textHoverBg},{color:t.colorText,background:t.colorBgTextActive})),vc(t)),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign({color:t.colorError},vc(t)),Nr(t.componentCls,{color:t.colorErrorHover,background:t.colorErrorBg},{color:t.colorErrorHover,background:t.colorErrorBgActive}))}),oI=t=>{const{componentCls:e}=t;return{[`${e}-default`]:Uv(t),[`${e}-primary`]:tI(t),[`${e}-dashed`]:nI(t),[`${e}-link`]:rI(t),[`${e}-text`]:iI(t),[`${e}-ghost`]:Fs(t.componentCls,t.ghostBg,t.colorBgContainer,t.colorBgContainer,t.colorTextDisabled,t.colorBorder)}},Xh=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:i,lineHeight:o,borderRadius:s,buttonPaddingHorizontal:a,iconCls:l,buttonPaddingVertical:u}=t,h=`${n}-icon-only`;return[{[e]:{fontSize:i,lineHeight:o,height:r,padding:`${Se(u)} ${Se(a)}`,borderRadius:s,[`&${h}`]:{width:r,paddingInline:0,[`&${n}-compact-item`]:{flex:"none"},[`&${n}-round`]:{width:"auto"},[l]:{fontSize:t.buttonIconOnlyFontSize}},[`&${n}-loading`]:{opacity:t.opacityLoading,cursor:"default"},[`${n}-loading-icon`]:{transition:`width ${t.motionDurationSlow} ${t.motionEaseInOut}, opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`}}},{[`${n}${n}-circle${e}`]:JS(t)},{[`${n}${n}-round${e}`]:ZS(t)}]},sI=t=>{const e=Sn(t,{fontSize:t.contentFontSize,lineHeight:t.contentLineHeight});return Xh(e,t.componentCls)},aI=t=>{const e=Sn(t,{controlHeight:t.controlHeightSM,fontSize:t.contentFontSizeSM,lineHeight:t.contentLineHeightSM,padding:t.paddingXS,buttonPaddingHorizontal:t.paddingInlineSM,buttonPaddingVertical:t.paddingBlockSM,borderRadius:t.borderRadiusSM,buttonIconOnlyFontSize:t.onlyIconSizeSM});return Xh(e,`${t.componentCls}-sm`)},cI=t=>{const e=Sn(t,{controlHeight:t.controlHeightLG,fontSize:t.contentFontSizeLG,lineHeight:t.contentLineHeightLG,buttonPaddingHorizontal:t.paddingInlineLG,buttonPaddingVertical:t.paddingBlockLG,borderRadius:t.borderRadiusLG,buttonIconOnlyFontSize:t.onlyIconSizeLG});return Xh(e,`${t.componentCls}-lg`)},lI=t=>{const{componentCls:e}=t;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},uI=Bo("Button",t=>{const e=Fv(t);return[YS(e),sI(e),aI(e),cI(e),lI(e),oI(e),XS(e)]},$v,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function hI(t,e,n){const{focusElCls:r,focus:i,borderElCls:o}=n,s=o?"> *":"",a=["hover",i?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${s}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function dI(t,e,n){const{borderElCls:r}=n,i=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function Bv(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=t,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},hI(t,r,e)),dI(n,r,e))}}function fI(t,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:t.calc(t.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function pI(t,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function gI(t){const e=`${t.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},fI(t,e)),pI(t.componentCls,e))}}const mI=t=>{const{componentCls:e,calc:n}=t;return{[e]:{[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:n(t.lineWidth).mul(-1).equal(),insetInlineStart:n(t.lineWidth).mul(-1).equal(),display:"inline-block",width:t.lineWidth,height:`calc(100% + ${Se(t.lineWidth)} * 2)`,backgroundColor:t.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:n(t.lineWidth).mul(-1).equal(),insetInlineStart:n(t.lineWidth).mul(-1).equal(),display:"inline-block",width:`calc(100% + ${Se(t.lineWidth)} * 2)`,height:t.lineWidth,backgroundColor:t.colorPrimaryHover,content:'""'}}}}}}},vI=iT(["Button","compact"],t=>{const e=Fv(t);return[Bv(e),gI(e),mI(e)]},$v);var yI=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function _I(t){if(typeof t=="object"&&t){let e=t==null?void 0:t.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!t,delay:0}}const bI=me.forwardRef((t,e)=>{var n,r,i;const{loading:o=!1,prefixCls:s,type:a,danger:l=!1,shape:u="default",size:h,styles:f,disabled:g,className:E,rootClassName:S,children:C,icon:m,iconPosition:x="start",ghost:A=!1,block:O=!1,htmlType:M="button",classNames:N,style:k={},autoInsertSpace:b}=t,v=yI(t,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace"]),y=a||"default",{getPrefixCls:I,direction:R,button:P}=_.useContext(Zt),T=(n=b??(P==null?void 0:P.autoInsertSpace))!==null&&n!==void 0?n:!0,B=I("btn",s),[Y,F,V]=uI(B),j=_.useContext(dc),z=g??j,q=_.useContext(Vv),G=_.useMemo(()=>_I(o),[o]),[K,ee]=_.useState(G.loading),[X,oe]=_.useState(!1),le=Qs(e,_.createRef()),Ge=_.Children.count(C)===1&&!m&&!Bl(y);_.useEffect(()=>{let be=null;G.delay>0?be=setTimeout(()=>{be=null,ee(!0)},G.delay):ee(G.loading);function De(){be&&(clearTimeout(be),be=null)}return De},[G]),_.useEffect(()=>{if(!le||!le.current||!T)return;const be=le.current.textContent;Ge&&qu(be)?X||oe(!0):X&&oe(!1)},[le]);const it=be=>{const{onClick:De}=t;if(K||z){be.preventDefault();return}De==null||De(be)},{compactSize:et,compactItemClassnames:ze}=BS(B,R),ke={large:"lg",small:"sm",middle:void 0},Ke=kv(be=>{var De,_e;return(_e=(De=h??et)!==null&&De!==void 0?De:q)!==null&&_e!==void 0?_e:be}),Me=Ke&&ke[Ke]||"",ht=K?"loading":m,Ue=Im(v,["navigate"]),pt=Je(B,F,V,{[`${B}-${u}`]:u!=="default"&&u,[`${B}-${y}`]:y,[`${B}-${Me}`]:Me,[`${B}-icon-only`]:!C&&C!==0&&!!ht,[`${B}-background-ghost`]:A&&!Bl(y),[`${B}-loading`]:K,[`${B}-two-chinese-chars`]:X&&T&&!K,[`${B}-block`]:O,[`${B}-dangerous`]:l,[`${B}-rtl`]:R==="rtl",[`${B}-icon-end`]:x==="end"},ze,E,S,P==null?void 0:P.className),Qe=Object.assign(Object.assign({},P==null?void 0:P.style),k),_t=Je(N==null?void 0:N.icon,(r=P==null?void 0:P.classNames)===null||r===void 0?void 0:r.icon),Re=Object.assign(Object.assign({},(f==null?void 0:f.icon)||{}),((i=P==null?void 0:P.styles)===null||i===void 0?void 0:i.icon)||{}),ve=m&&!K?me.createElement(Lv,{prefixCls:B,className:_t,style:Re},m):me.createElement(QS,{existIcon:!!m,prefixCls:B,loading:K}),ot=C||C===0?KS(C,Ge&&T):null;if(Ue.href!==void 0)return Y(me.createElement("a",Object.assign({},Ue,{className:Je(pt,{[`${B}-disabled`]:z}),href:z?void 0:Ue.href,style:Qe,onClick:it,ref:le,tabIndex:z?-1:0}),ve,ot));let re=me.createElement("button",Object.assign({},v,{type:M,className:pt,style:Qe,onClick:it,disabled:z,ref:le}),ve,ot,!!ze&&me.createElement(vI,{key:"compact",prefixCls:B}));return Bl(y)||(re=me.createElement(LS,{component:"Button",disabled:K},re)),Y(re)}),zv=bI;zv.Group=qS;zv.__ANT_BUTTON=!0;var Hv=_.createContext(null),gp=[];function EI(t,e){var n=_.useState(function(){if(!Tn())return null;var S=document.createElement("div");return S}),r=J(n,1),i=r[0],o=_.useRef(!1),s=_.useContext(Hv),a=_.useState(gp),l=J(a,2),u=l[0],h=l[1],f=s||(o.current?void 0:function(S){h(function(C){var m=[S].concat(ce(C));return m})});function g(){i.parentElement||document.body.appendChild(i),o.current=!0}function E(){var S;(S=i.parentElement)===null||S===void 0||S.removeChild(i),o.current=!1}return Xt(function(){return t?s?s(g):g():E(),E},[t]),Xt(function(){u.length&&(u.forEach(function(S){return S()}),h(gp))},[u]),[i,f]}var Wl;function Wv(t){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=e;var r=n.style;r.position="absolute",r.left="0",r.top="0",r.width="100px",r.height="100px",r.overflow="scroll";var i,o;if(t){var s=getComputedStyle(t);r.scrollbarColor=s.scrollbarColor,r.scrollbarWidth=s.scrollbarWidth;var a=getComputedStyle(t,"::-webkit-scrollbar"),l=parseInt(a.width,10),u=parseInt(a.height,10);try{var h=l?"width: ".concat(a.width,";"):"",f=u?"height: ".concat(a.height,";"):"";Or(`
#`.concat(e,`::-webkit-scrollbar {
`).concat(h,`
`).concat(f,`
}`),e)}catch(S){console.error(S),i=l,o=u}}document.body.appendChild(n);var g=t&&i&&!isNaN(i)?i:n.offsetWidth-n.clientWidth,E=t&&o&&!isNaN(o)?o:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),Os(e),{width:g,height:E}}function Ek(t){return typeof document>"u"?0:(Wl===void 0&&(Wl=Wv()),Wl.width)}function wI(t){return typeof document>"u"||!t||!(t instanceof Element)?{width:0,height:0}:Wv(t)}function TI(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var SI="rc-util-locker-".concat(Date.now()),mp=0;function II(t){var e=!!t,n=_.useState(function(){return mp+=1,"".concat(SI,"_").concat(mp)}),r=J(n,1),i=r[0];Xt(function(){if(e){var o=wI(document.body).width,s=TI();Or(`
html body {
  overflow-y: hidden;
  `.concat(s?"width: calc(100% - ".concat(o,"px);"):"",`
}`),i)}else Os(i);return function(){Os(i)}},[e,i])}var CI=!1;function AI(t){return CI}var vp=function(e){return e===!1?!1:!Tn()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},qv=_.forwardRef(function(t,e){var n=t.open,r=t.autoLock,i=t.getContainer;t.debug;var o=t.autoDestroy,s=o===void 0?!0:o,a=t.children,l=_.useState(n),u=J(l,2),h=u[0],f=u[1],g=h||n;_.useEffect(function(){(s||n)&&f(n)},[n,s]);var E=_.useState(function(){return vp(i)}),S=J(E,2),C=S[0],m=S[1];_.useEffect(function(){var R=vp(i);m(R??null)});var x=EI(g&&!C),A=J(x,2),O=A[0],M=A[1],N=C??O;II(r&&n&&Tn()&&(N===O||N===document.body));var k=null;if(a&&jo(a)&&e){var b=a;k=b.ref}var v=Nh(k,e);if(!g||!Tn()||C===void 0)return null;var y=N===!1||AI(),I=a;return e&&(I=_.cloneElement(a,{ref:v})),_.createElement(Hv.Provider,{value:M},y?I:J_.createPortal(I,N))});function RI(){var t=U({},Dc);return t.useId}var yp=0,_p=RI();const PI=_p?function(e){var n=_p();return e||n}:function(e){var n=_.useState("ssr-id"),r=J(n,2),i=r[0],o=r[1];return _.useEffect(function(){var s=yp;yp+=1,o("rc_unique_".concat(s))},[]),e||i};var Di="RC_FORM_INTERNAL_HOOKS",Be=function(){wn(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},xo=_.createContext({getFieldValue:Be,getFieldsValue:Be,getFieldError:Be,getFieldWarning:Be,getFieldsError:Be,isFieldsTouched:Be,isFieldTouched:Be,isFieldValidating:Be,isFieldsValidating:Be,resetFields:Be,setFields:Be,setFieldValue:Be,setFieldsValue:Be,validateFields:Be,submit:Be,getInternalHooks:function(){return Be(),{dispatch:Be,initEntityValue:Be,registerField:Be,useSubscribe:Be,setInitialValues:Be,destroyForm:Be,setCallbacks:Be,registerWatch:Be,getFields:Be,setValidateMessages:Be,setPreserve:Be,getInitialValue:Be}}}),yc=_.createContext(null);function Gu(t){return t==null?[]:Array.isArray(t)?t:[t]}function xI(t){return t&&!!t._init}function Ku(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Qu=Ku();function OI(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function MI(t,e,n){if(kh())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&Rs(i,n.prototype),i}function Xu(t){var e=typeof Map=="function"?new Map:void 0;return Xu=function(r){if(r===null||!OI(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return MI(r,arguments,Ps(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Rs(i,r)},Xu(t)}var NI=/%[sdj%]/g,kI=function(){};function Yu(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function _n(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var s=t.replace(NI,function(a){if(a==="%%")return"%";if(i>=o)return a;switch(a){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return a}});return s}return t}function DI(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function wt(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||DI(e)&&typeof t=="string"&&!t)}function VI(t,e,n){var r=[],i=0,o=t.length;function s(a){r.push.apply(r,ce(a||[])),i++,i===o&&n(r)}t.forEach(function(a){e(a,s)})}function bp(t,e,n){var r=0,i=t.length;function o(s){if(s&&s.length){n(s);return}var a=r;r=r+1,a<i?e(t[a],o):n([])}o([])}function LI(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,ce(t[n]||[]))}),e}var Ep=function(t){Gi(n,t);var e=Ki(n);function n(r,i){var o;return Wt(this,n),o=e.call(this,"Async Validation Error"),L(ye(o),"errors",void 0),L(ye(o),"fields",void 0),o.errors=r,o.fields=i,o}return qt(n)}(Xu(Error));function FI(t,e,n,r,i){if(e.first){var o=new Promise(function(g,E){var S=function(x){return r(x),x.length?E(new Ep(x,Yu(x))):g(i)},C=LI(t);bp(C,n,S)});return o.catch(function(g){return g}),o}var s=e.firstFields===!0?Object.keys(t):e.firstFields||[],a=Object.keys(t),l=a.length,u=0,h=[],f=new Promise(function(g,E){var S=function(m){if(h.push.apply(h,m),u++,u===l)return r(h),h.length?E(new Ep(h,Yu(h))):g(i)};a.length||(r(h),g(i)),a.forEach(function(C){var m=t[C];s.indexOf(C)!==-1?bp(m,n,S):VI(m,n,S)})});return f.catch(function(g){return g}),f}function $I(t){return!!(t&&t.message!==void 0)}function jI(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function wp(t,e){return function(n){var r;return t.fullFields?r=jI(e,t.fullFields):r=e[n.field||t.fullField],$I(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function Tp(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];pe(r)==="object"&&pe(t[n])==="object"?t[n]=U(U({},t[n]),r):t[n]=r}}return t}var oo="enum",UI=function(e,n,r,i,o){e[oo]=Array.isArray(e[oo])?e[oo]:[],e[oo].indexOf(n)===-1&&i.push(_n(o.messages[oo],e.fullField,e[oo].join(", ")))},BI=function(e,n,r,i,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(_n(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var s=new RegExp(e.pattern);s.test(n)||i.push(_n(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},zI=function(e,n,r,i,o){var s=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=n,f=null,g=typeof n=="number",E=typeof n=="string",S=Array.isArray(n);if(g?f="number":E?f="string":S&&(f="array"),!f)return!1;S&&(h=n.length),E&&(h=n.replace(u,"_").length),s?h!==e.len&&i.push(_n(o.messages[f].len,e.fullField,e.len)):a&&!l&&h<e.min?i.push(_n(o.messages[f].min,e.fullField,e.min)):l&&!a&&h>e.max?i.push(_n(o.messages[f].max,e.fullField,e.max)):a&&l&&(h<e.min||h>e.max)&&i.push(_n(o.messages[f].range,e.fullField,e.min,e.max))},Gv=function(e,n,r,i,o,s){e.required&&(!r.hasOwnProperty(e.field)||wt(n,s||e.type))&&i.push(_n(o.messages.required,e.fullField))},ka;const HI=function(){if(ka)return ka;var t="[a-fA-F\\d:]",e=function(k){return k&&k.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(t,")|(?<=").concat(t,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],o="(?:%[0-9a-zA-Z]{1,})?",s="(?:".concat(i.join("|"),")").concat(o),a=new RegExp("(?:^".concat(n,"$)|(?:^").concat(s,"$)")),l=new RegExp("^".concat(n,"$")),u=new RegExp("^".concat(s,"$")),h=function(k){return k&&k.exact?a:new RegExp("(?:".concat(e(k)).concat(n).concat(e(k),")|(?:").concat(e(k)).concat(s).concat(e(k),")"),"g")};h.v4=function(N){return N&&N.exact?l:new RegExp("".concat(e(N)).concat(n).concat(e(N)),"g")},h.v6=function(N){return N&&N.exact?u:new RegExp("".concat(e(N)).concat(s).concat(e(N)),"g")};var f="(?:(?:[a-z]+:)?//)",g="(?:\\S+(?::\\S*)?@)?",E=h.v4().source,S=h.v6().source,C="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",m="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",x="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",A="(?::\\d{2,5})?",O='(?:[/?#][^\\s"]*)?',M="(?:".concat(f,"|www\\.)").concat(g,"(?:localhost|").concat(E,"|").concat(S,"|").concat(C).concat(m).concat(x,")").concat(A).concat(O);return ka=new RegExp("(?:^".concat(M,"$)"),"i"),ka};var Sp={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},ls={integer:function(e){return ls.number(e)&&parseInt(e,10)===e},float:function(e){return ls.number(e)&&!ls.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return pe(e)==="object"&&!ls.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(Sp.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(HI())},hex:function(e){return typeof e=="string"&&!!e.match(Sp.hex)}},WI=function(e,n,r,i,o){if(e.required&&n===void 0){Gv(e,n,r,i,o);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;s.indexOf(a)>-1?ls[a](n)||i.push(_n(o.messages.types[a],e.fullField,e.type)):a&&pe(n)!==e.type&&i.push(_n(o.messages.types[a],e.fullField,e.type))},qI=function(e,n,r,i,o){(/^\s+$/.test(n)||n==="")&&i.push(_n(o.messages.whitespace,e.fullField))};const we={required:Gv,whitespace:qI,type:WI,range:zI,enum:UI,pattern:BI};var GI=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(wt(n)&&!e.required)return r();we.required(e,n,i,s,o)}r(s)},KI=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(n==null&&!e.required)return r();we.required(e,n,i,s,o,"array"),n!=null&&(we.type(e,n,i,s,o),we.range(e,n,i,s,o))}r(s)},QI=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(wt(n)&&!e.required)return r();we.required(e,n,i,s,o),n!==void 0&&we.type(e,n,i,s,o)}r(s)},XI=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(wt(n,"date")&&!e.required)return r();if(we.required(e,n,i,s,o),!wt(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),we.type(e,l,i,s,o),l&&we.range(e,l.getTime(),i,s,o)}}r(s)},YI="enum",JI=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(wt(n)&&!e.required)return r();we.required(e,n,i,s,o),n!==void 0&&we[YI](e,n,i,s,o)}r(s)},ZI=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(wt(n)&&!e.required)return r();we.required(e,n,i,s,o),n!==void 0&&(we.type(e,n,i,s,o),we.range(e,n,i,s,o))}r(s)},eC=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(wt(n)&&!e.required)return r();we.required(e,n,i,s,o),n!==void 0&&(we.type(e,n,i,s,o),we.range(e,n,i,s,o))}r(s)},tC=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(wt(n)&&!e.required)return r();we.required(e,n,i,s,o),n!==void 0&&we.type(e,n,i,s,o)}r(s)},nC=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(n===""&&(n=void 0),wt(n)&&!e.required)return r();we.required(e,n,i,s,o),n!==void 0&&(we.type(e,n,i,s,o),we.range(e,n,i,s,o))}r(s)},rC=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(wt(n)&&!e.required)return r();we.required(e,n,i,s,o),n!==void 0&&we.type(e,n,i,s,o)}r(s)},iC=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(wt(n,"string")&&!e.required)return r();we.required(e,n,i,s,o),wt(n,"string")||we.pattern(e,n,i,s,o)}r(s)},oC=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(wt(n)&&!e.required)return r();we.required(e,n,i,s,o),wt(n)||we.type(e,n,i,s,o)}r(s)},sC=function(e,n,r,i,o){var s=[],a=Array.isArray(n)?"array":pe(n);we.required(e,n,i,s,o,a),r(s)},aC=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(wt(n,"string")&&!e.required)return r();we.required(e,n,i,s,o,"string"),wt(n,"string")||(we.type(e,n,i,s,o),we.range(e,n,i,s,o),we.pattern(e,n,i,s,o),e.whitespace===!0&&we.whitespace(e,n,i,s,o))}r(s)},ql=function(e,n,r,i,o){var s=e.type,a=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(wt(n,s)&&!e.required)return r();we.required(e,n,i,a,o,s),wt(n,s)||we.type(e,n,i,a,o)}r(a)};const _s={string:aC,method:tC,number:nC,boolean:QI,regexp:oC,integer:eC,float:ZI,array:KI,object:rC,enum:JI,pattern:iC,date:XI,url:ql,hex:ql,email:ql,required:sC,any:GI};var Zs=function(){function t(e){Wt(this,t),L(this,"rules",null),L(this,"_messages",Qu),this.define(e)}return qt(t,[{key:"define",value:function(n){var r=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(pe(n)!=="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(i){var o=n[i];r.rules[i]=Array.isArray(o)?o:[o]})}},{key:"messages",value:function(n){return n&&(this._messages=Tp(Ku(),n)),this._messages}},{key:"validate",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},s=n,a=i,l=o;if(typeof a=="function"&&(l=a,a={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,s),Promise.resolve(s);function u(S){var C=[],m={};function x(O){if(Array.isArray(O)){var M;C=(M=C).concat.apply(M,ce(O))}else C.push(O)}for(var A=0;A<S.length;A++)x(S[A]);C.length?(m=Yu(C),l(C,m)):l(null,s)}if(a.messages){var h=this.messages();h===Qu&&(h=Ku()),Tp(h,a.messages),a.messages=h}else a.messages=this.messages();var f={},g=a.keys||Object.keys(this.rules);g.forEach(function(S){var C=r.rules[S],m=s[S];C.forEach(function(x){var A=x;typeof A.transform=="function"&&(s===n&&(s=U({},s)),m=s[S]=A.transform(m),m!=null&&(A.type=A.type||(Array.isArray(m)?"array":pe(m)))),typeof A=="function"?A={validator:A}:A=U({},A),A.validator=r.getValidationMethod(A),A.validator&&(A.field=S,A.fullField=A.fullField||S,A.type=r.getType(A),f[S]=f[S]||[],f[S].push({rule:A,value:m,source:s,field:S}))})});var E={};return FI(f,a,function(S,C){var m=S.rule,x=(m.type==="object"||m.type==="array")&&(pe(m.fields)==="object"||pe(m.defaultField)==="object");x=x&&(m.required||!m.required&&S.value),m.field=S.field;function A(b,v){return U(U({},v),{},{fullField:"".concat(m.fullField,".").concat(b),fullFields:m.fullFields?[].concat(ce(m.fullFields),[b]):[b]})}function O(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],v=Array.isArray(b)?b:[b];!a.suppressWarning&&v.length&&t.warning("async-validator:",v),v.length&&m.message!==void 0&&(v=[].concat(m.message));var y=v.map(wp(m,s));if(a.first&&y.length)return E[m.field]=1,C(y);if(!x)C(y);else{if(m.required&&!S.value)return m.message!==void 0?y=[].concat(m.message).map(wp(m,s)):a.error&&(y=[a.error(m,_n(a.messages.required,m.field))]),C(y);var I={};m.defaultField&&Object.keys(S.value).map(function(T){I[T]=m.defaultField}),I=U(U({},I),S.rule.fields);var R={};Object.keys(I).forEach(function(T){var B=I[T],Y=Array.isArray(B)?B:[B];R[T]=Y.map(A.bind(null,T))});var P=new t(R);P.messages(a.messages),S.rule.options&&(S.rule.options.messages=a.messages,S.rule.options.error=a.error),P.validate(S.value,S.rule.options||a,function(T){var B=[];y&&y.length&&B.push.apply(B,ce(y)),T&&T.length&&B.push.apply(B,ce(T)),C(B.length?B:null)})}}var M;if(m.asyncValidator)M=m.asyncValidator(m,S.value,O,S.source,a);else if(m.validator){try{M=m.validator(m,S.value,O,S.source,a)}catch(b){var N,k;(N=(k=console).error)===null||N===void 0||N.call(k,b),a.suppressValidatorError||setTimeout(function(){throw b},0),O(b.message)}M===!0?O():M===!1?O(typeof m.message=="function"?m.message(m.fullField||m.field):m.message||"".concat(m.fullField||m.field," fails")):M instanceof Array?O(M):M instanceof Error&&O(M.message)}M&&M.then&&M.then(function(){return O()},function(b){return O(b)})},function(S){u(S)},s)}},{key:"getType",value:function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!_s.hasOwnProperty(n.type))throw new Error(_n("Unknown rule type %s",n.type));return n.type||"string"}},{key:"getValidationMethod",value:function(n){if(typeof n.validator=="function")return n.validator;var r=Object.keys(n),i=r.indexOf("message");return i!==-1&&r.splice(i,1),r.length===1&&r[0]==="required"?_s.required:_s[this.getType(n)]||void 0}}]),t}();L(Zs,"register",function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");_s[e]=n});L(Zs,"warning",kI);L(Zs,"messages",Qu);L(Zs,"validators",_s);var gn="'${name}' is not a valid ${type}",Kv={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:gn,method:gn,array:gn,object:gn,number:gn,date:gn,boolean:gn,integer:gn,float:gn,regexp:gn,email:gn,url:gn,hex:gn},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},Ip=Zs;function cC(t,e){return t.replace(/\\?\$\{\w+\}/g,function(n){if(n.startsWith("\\"))return n.slice(1);var r=n.slice(2,-1);return e[r]})}var Cp="CODE_LOGIC_ERROR";function Ju(t,e,n,r,i){return Zu.apply(this,arguments)}function Zu(){return Zu=Qi(en().mark(function t(e,n,r,i,o){var s,a,l,u,h,f,g,E,S;return en().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return s=U({},r),delete s.ruleIndex,Ip.warning=function(){},s.validator&&(a=s.validator,s.validator=function(){try{return a.apply(void 0,arguments)}catch(x){return console.error(x),Promise.reject(Cp)}}),l=null,s&&s.type==="array"&&s.defaultField&&(l=s.defaultField,delete s.defaultField),u=new Ip(L({},e,[s])),h=go(Kv,i.validateMessages),u.messages(h),f=[],m.prev=10,m.next=13,Promise.resolve(u.validate(L({},e,n),U({},i)));case 13:m.next=18;break;case 15:m.prev=15,m.t0=m.catch(10),m.t0.errors&&(f=m.t0.errors.map(function(x,A){var O=x.message,M=O===Cp?h.default:O;return _.isValidElement(M)?_.cloneElement(M,{key:"error_".concat(A)}):M}));case 18:if(!(!f.length&&l)){m.next=23;break}return m.next=21,Promise.all(n.map(function(x,A){return Ju("".concat(e,".").concat(A),x,l,i,o)}));case 21:return g=m.sent,m.abrupt("return",g.reduce(function(x,A){return[].concat(ce(x),ce(A))},[]));case 23:return E=U(U({},r),{},{name:e,enum:(r.enum||[]).join(", ")},o),S=f.map(function(x){return typeof x=="string"?cC(x,E):x}),m.abrupt("return",S);case 26:case"end":return m.stop()}},t,null,[[10,15]])})),Zu.apply(this,arguments)}function lC(t,e,n,r,i,o){var s=t.join("."),a=n.map(function(h,f){var g=h.validator,E=U(U({},h),{},{ruleIndex:f});return g&&(E.validator=function(S,C,m){var x=!1,A=function(){for(var N=arguments.length,k=new Array(N),b=0;b<N;b++)k[b]=arguments[b];Promise.resolve().then(function(){wn(!x,"Your validator function has already return a promise. `callback` will be ignored."),x||m.apply(void 0,k)})},O=g(S,C,A);x=O&&typeof O.then=="function"&&typeof O.catch=="function",wn(x,"`callback` is deprecated. Please return a promise instead."),x&&O.then(function(){m()}).catch(function(M){m(M||" ")})}),E}).sort(function(h,f){var g=h.warningOnly,E=h.ruleIndex,S=f.warningOnly,C=f.ruleIndex;return!!g==!!S?E-C:g?1:-1}),l;if(i===!0)l=new Promise(function(){var h=Qi(en().mark(function f(g,E){var S,C,m;return en().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:S=0;case 1:if(!(S<a.length)){A.next=12;break}return C=a[S],A.next=5,Ju(s,e,C,r,o);case 5:if(m=A.sent,!m.length){A.next=9;break}return E([{errors:m,rule:C}]),A.abrupt("return");case 9:S+=1,A.next=1;break;case 12:g([]);case 13:case"end":return A.stop()}},f)}));return function(f,g){return h.apply(this,arguments)}}());else{var u=a.map(function(h){return Ju(s,e,h,r,o).then(function(f){return{errors:f,rule:h}})});l=(i?hC(u):uC(u)).then(function(h){return Promise.reject(h)})}return l.catch(function(h){return h}),l}function uC(t){return eh.apply(this,arguments)}function eh(){return eh=Qi(en().mark(function t(e){return en().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(i){var o,s=(o=[]).concat.apply(o,ce(i));return s}));case 1:case"end":return r.stop()}},t)})),eh.apply(this,arguments)}function hC(t){return th.apply(this,arguments)}function th(){return th=Qi(en().mark(function t(e){var n;return en().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=0,i.abrupt("return",new Promise(function(o){e.forEach(function(s){s.then(function(a){a.errors.length&&o([a]),n+=1,n===e.length&&o([])})})}));case 2:case"end":return i.stop()}},t)})),th.apply(this,arguments)}function dt(t){return Gu(t)}function Ap(t,e){var n={};return e.forEach(function(r){var i=ar(t,r);n=qn(n,r,i)}),n}function _o(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return t&&t.some(function(r){return Qv(e,r,n)})}function Qv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!t||!e||!n&&t.length!==e.length?!1:e.every(function(r,i){return t[i]===r})}function dC(t,e){if(t===e)return!0;if(!t&&e||t&&!e||!t||!e||pe(t)!=="object"||pe(e)!=="object")return!1;var n=Object.keys(t),r=Object.keys(e),i=new Set([].concat(n,r));return ce(i).every(function(o){var s=t[o],a=e[o];return typeof s=="function"&&typeof a=="function"?!0:s===a})}function fC(t){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&pe(e.target)==="object"&&t in e.target?e.target[t]:e}function Rp(t,e,n){var r=t.length;if(e<0||e>=r||n<0||n>=r)return t;var i=t[e],o=e-n;return o>0?[].concat(ce(t.slice(0,n)),[i],ce(t.slice(n,e)),ce(t.slice(e+1,r))):o<0?[].concat(ce(t.slice(0,e)),ce(t.slice(e+1,n+1)),[i],ce(t.slice(n+1,r))):t}var pC=["name"],Mn=[];function Gl(t,e,n,r,i,o){return typeof t=="function"?t(e,n,"source"in o?{source:o.source}:{}):r!==i}var Yh=function(t){Gi(n,t);var e=Ki(n);function n(r){var i;if(Wt(this,n),i=e.call(this,r),L(ye(i),"state",{resetCount:0}),L(ye(i),"cancelRegisterFunc",null),L(ye(i),"mounted",!1),L(ye(i),"touched",!1),L(ye(i),"dirty",!1),L(ye(i),"validatePromise",void 0),L(ye(i),"prevValidating",void 0),L(ye(i),"errors",Mn),L(ye(i),"warnings",Mn),L(ye(i),"cancelRegister",function(){var l=i.props,u=l.preserve,h=l.isListField,f=l.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(h,u,dt(f)),i.cancelRegisterFunc=null}),L(ye(i),"getNamePath",function(){var l=i.props,u=l.name,h=l.fieldContext,f=h.prefixName,g=f===void 0?[]:f;return u!==void 0?[].concat(ce(g),ce(u)):[]}),L(ye(i),"getRules",function(){var l=i.props,u=l.rules,h=u===void 0?[]:u,f=l.fieldContext;return h.map(function(g){return typeof g=="function"?g(f):g})}),L(ye(i),"refresh",function(){i.mounted&&i.setState(function(l){var u=l.resetCount;return{resetCount:u+1}})}),L(ye(i),"metaCache",null),L(ye(i),"triggerMetaEvent",function(l){var u=i.props.onMetaChange;if(u){var h=U(U({},i.getMeta()),{},{destroy:l});gu(i.metaCache,h)||u(h),i.metaCache=h}else i.metaCache=null}),L(ye(i),"onStoreChange",function(l,u,h){var f=i.props,g=f.shouldUpdate,E=f.dependencies,S=E===void 0?[]:E,C=f.onReset,m=h.store,x=i.getNamePath(),A=i.getValue(l),O=i.getValue(m),M=u&&_o(u,x);switch(h.type==="valueUpdate"&&h.source==="external"&&!gu(A,O)&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=Mn,i.warnings=Mn,i.triggerMetaEvent()),h.type){case"reset":if(!u||M){i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=Mn,i.warnings=Mn,i.triggerMetaEvent(),C==null||C(),i.refresh();return}break;case"remove":{if(g&&Gl(g,l,m,A,O,h)){i.reRender();return}break}case"setField":{var N=h.data;if(M){"touched"in N&&(i.touched=N.touched),"validating"in N&&!("originRCField"in N)&&(i.validatePromise=N.validating?Promise.resolve([]):null),"errors"in N&&(i.errors=N.errors||Mn),"warnings"in N&&(i.warnings=N.warnings||Mn),i.dirty=!0,i.triggerMetaEvent(),i.reRender();return}else if("value"in N&&_o(u,x,!0)){i.reRender();return}if(g&&!x.length&&Gl(g,l,m,A,O,h)){i.reRender();return}break}case"dependenciesUpdate":{var k=S.map(dt);if(k.some(function(b){return _o(h.relatedFields,b)})){i.reRender();return}break}default:if(M||(!S.length||x.length||g)&&Gl(g,l,m,A,O,h)){i.reRender();return}break}g===!0&&i.reRender()}),L(ye(i),"validateRules",function(l){var u=i.getNamePath(),h=i.getValue(),f=l||{},g=f.triggerName,E=f.validateOnly,S=E===void 0?!1:E,C=Promise.resolve().then(Qi(en().mark(function m(){var x,A,O,M,N,k,b;return en().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(i.mounted){y.next=2;break}return y.abrupt("return",[]);case 2:if(x=i.props,A=x.validateFirst,O=A===void 0?!1:A,M=x.messageVariables,N=x.validateDebounce,k=i.getRules(),g&&(k=k.filter(function(I){return I}).filter(function(I){var R=I.validateTrigger;if(!R)return!0;var P=Gu(R);return P.includes(g)})),!(N&&g)){y.next=10;break}return y.next=8,new Promise(function(I){setTimeout(I,N)});case 8:if(i.validatePromise===C){y.next=10;break}return y.abrupt("return",[]);case 10:return b=lC(u,h,k,l,O,M),b.catch(function(I){return I}).then(function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mn;if(i.validatePromise===C){var R;i.validatePromise=null;var P=[],T=[];(R=I.forEach)===null||R===void 0||R.call(I,function(B){var Y=B.rule.warningOnly,F=B.errors,V=F===void 0?Mn:F;Y?T.push.apply(T,ce(V)):P.push.apply(P,ce(V))}),i.errors=P,i.warnings=T,i.triggerMetaEvent(),i.reRender()}}),y.abrupt("return",b);case 13:case"end":return y.stop()}},m)})));return S||(i.validatePromise=C,i.dirty=!0,i.errors=Mn,i.warnings=Mn,i.triggerMetaEvent(),i.reRender()),C}),L(ye(i),"isFieldValidating",function(){return!!i.validatePromise}),L(ye(i),"isFieldTouched",function(){return i.touched}),L(ye(i),"isFieldDirty",function(){if(i.dirty||i.props.initialValue!==void 0)return!0;var l=i.props.fieldContext,u=l.getInternalHooks(Di),h=u.getInitialValue;return h(i.getNamePath())!==void 0}),L(ye(i),"getErrors",function(){return i.errors}),L(ye(i),"getWarnings",function(){return i.warnings}),L(ye(i),"isListField",function(){return i.props.isListField}),L(ye(i),"isList",function(){return i.props.isList}),L(ye(i),"isPreserve",function(){return i.props.preserve}),L(ye(i),"getMeta",function(){i.prevValidating=i.isFieldValidating();var l={touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:i.validatePromise===null};return l}),L(ye(i),"getOnlyChild",function(l){if(typeof l=="function"){var u=i.getMeta();return U(U({},i.getOnlyChild(l(i.getControlled(),u,i.props.fieldContext))),{},{isFunction:!0})}var h=Cs(l);return h.length!==1||!_.isValidElement(h[0])?{child:h,isFunction:!1}:{child:h[0],isFunction:!1}}),L(ye(i),"getValue",function(l){var u=i.props.fieldContext.getFieldsValue,h=i.getNamePath();return ar(l||u(!0),h)}),L(ye(i),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=i.props,h=u.name,f=u.trigger,g=u.validateTrigger,E=u.getValueFromEvent,S=u.normalize,C=u.valuePropName,m=u.getValueProps,x=u.fieldContext,A=g!==void 0?g:x.validateTrigger,O=i.getNamePath(),M=x.getInternalHooks,N=x.getFieldsValue,k=M(Di),b=k.dispatch,v=i.getValue(),y=m||function(B){return L({},C,B)},I=l[f],R=h!==void 0?y(v):{},P=U(U({},l),R);P[f]=function(){i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var B,Y=arguments.length,F=new Array(Y),V=0;V<Y;V++)F[V]=arguments[V];E?B=E.apply(void 0,F):B=fC.apply(void 0,[C].concat(F)),S&&(B=S(B,v,N(!0))),b({type:"updateValue",namePath:O,value:B}),I&&I.apply(void 0,F)};var T=Gu(A||[]);return T.forEach(function(B){var Y=P[B];P[B]=function(){Y&&Y.apply(void 0,arguments);var F=i.props.rules;F&&F.length&&b({type:"validateField",namePath:O,triggerName:B})}}),P}),r.fieldContext){var o=r.fieldContext.getInternalHooks,s=o(Di),a=s.initEntityValue;a(ye(i))}return i}return qt(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.shouldUpdate,s=i.fieldContext;if(this.mounted=!0,s){var a=s.getInternalHooks,l=a(Di),u=l.registerField;this.cancelRegisterFunc=u(this)}o===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var i=this.state.resetCount,o=this.props.children,s=this.getOnlyChild(o),a=s.child,l=s.isFunction,u;return l?u=a:_.isValidElement(a)?u=_.cloneElement(a,this.getControlled(a.props)):(wn(!a,"`children` of Field is not validate ReactElement."),u=a),_.createElement(_.Fragment,{key:i},u)}}]),n}(_.Component);L(Yh,"contextType",xo);L(Yh,"defaultProps",{trigger:"onChange",valuePropName:"value"});function Xv(t){var e=t.name,n=fr(t,pC),r=_.useContext(xo),i=_.useContext(yc),o=e!==void 0?dt(e):void 0,s="keep";return n.isListField||(s="_".concat((o||[]).join("_"))),_.createElement(Yh,Ct({key:s,name:o,isListField:!!i},n,{fieldContext:r}))}function gC(t){var e=t.name,n=t.initialValue,r=t.children,i=t.rules,o=t.validateTrigger,s=t.isListField,a=_.useContext(xo),l=_.useContext(yc),u=_.useRef({keys:[],id:0}),h=u.current,f=_.useMemo(function(){var C=dt(a.prefixName)||[];return[].concat(ce(C),ce(dt(e)))},[a.prefixName,e]),g=_.useMemo(function(){return U(U({},a),{},{prefixName:f})},[a,f]),E=_.useMemo(function(){return{getKey:function(m){var x=f.length,A=m[x];return[h.keys[A],m.slice(x+1)]}}},[f]);if(typeof r!="function")return wn(!1,"Form.List only accepts function as children."),null;var S=function(m,x,A){var O=A.source;return O==="internal"?!1:m!==x};return _.createElement(yc.Provider,{value:E},_.createElement(xo.Provider,{value:g},_.createElement(Xv,{name:[],shouldUpdate:S,rules:i,validateTrigger:o,initialValue:n,isList:!0,isListField:s??!!l},function(C,m){var x=C.value,A=x===void 0?[]:x,O=C.onChange,M=a.getFieldValue,N=function(){var y=M(f||[]);return y||[]},k={add:function(y,I){var R=N();I>=0&&I<=R.length?(h.keys=[].concat(ce(h.keys.slice(0,I)),[h.id],ce(h.keys.slice(I))),O([].concat(ce(R.slice(0,I)),[y],ce(R.slice(I))))):(h.keys=[].concat(ce(h.keys),[h.id]),O([].concat(ce(R),[y]))),h.id+=1},remove:function(y){var I=N(),R=new Set(Array.isArray(y)?y:[y]);R.size<=0||(h.keys=h.keys.filter(function(P,T){return!R.has(T)}),O(I.filter(function(P,T){return!R.has(T)})))},move:function(y,I){if(y!==I){var R=N();y<0||y>=R.length||I<0||I>=R.length||(h.keys=Rp(h.keys,y,I),O(Rp(R,y,I)))}}},b=A||[];return Array.isArray(b)||(b=[]),r(b.map(function(v,y){var I=h.keys[y];return I===void 0&&(h.keys[y]=h.id,I=h.keys[y],h.id+=1),{name:y,key:I,isListField:!0}}),k,m)})))}function mC(t){var e=!1,n=t.length,r=[];return t.length?new Promise(function(i,o){t.forEach(function(s,a){s.catch(function(l){return e=!0,l}).then(function(l){n-=1,r[a]=l,!(n>0)&&(e&&o(r),i(r))})})}):Promise.resolve([])}var Yv="__@field_split__";function Kl(t){return t.map(function(e){return"".concat(pe(e),":").concat(e)}).join(Yv)}var so=function(){function t(){Wt(this,t),L(this,"kvs",new Map)}return qt(t,[{key:"set",value:function(n,r){this.kvs.set(Kl(n),r)}},{key:"get",value:function(n){return this.kvs.get(Kl(n))}},{key:"update",value:function(n,r){var i=this.get(n),o=r(i);o?this.set(n,o):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(Kl(n))}},{key:"map",value:function(n){return ce(this.kvs.entries()).map(function(r){var i=J(r,2),o=i[0],s=i[1],a=o.split(Yv);return n({key:a.map(function(l){var u=l.match(/^([^:]*):(.*)$/),h=J(u,3),f=h[1],g=h[2];return f==="number"?Number(g):g}),value:s})})}},{key:"toJSON",value:function(){var n={};return this.map(function(r){var i=r.key,o=r.value;return n[i.join(".")]=o,null}),n}}]),t}(),vC=["name"],yC=qt(function t(e){var n=this;Wt(this,t),L(this,"formHooked",!1),L(this,"forceRootUpdate",void 0),L(this,"subscribable",!0),L(this,"store",{}),L(this,"fieldEntities",[]),L(this,"initialValues",{}),L(this,"callbacks",{}),L(this,"validateMessages",null),L(this,"preserve",null),L(this,"lastValidatePromise",null),L(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),L(this,"getInternalHooks",function(r){return r===Di?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(wn(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),L(this,"useSubscribe",function(r){n.subscribable=r}),L(this,"prevWithoutPreserves",null),L(this,"setInitialValues",function(r,i){if(n.initialValues=r||{},i){var o,s=go(r,n.store);(o=n.prevWithoutPreserves)===null||o===void 0||o.map(function(a){var l=a.key;s=qn(s,l,ar(r,l))}),n.prevWithoutPreserves=null,n.updateStore(s)}}),L(this,"destroyForm",function(r){if(r)n.updateStore({});else{var i=new so;n.getFieldEntities(!0).forEach(function(o){n.isMergedPreserve(o.isPreserve())||i.set(o.getNamePath(),!0)}),n.prevWithoutPreserves=i}}),L(this,"getInitialValue",function(r){var i=ar(n.initialValues,r);return r.length?go(i):i}),L(this,"setCallbacks",function(r){n.callbacks=r}),L(this,"setValidateMessages",function(r){n.validateMessages=r}),L(this,"setPreserve",function(r){n.preserve=r}),L(this,"watchList",[]),L(this,"registerWatch",function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(i){return i!==r})}}),L(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var i=n.getFieldsValue(),o=n.getFieldsValue(!0);n.watchList.forEach(function(s){s(i,o,r)})}}),L(this,"timeoutId",null),L(this,"warningUnhooked",function(){}),L(this,"updateStore",function(r){n.store=r}),L(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?n.fieldEntities.filter(function(i){return i.getNamePath().length}):n.fieldEntities}),L(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new so;return n.getFieldEntities(r).forEach(function(o){var s=o.getNamePath();i.set(s,o)}),i}),L(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return n.getFieldEntities(!0);var i=n.getFieldsMap(!0);return r.map(function(o){var s=dt(o);return i.get(s)||{INVALIDATE_NAME_PATH:dt(o)}})}),L(this,"getFieldsValue",function(r,i){n.warningUnhooked();var o,s,a;if(r===!0||Array.isArray(r)?(o=r,s=i):r&&pe(r)==="object"&&(a=r.strict,s=r.filter),o===!0&&!s)return n.store;var l=n.getFieldEntitiesForNamePathList(Array.isArray(o)?o:null),u=[];return l.forEach(function(h){var f,g,E="INVALIDATE_NAME_PATH"in h?h.INVALIDATE_NAME_PATH:h.getNamePath();if(a){var S,C;if((S=(C=h).isList)!==null&&S!==void 0&&S.call(C))return}else if(!o&&(f=(g=h).isListField)!==null&&f!==void 0&&f.call(g))return;if(!s)u.push(E);else{var m="getMeta"in h?h.getMeta():null;s(m)&&u.push(E)}}),Ap(n.store,u.map(dt))}),L(this,"getFieldValue",function(r){n.warningUnhooked();var i=dt(r);return ar(n.store,i)}),L(this,"getFieldsError",function(r){n.warningUnhooked();var i=n.getFieldEntitiesForNamePathList(r);return i.map(function(o,s){return o&&!("INVALIDATE_NAME_PATH"in o)?{name:o.getNamePath(),errors:o.getErrors(),warnings:o.getWarnings()}:{name:dt(r[s]),errors:[],warnings:[]}})}),L(this,"getFieldError",function(r){n.warningUnhooked();var i=dt(r),o=n.getFieldsError([i])[0];return o.errors}),L(this,"getFieldWarning",function(r){n.warningUnhooked();var i=dt(r),o=n.getFieldsError([i])[0];return o.warnings}),L(this,"isFieldsTouched",function(){n.warningUnhooked();for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i[0],a=i[1],l,u=!1;i.length===0?l=null:i.length===1?Array.isArray(s)?(l=s.map(dt),u=!1):(l=null,u=s):(l=s.map(dt),u=a);var h=n.getFieldEntities(!0),f=function(m){return m.isFieldTouched()};if(!l)return u?h.every(function(C){return f(C)||C.isList()}):h.some(f);var g=new so;l.forEach(function(C){g.set(C,[])}),h.forEach(function(C){var m=C.getNamePath();l.forEach(function(x){x.every(function(A,O){return m[O]===A})&&g.update(x,function(A){return[].concat(ce(A),[C])})})});var E=function(m){return m.some(f)},S=g.map(function(C){var m=C.value;return m});return u?S.every(E):S.some(E)}),L(this,"isFieldTouched",function(r){return n.warningUnhooked(),n.isFieldsTouched([r])}),L(this,"isFieldsValidating",function(r){n.warningUnhooked();var i=n.getFieldEntities();if(!r)return i.some(function(s){return s.isFieldValidating()});var o=r.map(dt);return i.some(function(s){var a=s.getNamePath();return _o(o,a)&&s.isFieldValidating()})}),L(this,"isFieldValidating",function(r){return n.warningUnhooked(),n.isFieldsValidating([r])}),L(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new so,o=n.getFieldEntities(!0);o.forEach(function(l){var u=l.props.initialValue,h=l.getNamePath();if(u!==void 0){var f=i.get(h)||new Set;f.add({entity:l,value:u}),i.set(h,f)}});var s=function(u){u.forEach(function(h){var f=h.props.initialValue;if(f!==void 0){var g=h.getNamePath(),E=n.getInitialValue(g);if(E!==void 0)wn(!1,"Form already set 'initialValues' with path '".concat(g.join("."),"'. Field can not overwrite it."));else{var S=i.get(g);if(S&&S.size>1)wn(!1,"Multiple Field with path '".concat(g.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(S){var C=n.getFieldValue(g),m=h.isListField();!m&&(!r.skipExist||C===void 0)&&n.updateStore(qn(n.store,g,ce(S)[0].value))}}}})},a;r.entities?a=r.entities:r.namePathList?(a=[],r.namePathList.forEach(function(l){var u=i.get(l);if(u){var h;(h=a).push.apply(h,ce(ce(u).map(function(f){return f.entity})))}})):a=o,s(a)}),L(this,"resetFields",function(r){n.warningUnhooked();var i=n.store;if(!r){n.updateStore(go(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(i,null,{type:"reset"}),n.notifyWatch();return}var o=r.map(dt);o.forEach(function(s){var a=n.getInitialValue(s);n.updateStore(qn(n.store,s,a))}),n.resetWithFieldInitialValue({namePathList:o}),n.notifyObservers(i,o,{type:"reset"}),n.notifyWatch(o)}),L(this,"setFields",function(r){n.warningUnhooked();var i=n.store,o=[];r.forEach(function(s){var a=s.name,l=fr(s,vC),u=dt(a);o.push(u),"value"in l&&n.updateStore(qn(n.store,u,l.value)),n.notifyObservers(i,[u],{type:"setField",data:s})}),n.notifyWatch(o)}),L(this,"getFields",function(){var r=n.getFieldEntities(!0),i=r.map(function(o){var s=o.getNamePath(),a=o.getMeta(),l=U(U({},a),{},{name:s,value:n.getFieldValue(s)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return i}),L(this,"initEntityValue",function(r){var i=r.props.initialValue;if(i!==void 0){var o=r.getNamePath(),s=ar(n.store,o);s===void 0&&n.updateStore(qn(n.store,o,i))}}),L(this,"isMergedPreserve",function(r){var i=r!==void 0?r:n.preserve;return i??!0}),L(this,"registerField",function(r){n.fieldEntities.push(r);var i=r.getNamePath();if(n.notifyWatch([i]),r.props.initialValue!==void 0){var o=n.store;n.resetWithFieldInitialValue({entities:[r],skipExist:!0}),n.notifyObservers(o,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(f){return f!==r}),!n.isMergedPreserve(a)&&(!s||l.length>1)){var u=s?void 0:n.getInitialValue(i);if(i.length&&n.getFieldValue(i)!==u&&n.fieldEntities.every(function(f){return!Qv(f.getNamePath(),i)})){var h=n.store;n.updateStore(qn(h,i,u,!0)),n.notifyObservers(h,[i],{type:"remove"}),n.triggerDependenciesUpdate(h,i)}}n.notifyWatch([i])}}),L(this,"dispatch",function(r){switch(r.type){case"updateValue":{var i=r.namePath,o=r.value;n.updateValue(i,o);break}case"validateField":{var s=r.namePath,a=r.triggerName;n.validateFields([s],{triggerName:a});break}}}),L(this,"notifyObservers",function(r,i,o){if(n.subscribable){var s=U(U({},o),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(a){var l=a.onStoreChange;l(r,i,s)})}else n.forceRootUpdate()}),L(this,"triggerDependenciesUpdate",function(r,i){var o=n.getDependencyChildrenFields(i);return o.length&&n.validateFields(o),n.notifyObservers(r,o,{type:"dependenciesUpdate",relatedFields:[i].concat(ce(o))}),o}),L(this,"updateValue",function(r,i){var o=dt(r),s=n.store;n.updateStore(qn(n.store,o,i)),n.notifyObservers(s,[o],{type:"valueUpdate",source:"internal"}),n.notifyWatch([o]);var a=n.triggerDependenciesUpdate(s,o),l=n.callbacks.onValuesChange;if(l){var u=Ap(n.store,[o]);l(u,n.getFieldsValue())}n.triggerOnFieldsChange([o].concat(ce(a)))}),L(this,"setFieldsValue",function(r){n.warningUnhooked();var i=n.store;if(r){var o=go(n.store,r);n.updateStore(o)}n.notifyObservers(i,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),L(this,"setFieldValue",function(r,i){n.setFields([{name:r,value:i}])}),L(this,"getDependencyChildrenFields",function(r){var i=new Set,o=[],s=new so;n.getFieldEntities().forEach(function(l){var u=l.props.dependencies;(u||[]).forEach(function(h){var f=dt(h);s.update(f,function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return g.add(l),g})})});var a=function l(u){var h=s.get(u)||new Set;h.forEach(function(f){if(!i.has(f)){i.add(f);var g=f.getNamePath();f.isFieldDirty()&&g.length&&(o.push(g),l(g))}})};return a(r),o}),L(this,"triggerOnFieldsChange",function(r,i){var o=n.callbacks.onFieldsChange;if(o){var s=n.getFields();if(i){var a=new so;i.forEach(function(u){var h=u.name,f=u.errors;a.set(h,f)}),s.forEach(function(u){u.errors=a.get(u.name)||u.errors})}var l=s.filter(function(u){var h=u.name;return _o(r,h)});l.length&&o(l,s)}}),L(this,"validateFields",function(r,i){n.warningUnhooked();var o,s;Array.isArray(r)||typeof r=="string"||typeof i=="string"?(o=r,s=i):s=r;var a=!!o,l=a?o.map(dt):[],u=[],h=String(Date.now()),f=new Set,g=s||{},E=g.recursive,S=g.dirty;n.getFieldEntities(!0).forEach(function(A){if(a||l.push(A.getNamePath()),!(!A.props.rules||!A.props.rules.length)&&!(S&&!A.isFieldDirty())){var O=A.getNamePath();if(f.add(O.join(h)),!a||_o(l,O,E)){var M=A.validateRules(U({validateMessages:U(U({},Kv),n.validateMessages)},s));u.push(M.then(function(){return{name:O,errors:[],warnings:[]}}).catch(function(N){var k,b=[],v=[];return(k=N.forEach)===null||k===void 0||k.call(N,function(y){var I=y.rule.warningOnly,R=y.errors;I?v.push.apply(v,ce(R)):b.push.apply(b,ce(R))}),b.length?Promise.reject({name:O,errors:b,warnings:v}):{name:O,errors:b,warnings:v}}))}}});var C=mC(u);n.lastValidatePromise=C,C.catch(function(A){return A}).then(function(A){var O=A.map(function(M){var N=M.name;return N});n.notifyObservers(n.store,O,{type:"validateFinish"}),n.triggerOnFieldsChange(O,A)});var m=C.then(function(){return n.lastValidatePromise===C?Promise.resolve(n.getFieldsValue(l)):Promise.reject([])}).catch(function(A){var O=A.filter(function(M){return M&&M.errors.length});return Promise.reject({values:n.getFieldsValue(l),errorFields:O,outOfDate:n.lastValidatePromise!==C})});m.catch(function(A){return A});var x=l.filter(function(A){return f.has(A.join(h))});return n.triggerOnFieldsChange(x),m}),L(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(r){var i=n.callbacks.onFinish;if(i)try{i(r)}catch(o){console.error(o)}}).catch(function(r){var i=n.callbacks.onFinishFailed;i&&i(r)})}),this.forceRootUpdate=e});function Jv(t){var e=_.useRef(),n=_.useState({}),r=J(n,2),i=r[1];if(!e.current)if(t)e.current=t;else{var o=function(){i({})},s=new yC(o);e.current=s.getForm()}return[e.current]}var nh=_.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Zv=function(e){var n=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,o=e.children,s=_.useContext(nh),a=_.useRef({});return _.createElement(nh.Provider,{value:U(U({},s),{},{validateMessages:U(U({},s.validateMessages),n),triggerFormChange:function(u,h){r&&r(u,{changedFields:h,forms:a.current}),s.triggerFormChange(u,h)},triggerFormFinish:function(u,h){i&&i(u,{values:h,forms:a.current}),s.triggerFormFinish(u,h)},registerForm:function(u,h){u&&(a.current=U(U({},a.current),{},L({},u,h))),s.registerForm(u,h)},unregisterForm:function(u){var h=U({},a.current);delete h[u],a.current=h,s.unregisterForm(u)}})},o)},_C=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],bC=function(e,n){var r=e.name,i=e.initialValues,o=e.fields,s=e.form,a=e.preserve,l=e.children,u=e.component,h=u===void 0?"form":u,f=e.validateMessages,g=e.validateTrigger,E=g===void 0?"onChange":g,S=e.onValuesChange,C=e.onFieldsChange,m=e.onFinish,x=e.onFinishFailed,A=e.clearOnDestroy,O=fr(e,_C),M=_.useRef(null),N=_.useContext(nh),k=Jv(s),b=J(k,1),v=b[0],y=v.getInternalHooks(Di),I=y.useSubscribe,R=y.setInitialValues,P=y.setCallbacks,T=y.setValidateMessages,B=y.setPreserve,Y=y.destroyForm;_.useImperativeHandle(n,function(){return U(U({},v),{},{nativeElement:M.current})}),_.useEffect(function(){return N.registerForm(r,v),function(){N.unregisterForm(r)}},[N,v,r]),T(U(U({},N.validateMessages),f)),P({onValuesChange:S,onFieldsChange:function(X){if(N.triggerFormChange(r,X),C){for(var oe=arguments.length,Ie=new Array(oe>1?oe-1:0),le=1;le<oe;le++)Ie[le-1]=arguments[le];C.apply(void 0,[X].concat(Ie))}},onFinish:function(X){N.triggerFormFinish(r,X),m&&m(X)},onFinishFailed:x}),B(a);var F=_.useRef(null);R(i,!F.current),F.current||(F.current=!0),_.useEffect(function(){return function(){return Y(A)}},[]);var V,j=typeof l=="function";if(j){var z=v.getFieldsValue(!0);V=l(z,v)}else V=l;I(!j);var q=_.useRef();_.useEffect(function(){dC(q.current||[],o||[])||v.setFields(o||[]),q.current=o},[o,v]);var G=_.useMemo(function(){return U(U({},v),{},{validateTrigger:E})},[v,E]),K=_.createElement(yc.Provider,{value:null},_.createElement(xo.Provider,{value:G},V));return h===!1?K:_.createElement(h,Ct({},O,{ref:M,onSubmit:function(X){X.preventDefault(),X.stopPropagation(),v.submit()},onReset:function(X){var oe;X.preventDefault(),v.resetFields(),(oe=O.onReset)===null||oe===void 0||oe.call(O,X)}}),K)};function Pp(t){try{return JSON.stringify(t)}catch{return Math.random()}}function EC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],o=i===void 0?{}:i,s=xI(o)?{form:o}:o,a=s.form,l=_.useState(),u=J(l,2),h=u[0],f=u[1],g=_.useMemo(function(){return Pp(h)},[h]),E=_.useRef(g);E.current=g;var S=_.useContext(xo),C=a||S,m=C&&C._init,x=dt(r),A=_.useRef(x);return A.current=x,_.useEffect(function(){if(m){var O=C.getFieldsValue,M=C.getInternalHooks,N=M(Di),k=N.registerWatch,b=function(R,P){var T=s.preserve?P:R;return typeof r=="function"?r(T):ar(T,A.current)},v=k(function(I,R){var P=b(I,R),T=Pp(P);E.current!==T&&(E.current=T,f(P))}),y=b(O(),O(!0));return h!==y&&f(y),v}},[m]),h}var wC=_.forwardRef(bC),ea=wC;ea.FormProvider=Zv;ea.Field=Xv;ea.List=gC;ea.useForm=Jv;ea.useWatch=EC;const wk=_.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),Tk=_.createContext(null),Sk=t=>{const e=Im(t,["prefixCls"]);return _.createElement(Zv,Object.assign({},e))},Ik=_.createContext({prefixCls:""}),xp=_.createContext({}),TC=t=>{let{children:e,status:n,override:r}=t;const i=_.useContext(xp),o=_.useMemo(()=>{const s=Object.assign({},i);return r&&delete s.isFormItemInput,n&&(delete s.status,delete s.hasFeedback,delete s.feedbackIcon),s},[n,r,i]);return _.createElement(xp.Provider,{value:o},e)},SC=_.createContext(void 0),IC=t=>{const{space:e,form:n,children:r}=t;if(r==null)return null;let i=r;return n&&(i=me.createElement(TC,{override:!0,status:!0},i)),e&&(i=me.createElement(zS,null,i)),i},Ck=t=>({[t.componentCls]:{[`${t.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}},[`${t.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}}}),CC=t=>({animationDuration:t,animationFillMode:"both"}),AC=t=>({animationDuration:t,animationFillMode:"both"}),RC=function(t,e,n,r){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${t}-enter,
      ${o}${t}-appear
    `]:Object.assign(Object.assign({},CC(r)),{animationPlayState:"paused"}),[`${o}${t}-leave`]:Object.assign(Object.assign({},AC(r)),{animationPlayState:"paused"}),[`
      ${o}${t}-enter${t}-enter-active,
      ${o}${t}-appear${t}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${o}${t}-leave${t}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},PC=new Ln("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),xC=new Ln("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),Op=new Ln("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Mp=new Ln("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),OC=new Ln("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),MC=new Ln("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),NC=new Ln("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),kC=new Ln("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),DC=new Ln("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),VC=new Ln("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),LC=new Ln("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),FC=new Ln("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),$C={zoom:{inKeyframes:PC,outKeyframes:xC},"zoom-big":{inKeyframes:Op,outKeyframes:Mp},"zoom-big-fast":{inKeyframes:Op,outKeyframes:Mp},"zoom-left":{inKeyframes:NC,outKeyframes:kC},"zoom-right":{inKeyframes:DC,outKeyframes:VC},"zoom-up":{inKeyframes:OC,outKeyframes:MC},"zoom-down":{inKeyframes:LC,outKeyframes:FC}},jC=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=$C[e];return[RC(r,i,o,e==="zoom-big-fast"?t.motionDurationFast:t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:t.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},UC=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t==null?void 0:t.substr(0,4))};function BC(t){var e=t.prefixCls,n=t.align,r=t.arrow,i=t.arrowPos,o=r||{},s=o.className,a=o.content,l=i.x,u=l===void 0?0:l,h=i.y,f=h===void 0?0:h,g=_.useRef();if(!n||!n.points)return null;var E={position:"absolute"};if(n.autoArrow!==!1){var S=n.points[0],C=n.points[1],m=S[0],x=S[1],A=C[0],O=C[1];m===A||!["t","b"].includes(m)?E.top=f:m==="t"?E.top=0:E.bottom=0,x===O||!["l","r"].includes(x)?E.left=u:x==="l"?E.left=0:E.right=0}return _.createElement("div",{ref:g,className:Je("".concat(e,"-arrow"),s),style:E},a)}function zC(t){var e=t.prefixCls,n=t.open,r=t.zIndex,i=t.mask,o=t.motion;return i?_.createElement(Xs,Ct({},o,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(s){var a=s.className;return _.createElement("div",{style:{zIndex:r},className:Je("".concat(e,"-mask"),a)})}):null}var HC=_.memo(function(t){var e=t.children;return e},function(t,e){return e.cache}),WC=_.forwardRef(function(t,e){var n=t.popup,r=t.className,i=t.prefixCls,o=t.style,s=t.target,a=t.onVisibleChanged,l=t.open,u=t.keepDom,h=t.fresh,f=t.onClick,g=t.mask,E=t.arrow,S=t.arrowPos,C=t.align,m=t.motion,x=t.maskMotion,A=t.forceRender,O=t.getPopupContainer,M=t.autoDestroy,N=t.portal,k=t.zIndex,b=t.onMouseEnter,v=t.onMouseLeave,y=t.onPointerEnter,I=t.ready,R=t.offsetX,P=t.offsetY,T=t.offsetR,B=t.offsetB,Y=t.onAlign,F=t.onPrepare,V=t.stretch,j=t.targetWidth,z=t.targetHeight,q=typeof n=="function"?n():n,G=l||u,K=(O==null?void 0:O.length)>0,ee=_.useState(!O||!K),X=J(ee,2),oe=X[0],Ie=X[1];if(Xt(function(){!oe&&K&&s&&Ie(!0)},[oe,K,s]),!oe)return null;var le="auto",Ge={left:"-1000vw",top:"-1000vh",right:le,bottom:le};if(I||!l){var it,et=C.points,ze=C.dynamicInset||((it=C._experimental)===null||it===void 0?void 0:it.dynamicInset),ke=ze&&et[0][1]==="r",Ke=ze&&et[0][0]==="b";ke?(Ge.right=T,Ge.left=le):(Ge.left=R,Ge.right=le),Ke?(Ge.bottom=B,Ge.top=le):(Ge.top=P,Ge.bottom=le)}var Me={};return V&&(V.includes("height")&&z?Me.height=z:V.includes("minHeight")&&z&&(Me.minHeight=z),V.includes("width")&&j?Me.width=j:V.includes("minWidth")&&j&&(Me.minWidth=j)),l||(Me.pointerEvents="none"),_.createElement(N,{open:A||G,getContainer:O&&function(){return O(s)},autoDestroy:M},_.createElement(zC,{prefixCls:i,open:l,zIndex:k,mask:g,motion:x}),_.createElement(Dh,{onResize:Y,disabled:!l},function(ht){return _.createElement(Xs,Ct({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:A,leavedClassName:"".concat(i,"-hidden")},m,{onAppearPrepare:F,onEnterPrepare:F,visible:l,onVisibleChanged:function(pt){var Qe;m==null||(Qe=m.onVisibleChanged)===null||Qe===void 0||Qe.call(m,pt),a(pt)}}),function(Ue,pt){var Qe=Ue.className,_t=Ue.style,Re=Je(i,Qe,r);return _.createElement("div",{ref:Qs(ht,e,pt),className:Re,style:U(U(U(U({"--arrow-x":"".concat(S.x||0,"px"),"--arrow-y":"".concat(S.y||0,"px")},Ge),Me),_t),{},{boxSizing:"border-box",zIndex:k},o),onMouseEnter:b,onMouseLeave:v,onPointerEnter:y,onClick:f},E&&_.createElement(BC,{prefixCls:i,arrow:E,arrowPos:S,align:C}),_.createElement(HC,{cache:!l&&!h},q))})}))}),qC=_.forwardRef(function(t,e){var n=t.children,r=t.getTriggerDOMNode,i=jo(n),o=_.useCallback(function(a){Mh(e,r?r(a):a)},[r]),s=Nh(o,n.ref);return i?_.cloneElement(n,{ref:s}):n}),Np=_.createContext(null);function kp(t){return t?Array.isArray(t)?t:[t]:[]}function GC(t,e,n,r){return _.useMemo(function(){var i=kp(n??e),o=kp(r??e),s=new Set(i),a=new Set(o);return t&&(s.has("hover")&&(s.delete("hover"),s.add("click")),a.has("hover")&&(a.delete("hover"),a.add("click"))),[s,a]},[t,e,n,r])}function KC(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function QC(t,e,n,r){for(var i=n.points,o=Object.keys(t),s=0;s<o.length;s+=1){var a,l=o[s];if(KC((a=t[l])===null||a===void 0?void 0:a.points,i,r))return"".concat(e,"-placement-").concat(l)}return""}function Dp(t,e,n,r){return e||(n?{motionName:"".concat(t,"-").concat(n)}:r?{motionName:r}:null)}function ta(t){return t.ownerDocument.defaultView}function rh(t){for(var e=[],n=t==null?void 0:t.parentElement,r=["hidden","scroll","clip","auto"];n;){var i=ta(n).getComputedStyle(n),o=i.overflowX,s=i.overflowY,a=i.overflow;[o,s,a].some(function(l){return r.includes(l)})&&e.push(n),n=n.parentElement}return e}function $s(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(t)?e:t}function ss(t){return $s(parseFloat(t),0)}function Vp(t,e){var n=U({},t);return(e||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var i=ta(r).getComputedStyle(r),o=i.overflow,s=i.overflowClipMargin,a=i.borderTopWidth,l=i.borderBottomWidth,u=i.borderLeftWidth,h=i.borderRightWidth,f=r.getBoundingClientRect(),g=r.offsetHeight,E=r.clientHeight,S=r.offsetWidth,C=r.clientWidth,m=ss(a),x=ss(l),A=ss(u),O=ss(h),M=$s(Math.round(f.width/S*1e3)/1e3),N=$s(Math.round(f.height/g*1e3)/1e3),k=(S-C-A-O)*M,b=(g-E-m-x)*N,v=m*N,y=x*N,I=A*M,R=O*M,P=0,T=0;if(o==="clip"){var B=ss(s);P=B*M,T=B*N}var Y=f.x+I-P,F=f.y+v-T,V=Y+f.width+2*P-I-R-k,j=F+f.height+2*T-v-y-b;n.left=Math.max(n.left,Y),n.top=Math.max(n.top,F),n.right=Math.min(n.right,V),n.bottom=Math.min(n.bottom,j)}}),n}function Lp(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n="".concat(e),r=n.match(/^(.*)\%$/);return r?t*(parseFloat(r[1])/100):parseFloat(n)}function Fp(t,e){var n=e||[],r=J(n,2),i=r[0],o=r[1];return[Lp(t.width,i),Lp(t.height,o)]}function $p(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[t[0],t[1]]}function ao(t,e){var n=e[0],r=e[1],i,o;return n==="t"?o=t.y:n==="b"?o=t.y+t.height:o=t.y+t.height/2,r==="l"?i=t.x:r==="r"?i=t.x+t.width:i=t.x+t.width/2,{x:i,y:o}}function Zr(t,e){var n={t:"b",b:"t",l:"r",r:"l"};return t.map(function(r,i){return i===e?n[r]||"c":r}).join("")}function XC(t,e,n,r,i,o,s){var a=_.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),l=J(a,2),u=l[0],h=l[1],f=_.useRef(0),g=_.useMemo(function(){return e?rh(e):[]},[e]),E=_.useRef({}),S=function(){E.current={}};t||S();var C=vn(function(){if(e&&n&&t){let sn=function(zn,St){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:be,Ri=X.x+zn,Pi=X.y+St,rr=Ri+Ke,es=Pi+ke,te=Math.max(Ri,nr.left),ae=Math.max(Pi,nr.top),Ae=Math.min(rr,nr.right),st=Math.min(es,nr.bottom);return Math.max(0,(Ae-te)*(st-ae))},Yr=function(){nn=X.y+Oe,Ye=nn+ke,Cn=X.x+se,br=Cn+Ke};var A,O,M,N,k=e,b=k.ownerDocument,v=ta(k),y=v.getComputedStyle(k),I=y.width,R=y.height,P=y.position,T=k.style.left,B=k.style.top,Y=k.style.right,F=k.style.bottom,V=k.style.overflow,j=U(U({},i[r]),o),z=b.createElement("div");(A=k.parentElement)===null||A===void 0||A.appendChild(z),z.style.left="".concat(k.offsetLeft,"px"),z.style.top="".concat(k.offsetTop,"px"),z.style.position=P,z.style.height="".concat(k.offsetHeight,"px"),z.style.width="".concat(k.offsetWidth,"px"),k.style.left="0",k.style.top="0",k.style.right="auto",k.style.bottom="auto",k.style.overflow="hidden";var q;if(Array.isArray(n))q={x:n[0],y:n[1],width:0,height:0};else{var G,K,ee=n.getBoundingClientRect();ee.x=(G=ee.x)!==null&&G!==void 0?G:ee.left,ee.y=(K=ee.y)!==null&&K!==void 0?K:ee.top,q={x:ee.x,y:ee.y,width:ee.width,height:ee.height}}var X=k.getBoundingClientRect();X.x=(O=X.x)!==null&&O!==void 0?O:X.left,X.y=(M=X.y)!==null&&M!==void 0?M:X.top;var oe=b.documentElement,Ie=oe.clientWidth,le=oe.clientHeight,Ge=oe.scrollWidth,it=oe.scrollHeight,et=oe.scrollTop,ze=oe.scrollLeft,ke=X.height,Ke=X.width,Me=q.height,ht=q.width,Ue={left:0,top:0,right:Ie,bottom:le},pt={left:-ze,top:-et,right:Ge-ze,bottom:it-et},Qe=j.htmlRegion,_t="visible",Re="visibleFirst";Qe!=="scroll"&&Qe!==Re&&(Qe=_t);var ve=Qe===Re,ot=Vp(pt,g),re=Vp(Ue,g),be=Qe===_t?re:ot,De=ve?re:be;k.style.left="auto",k.style.top="auto",k.style.right="0",k.style.bottom="0";var _e=k.getBoundingClientRect();k.style.left=T,k.style.top=B,k.style.right=Y,k.style.bottom=F,k.style.overflow=V,(N=k.parentElement)===null||N===void 0||N.removeChild(z);var Xe=$s(Math.round(Ke/parseFloat(I)*1e3)/1e3),Vt=$s(Math.round(ke/parseFloat(R)*1e3)/1e3);if(Xe===0||Vt===0||As(n)&&!Mv(n))return;var jr=j.offset,Ur=j.targetOffset,Br=Fp(X,jr),bt=J(Br,2),Lt=bt[0],At=bt[1],vr=Fp(q,Ur),Fn=J(vr,2),Ft=Fn[0],tn=Fn[1];q.x-=Ft,q.y-=tn;var zr=j.points||[],Zn=J(zr,2),Gt=Zn[0],cn=Zn[1],Tt=$p(cn),tt=$p(Gt),Kt=ao(q,Tt),He=ao(X,tt),ln=U({},j),se=Kt.x-He.x+Lt,Oe=Kt.y-He.y+At,Ve=sn(se,Oe),Ne=sn(se,Oe,re),Le=ao(q,["t","l"]),Fe=ao(X,["t","l"]),Rt=ao(q,["b","r"]),In=ao(X,["b","r"]),Pt=j.overflow||{},yr=Pt.adjustX,_r=Pt.adjustY,un=Pt.shiftX,$n=Pt.shiftY,jn=function(St){return typeof St=="boolean"?St:St>=0},nn,Ye,Cn,br;Yr();var Un=jn(_r),Hr=tt[0]===Tt[0];if(Un&&tt[0]==="t"&&(Ye>De.bottom||E.current.bt)){var gt=Oe;Hr?gt-=ke-Me:gt=Le.y-In.y-At;var wi=sn(se,gt),Xo=sn(se,gt,re);wi>Ve||wi===Ve&&(!ve||Xo>=Ne)?(E.current.bt=!0,Oe=gt,At=-At,ln.points=[Zr(tt,0),Zr(Tt,0)]):E.current.bt=!1}if(Un&&tt[0]==="b"&&(nn<De.top||E.current.tb)){var An=Oe;Hr?An+=ke-Me:An=Rt.y-Fe.y-At;var Ti=sn(se,An),Si=sn(se,An,re);Ti>Ve||Ti===Ve&&(!ve||Si>=Ne)?(E.current.tb=!0,Oe=An,At=-At,ln.points=[Zr(tt,0),Zr(Tt,0)]):E.current.tb=!1}var er=jn(yr),Rn=tt[1]===Tt[1];if(er&&tt[1]==="l"&&(br>De.right||E.current.rl)){var Bn=se;Rn?Bn-=Ke-ht:Bn=Le.x-In.x-Lt;var eo=sn(Bn,Oe),Er=sn(Bn,Oe,re);eo>Ve||eo===Ve&&(!ve||Er>=Ne)?(E.current.rl=!0,se=Bn,Lt=-Lt,ln.points=[Zr(tt,1),Zr(Tt,1)]):E.current.rl=!1}if(er&&tt[1]==="r"&&(Cn<De.left||E.current.lr)){var Pn=se;Rn?Pn+=Ke-ht:Pn=Rt.x-Fe.x-Lt;var Ii=sn(Pn,Oe),Wr=sn(Pn,Oe,re);Ii>Ve||Ii===Ve&&(!ve||Wr>=Ne)?(E.current.lr=!0,se=Pn,Lt=-Lt,ln.points=[Zr(tt,1),Zr(Tt,1)]):E.current.lr=!1}Yr();var rn=un===!0?0:un;typeof rn=="number"&&(Cn<re.left&&(se-=Cn-re.left-Lt,q.x+ht<re.left+rn&&(se+=q.x-re.left+ht-rn)),br>re.right&&(se-=br-re.right-Lt,q.x>re.right-rn&&(se+=q.x-re.right+rn)));var on=$n===!0?0:$n;typeof on=="number"&&(nn<re.top&&(Oe-=nn-re.top-At,q.y+Me<re.top+on&&(Oe+=q.y-re.top+Me-on)),Ye>re.bottom&&(Oe-=Ye-re.bottom-At,q.y>re.bottom-on&&(Oe+=q.y-re.bottom+on)));var wr=X.x+se,qr=wr+Ke,xn=X.y+Oe,to=xn+ke,Ci=q.x,Yo=Ci+ht,hn=q.y,dn=hn+Me,Gr=Math.max(wr,Ci),Kr=Math.min(qr,Yo),Ai=(Gr+Kr)/2,$e=Ai-wr,Qr=Math.max(xn,hn),tr=Math.min(to,dn),Tr=(Qr+tr)/2,Jo=Tr-xn;s==null||s(e,ln);var Xr=_e.right-X.x-(se+X.width),On=_e.bottom-X.y-(Oe+X.height);Xe===1&&(se=Math.round(se),Xr=Math.round(Xr)),Vt===1&&(Oe=Math.round(Oe),On=Math.round(On));var Zo={ready:!0,offsetX:se/Xe,offsetY:Oe/Vt,offsetR:Xr/Xe,offsetB:On/Vt,arrowX:$e/Xe,arrowY:Jo/Vt,scaleX:Xe,scaleY:Vt,align:ln};h(Zo)}}),m=function(){f.current+=1;var O=f.current;Promise.resolve().then(function(){f.current===O&&C()})},x=function(){h(function(O){return U(U({},O),{},{ready:!1})})};return Xt(x,[r]),Xt(function(){t||x()},[t]),[u.ready,u.offsetX,u.offsetY,u.offsetR,u.offsetB,u.arrowX,u.arrowY,u.scaleX,u.scaleY,u.align,m]}function YC(t,e,n,r,i){Xt(function(){if(t&&e&&n){let f=function(){r(),i()};var o=e,s=n,a=rh(o),l=rh(s),u=ta(s),h=new Set([u].concat(ce(a),ce(l)));return h.forEach(function(g){g.addEventListener("scroll",f,{passive:!0})}),u.addEventListener("resize",f,{passive:!0}),r(),function(){h.forEach(function(g){g.removeEventListener("scroll",f),u.removeEventListener("resize",f)})}}},[t,e,n])}function JC(t,e,n,r,i,o,s,a){var l=_.useRef(t);l.current=t,_.useEffect(function(){if(e&&r&&(!i||o)){var u=function(E){var S;l.current&&!s(((S=E.composedPath)===null||S===void 0||(S=S.call(E))===null||S===void 0?void 0:S[0])||E.target)&&a(!1)},h=ta(r);h.addEventListener("mousedown",u,!0),h.addEventListener("contextmenu",u,!0);var f=gc(n);return f&&(f.addEventListener("mousedown",u,!0),f.addEventListener("contextmenu",u,!0)),function(){h.removeEventListener("mousedown",u,!0),h.removeEventListener("contextmenu",u,!0),f&&(f.removeEventListener("mousedown",u,!0),f.removeEventListener("contextmenu",u,!0))}}},[e,n,r,i,o])}var ZC=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function eA(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qv,e=_.forwardRef(function(n,r){var i=n.prefixCls,o=i===void 0?"rc-trigger-popup":i,s=n.children,a=n.action,l=a===void 0?"hover":a,u=n.showAction,h=n.hideAction,f=n.popupVisible,g=n.defaultPopupVisible,E=n.onPopupVisibleChange,S=n.afterPopupVisibleChange,C=n.mouseEnterDelay,m=n.mouseLeaveDelay,x=m===void 0?.1:m,A=n.focusDelay,O=n.blurDelay,M=n.mask,N=n.maskClosable,k=N===void 0?!0:N,b=n.getPopupContainer,v=n.forceRender,y=n.autoDestroy,I=n.destroyPopupOnHide,R=n.popup,P=n.popupClassName,T=n.popupStyle,B=n.popupPlacement,Y=n.builtinPlacements,F=Y===void 0?{}:Y,V=n.popupAlign,j=n.zIndex,z=n.stretch,q=n.getPopupClassNameFromAlign,G=n.fresh,K=n.alignPoint,ee=n.onPopupClick,X=n.onPopupAlign,oe=n.arrow,Ie=n.popupMotion,le=n.maskMotion,Ge=n.popupTransitionName,it=n.popupAnimation,et=n.maskTransitionName,ze=n.maskAnimation,ke=n.className,Ke=n.getTriggerDOMNode,Me=fr(n,ZC),ht=y||I||!1,Ue=_.useState(!1),pt=J(Ue,2),Qe=pt[0],_t=pt[1];Xt(function(){_t(UC())},[]);var Re=_.useRef({}),ve=_.useContext(Np),ot=_.useMemo(function(){return{registerSubPopup:function(ae,Ae){Re.current[ae]=Ae,ve==null||ve.registerSubPopup(ae,Ae)}}},[ve]),re=PI(),be=_.useState(null),De=J(be,2),_e=De[0],Xe=De[1],Vt=_.useRef(null),jr=vn(function(te){Vt.current=te,As(te)&&_e!==te&&Xe(te),ve==null||ve.registerSubPopup(re,te)}),Ur=_.useState(null),Br=J(Ur,2),bt=Br[0],Lt=Br[1],At=_.useRef(null),vr=vn(function(te){As(te)&&bt!==te&&(Lt(te),At.current=te)}),Fn=_.Children.only(s),Ft=(Fn==null?void 0:Fn.props)||{},tn={},zr=vn(function(te){var ae,Ae,st=bt;return(st==null?void 0:st.contains(te))||((ae=gc(st))===null||ae===void 0?void 0:ae.host)===te||te===st||(_e==null?void 0:_e.contains(te))||((Ae=gc(_e))===null||Ae===void 0?void 0:Ae.host)===te||te===_e||Object.values(Re.current).some(function(rt){return(rt==null?void 0:rt.contains(te))||te===rt})}),Zn=Dp(o,Ie,it,Ge),Gt=Dp(o,le,ze,et),cn=_.useState(g||!1),Tt=J(cn,2),tt=Tt[0],Kt=Tt[1],He=f??tt,ln=vn(function(te){f===void 0&&Kt(te)});Xt(function(){Kt(f||!1)},[f]);var se=_.useRef(He);se.current=He;var Oe=_.useRef([]);Oe.current=[];var Ve=vn(function(te){var ae;ln(te),((ae=Oe.current[Oe.current.length-1])!==null&&ae!==void 0?ae:He)!==te&&(Oe.current.push(te),E==null||E(te))}),Ne=_.useRef(),Le=function(){clearTimeout(Ne.current)},Fe=function(ae){var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Le(),Ae===0?Ve(ae):Ne.current=setTimeout(function(){Ve(ae)},Ae*1e3)};_.useEffect(function(){return Le},[]);var Rt=_.useState(!1),In=J(Rt,2),Pt=In[0],yr=In[1];Xt(function(te){(!te||He)&&yr(!0)},[He]);var _r=_.useState(null),un=J(_r,2),$n=un[0],jn=un[1],nn=_.useState(null),Ye=J(nn,2),Cn=Ye[0],br=Ye[1],Un=function(ae){br([ae.clientX,ae.clientY])},Hr=XC(He,_e,K&&Cn!==null?Cn:bt,B,F,V,X),gt=J(Hr,11),wi=gt[0],Xo=gt[1],An=gt[2],Ti=gt[3],Si=gt[4],er=gt[5],Rn=gt[6],Bn=gt[7],eo=gt[8],Er=gt[9],Pn=gt[10],Ii=GC(Qe,l,u,h),Wr=J(Ii,2),rn=Wr[0],on=Wr[1],wr=rn.has("click"),qr=on.has("click")||on.has("contextMenu"),xn=vn(function(){Pt||Pn()}),to=function(){se.current&&K&&qr&&Fe(!1)};YC(He,bt,_e,xn,to),Xt(function(){xn()},[Cn,B]),Xt(function(){He&&!(F!=null&&F[B])&&xn()},[JSON.stringify(V)]);var Ci=_.useMemo(function(){var te=QC(F,o,Er,K);return Je(te,q==null?void 0:q(Er))},[Er,q,F,o,K]);_.useImperativeHandle(r,function(){return{nativeElement:At.current,popupElement:Vt.current,forceAlign:xn}});var Yo=_.useState(0),hn=J(Yo,2),dn=hn[0],Gr=hn[1],Kr=_.useState(0),Ai=J(Kr,2),$e=Ai[0],Qr=Ai[1],tr=function(){if(z&&bt){var ae=bt.getBoundingClientRect();Gr(ae.width),Qr(ae.height)}},Tr=function(){tr(),xn()},Jo=function(ae){yr(!1),Pn(),S==null||S(ae)},Xr=function(){return new Promise(function(ae){tr(),jn(function(){return ae})})};Xt(function(){$n&&(Pn(),$n(),jn(null))},[$n]);function On(te,ae,Ae,st){tn[te]=function(rt){var ir;st==null||st(rt),Fe(ae,Ae);for(var Jr=arguments.length,ts=new Array(Jr>1?Jr-1:0),or=1;or<Jr;or++)ts[or-1]=arguments[or];(ir=Ft[te])===null||ir===void 0||ir.call.apply(ir,[Ft,rt].concat(ts))}}(wr||qr)&&(tn.onClick=function(te){var ae;se.current&&qr?Fe(!1):!se.current&&wr&&(Un(te),Fe(!0));for(var Ae=arguments.length,st=new Array(Ae>1?Ae-1:0),rt=1;rt<Ae;rt++)st[rt-1]=arguments[rt];(ae=Ft.onClick)===null||ae===void 0||ae.call.apply(ae,[Ft,te].concat(st))}),JC(He,qr,bt,_e,M,k,zr,Fe);var Zo=rn.has("hover"),sn=on.has("hover"),Yr,zn;Zo&&(On("onMouseEnter",!0,C,function(te){Un(te)}),On("onPointerEnter",!0,C,function(te){Un(te)}),Yr=function(ae){(He||Pt)&&_e!==null&&_e!==void 0&&_e.contains(ae.target)&&Fe(!0,C)},K&&(tn.onMouseMove=function(te){var ae;(ae=Ft.onMouseMove)===null||ae===void 0||ae.call(Ft,te)})),sn&&(On("onMouseLeave",!1,x),On("onPointerLeave",!1,x),zn=function(){Fe(!1,x)}),rn.has("focus")&&On("onFocus",!0,A),on.has("focus")&&On("onBlur",!1,O),rn.has("contextMenu")&&(tn.onContextMenu=function(te){var ae;se.current&&on.has("contextMenu")?Fe(!1):(Un(te),Fe(!0)),te.preventDefault();for(var Ae=arguments.length,st=new Array(Ae>1?Ae-1:0),rt=1;rt<Ae;rt++)st[rt-1]=arguments[rt];(ae=Ft.onContextMenu)===null||ae===void 0||ae.call.apply(ae,[Ft,te].concat(st))}),ke&&(tn.className=Je(Ft.className,ke));var St=U(U({},Ft),tn),nr={},Ri=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Ri.forEach(function(te){Me[te]&&(nr[te]=function(){for(var ae,Ae=arguments.length,st=new Array(Ae),rt=0;rt<Ae;rt++)st[rt]=arguments[rt];(ae=St[te])===null||ae===void 0||ae.call.apply(ae,[St].concat(st)),Me[te].apply(Me,st)})});var Pi=_.cloneElement(Fn,U(U({},St),nr)),rr={x:er,y:Rn},es=oe?U({},oe!==!0?oe:{}):null;return _.createElement(_.Fragment,null,_.createElement(Dh,{disabled:!He,ref:vr,onResize:Tr},_.createElement(qC,{getTriggerDOMNode:Ke},Pi)),_.createElement(Np.Provider,{value:ot},_.createElement(WC,{portal:t,ref:jr,prefixCls:o,popup:R,className:Je(P,Ci),style:T,target:bt,onMouseEnter:Yr,onMouseLeave:zn,onPointerEnter:Yr,zIndex:j,open:He,keepDom:Pt,fresh:G,onClick:ee,mask:M,motion:Zn,maskMotion:Gt,onVisibleChanged:Jo,onPrepare:Xr,forceRender:v,autoDestroy:ht,getPopupContainer:b,align:Er,arrow:es,arrowPos:rr,ready:wi,offsetX:Xo,offsetY:An,offsetR:Ti,offsetB:Si,onAlign:xn,stretch:z,targetWidth:dn/Bn,targetHeight:$e/eo})))});return e}const tA=eA(qv);function Ak(t,e,n){return Je({[`${t}-status-success`]:e==="success",[`${t}-status-warning`]:e==="warning",[`${t}-status-error`]:e==="error",[`${t}-status-validating`]:e==="validating",[`${t}-has-feedback`]:n})}const Rk=(t,e)=>e||t,Pk=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var r,i;const{variant:o,[t]:s}=_.useContext(Zt),a=_.useContext(SC),l=s==null?void 0:s.variant;let u;typeof e<"u"?u=e:n===!1?u="borderless":u=(i=(r=a??l)!==null&&r!==void 0?r:o)!==null&&i!==void 0?i:"outlined";const h=Cw.includes(u);return[u,h]};var nA={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},rA=function(e,n){return _.createElement(gr,Ct({},e,{ref:n,icon:nA}))},xk=_.forwardRef(rA);const js=["xxl","xl","lg","md","sm","xs"],iA=t=>({xs:`(max-width: ${t.screenXSMax}px)`,sm:`(min-width: ${t.screenSM}px)`,md:`(min-width: ${t.screenMD}px)`,lg:`(min-width: ${t.screenLG}px)`,xl:`(min-width: ${t.screenXL}px)`,xxl:`(min-width: ${t.screenXXL}px)`}),oA=t=>{const e=t,n=[].concat(js).reverse();return n.forEach((r,i)=>{const o=r.toUpperCase(),s=`screen${o}Min`,a=`screen${o}`;if(!(e[s]<=e[a]))throw new Error(`${s}<=${a} fails : !(${e[s]}<=${e[a]})`);if(i<n.length-1){const l=`screen${o}Max`;if(!(e[a]<=e[l]))throw new Error(`${a}<=${l} fails : !(${e[a]}<=${e[l]})`);const h=`screen${n[i+1].toUpperCase()}Min`;if(!(e[l]<=e[h]))throw new Error(`${l}<=${h} fails : !(${e[l]}<=${e[h]})`)}}),t};function sA(){const[,t]=Fr(),e=iA(oA(t));return me.useMemo(()=>{const n=new Map;let r=-1,i={};return{matchHandlers:{},dispatch(o){return i=o,n.forEach(s=>s(i)),n.size>=1},subscribe(o){return n.size||this.register(),r+=1,n.set(r,o),o(i),r},unsubscribe(o){n.delete(o),n.size||this.unregister()},unregister(){Object.keys(e).forEach(o=>{const s=e[o],a=this.matchHandlers[s];a==null||a.mql.removeListener(a==null?void 0:a.listener)}),n.clear()},register(){Object.keys(e).forEach(o=>{const s=e[o],a=u=>{let{matches:h}=u;this.dispatch(Object.assign(Object.assign({},i),{[o]:h}))},l=window.matchMedia(s);l.addListener(a),this.matchHandlers[s]={mql:l,listener:a},a(l)})},responsiveMap:e}},[t])}function ey(t){var e=t.children,n=t.prefixCls,r=t.id,i=t.overlayInnerStyle,o=t.className,s=t.style;return _.createElement("div",{className:Je("".concat(n,"-content"),o),style:s},_.createElement("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:i},typeof e=="function"?e():e))}var co={shiftX:64,adjustY:1},lo={adjustX:1,shiftY:!0},Nn=[0,0],aA={left:{points:["cr","cl"],overflow:lo,offset:[-4,0],targetOffset:Nn},right:{points:["cl","cr"],overflow:lo,offset:[4,0],targetOffset:Nn},top:{points:["bc","tc"],overflow:co,offset:[0,-4],targetOffset:Nn},bottom:{points:["tc","bc"],overflow:co,offset:[0,4],targetOffset:Nn},topLeft:{points:["bl","tl"],overflow:co,offset:[0,-4],targetOffset:Nn},leftTop:{points:["tr","tl"],overflow:lo,offset:[-4,0],targetOffset:Nn},topRight:{points:["br","tr"],overflow:co,offset:[0,-4],targetOffset:Nn},rightTop:{points:["tl","tr"],overflow:lo,offset:[4,0],targetOffset:Nn},bottomRight:{points:["tr","br"],overflow:co,offset:[0,4],targetOffset:Nn},rightBottom:{points:["bl","br"],overflow:lo,offset:[4,0],targetOffset:Nn},bottomLeft:{points:["tl","bl"],overflow:co,offset:[0,4],targetOffset:Nn},leftBottom:{points:["br","bl"],overflow:lo,offset:[-4,0],targetOffset:Nn}},cA=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],lA=function(e,n){var r=e.overlayClassName,i=e.trigger,o=i===void 0?["hover"]:i,s=e.mouseEnterDelay,a=s===void 0?0:s,l=e.mouseLeaveDelay,u=l===void 0?.1:l,h=e.overlayStyle,f=e.prefixCls,g=f===void 0?"rc-tooltip":f,E=e.children,S=e.onVisibleChange,C=e.afterVisibleChange,m=e.transitionName,x=e.animation,A=e.motion,O=e.placement,M=O===void 0?"right":O,N=e.align,k=N===void 0?{}:N,b=e.destroyTooltipOnHide,v=b===void 0?!1:b,y=e.defaultVisible,I=e.getTooltipContainer,R=e.overlayInnerStyle;e.arrowContent;var P=e.overlay,T=e.id,B=e.showArrow,Y=B===void 0?!0:B,F=fr(e,cA),V=_.useRef(null);_.useImperativeHandle(n,function(){return V.current});var j=U({},F);"visible"in e&&(j.popupVisible=e.visible);var z=function(){return _.createElement(ey,{key:"content",prefixCls:g,id:T,overlayInnerStyle:R},P)};return _.createElement(tA,Ct({popupClassName:r,prefixCls:g,popup:z,action:o,builtinPlacements:aA,popupPlacement:M,ref:V,popupAlign:k,getPopupContainer:I,onPopupVisibleChange:S,afterPopupVisibleChange:C,popupTransitionName:m,popupAnimation:x,popupMotion:A,defaultPopupVisible:y,autoDestroy:v,mouseLeaveDelay:u,popupStyle:h,mouseEnterDelay:a,arrow:Y},j),E)};const uA=_.forwardRef(lA);function hA(t){const{sizePopupArrow:e,borderRadiusXS:n,borderRadiusOuter:r}=t,i=e/2,o=0,s=i,a=r*1/Math.sqrt(2),l=i-r*(1-1/Math.sqrt(2)),u=i-n*(1/Math.sqrt(2)),h=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),f=2*i-u,g=h,E=2*i-a,S=l,C=2*i-o,m=s,x=i*Math.sqrt(2)+r*(Math.sqrt(2)-2),A=r*(Math.sqrt(2)-1),O=`polygon(${A}px 100%, 50% ${A}px, ${2*i-A}px 100%, ${A}px 100%)`,M=`path('M ${o} ${s} A ${r} ${r} 0 0 0 ${a} ${l} L ${u} ${h} A ${n} ${n} 0 0 1 ${f} ${g} L ${E} ${S} A ${r} ${r} 0 0 0 ${C} ${m} Z')`;return{arrowShadowWidth:x,arrowPath:M,arrowPolygon:O}}const dA=(t,e,n)=>{const{sizePopupArrow:r,arrowPolygon:i,arrowPath:o,arrowShadowWidth:s,borderRadiusXS:a,calc:l}=t;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:l(r).div(2).equal(),background:e,clipPath:{_multi_value_:!0,value:[i,o]},content:'""'},"&::after":{content:'""',position:"absolute",width:s,height:s,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${Se(a)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},ty=8;function ny(t){const{contentRadius:e,limitVerticalRadius:n}=t,r=e>12?e+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?ty:r}}function Da(t,e){return t?e:{}}function fA(t,e,n){const{componentCls:r,boxShadowPopoverArrow:i,arrowOffsetVertical:o,arrowOffsetHorizontal:s}=t,{arrowDistance:a=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},dA(t,e,i)),{"&:before":{background:e}})]},Da(!!l.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:a,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":s,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:s}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${Se(s)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:s}}}})),Da(!!l.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:a,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":s,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:s}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${Se(s)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:s}}}})),Da(!!l.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:a},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:o},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:o}})),Da(!!l.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:a},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:o},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:o}}))}}function pA(t,e,n,r){if(r===!1)return{adjustX:!1,adjustY:!1};const i=r&&typeof r=="object"?r:{},o={};switch(t){case"top":case"bottom":o.shiftX=e.arrowOffsetHorizontal*2+n,o.shiftY=!0,o.adjustY=!0;break;case"left":case"right":o.shiftY=e.arrowOffsetVertical*2+n,o.shiftX=!0,o.adjustX=!0;break}const s=Object.assign(Object.assign({},o),i);return s.shiftX||(s.adjustX=!0),s.shiftY||(s.adjustY=!0),s}const jp={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},gA={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},mA=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function vA(t){const{arrowWidth:e,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:i,borderRadius:o,visibleFirst:s}=t,a=e/2,l={};return Object.keys(jp).forEach(u=>{const h=r&&gA[u]||jp[u],f=Object.assign(Object.assign({},h),{offset:[0,0],dynamicInset:!0});switch(l[u]=f,mA.has(u)&&(f.autoArrow=!1),u){case"top":case"topLeft":case"topRight":f.offset[1]=-a-i;break;case"bottom":case"bottomLeft":case"bottomRight":f.offset[1]=a+i;break;case"left":case"leftTop":case"leftBottom":f.offset[0]=-a-i;break;case"right":case"rightTop":case"rightBottom":f.offset[0]=a+i;break}const g=ny({contentRadius:o,limitVerticalRadius:!0});if(r)switch(u){case"topLeft":case"bottomLeft":f.offset[0]=-g.arrowOffsetHorizontal-a;break;case"topRight":case"bottomRight":f.offset[0]=g.arrowOffsetHorizontal+a;break;case"leftTop":case"rightTop":f.offset[1]=-g.arrowOffsetHorizontal*2+a;break;case"leftBottom":case"rightBottom":f.offset[1]=g.arrowOffsetHorizontal*2-a;break}f.overflow=pA(u,g,e,n),s&&(f.htmlRegion="visibleFirst")}),l}const yA=t=>{const{componentCls:e,tooltipMaxWidth:n,tooltipColor:r,tooltipBg:i,tooltipBorderRadius:o,zIndexPopup:s,controlHeight:a,boxShadowSecondary:l,paddingSM:u,paddingXS:h}=t;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},qh(t)),{position:"absolute",zIndex:s,display:"block",width:"max-content",maxWidth:n,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":i,[`${e}-inner`]:{minWidth:"1em",minHeight:a,padding:`${Se(t.calc(u).div(2).equal())} ${Se(h)}`,color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:o,boxShadow:l,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:t.min(o,ty)}},[`${e}-content`]:{position:"relative"}}),oT(t,(f,g)=>{let{darkColor:E}=g;return{[`&${e}-${f}`]:{[`${e}-inner`]:{backgroundColor:E},[`${e}-arrow`]:{"--antd-arrow-background-color":E}}}})),{"&-rtl":{direction:"rtl"}})},fA(t,"var(--antd-arrow-background-color)"),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow}}]},_A=t=>Object.assign(Object.assign({zIndexPopup:t.zIndexPopupBase+70},ny({contentRadius:t.borderRadius,limitVerticalRadius:!0})),hA(Sn(t,{borderRadiusOuter:Math.min(t.borderRadiusOuter,4)}))),ry=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Bo("Tooltip",r=>{const{borderRadius:i,colorTextLightSolid:o,colorBgSpotlight:s}=r,a=Sn(r,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:i,tooltipBg:s});return[yA(a),jC(r,"zoom-big-fast")]},_A,{resetStyle:!1,injectStyle:e})(t)},bA=fc.map(t=>`${t}-inverse`);function EA(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(ce(bA),ce(fc)).includes(t):fc.includes(t)}function iy(t,e){const n=EA(e),r=Je({[`${t}-${e}`]:e&&n}),i={},o={};return e&&!n&&(i.background=e,o["--antd-arrow-background-color"]=e),{className:r,overlayStyle:i,arrowStyle:o}}const wA=t=>{const{prefixCls:e,className:n,placement:r="top",title:i,color:o,overlayInnerStyle:s}=t,{getPrefixCls:a}=_.useContext(Zt),l=a("tooltip",e),[u,h,f]=ry(l),g=iy(l,o),E=g.arrowStyle,S=Object.assign(Object.assign({},s),g.overlayStyle),C=Je(h,f,l,`${l}-pure`,`${l}-placement-${r}`,n,g.className);return u(_.createElement("div",{className:C,style:E},_.createElement("div",{className:`${l}-arrow`}),_.createElement(ey,Object.assign({},t,{className:h,prefixCls:l,overlayInnerStyle:S}),i)))};var TA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const SA=_.forwardRef((t,e)=>{var n,r;const{prefixCls:i,openClassName:o,getTooltipContainer:s,overlayClassName:a,color:l,overlayInnerStyle:u,children:h,afterOpenChange:f,afterVisibleChange:g,destroyTooltipOnHide:E,arrow:S=!0,title:C,overlay:m,builtinPlacements:x,arrowPointAtCenter:A=!1,autoAdjustOverflow:O=!0}=t,M=!!S,[,N]=Fr(),{getPopupContainer:k,getPrefixCls:b,direction:v}=_.useContext(Zt),y=Ym(),I=_.useRef(null),R=()=>{var re;(re=I.current)===null||re===void 0||re.forceAlign()};_.useImperativeHandle(e,()=>{var re;return{forceAlign:R,forcePopupAlign:()=>{y.deprecated(!1,"forcePopupAlign","forceAlign"),R()},nativeElement:(re=I.current)===null||re===void 0?void 0:re.nativeElement}});const[P,T]=Fw(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(r=t.defaultOpen)!==null&&r!==void 0?r:t.defaultVisible}),B=!C&&!m&&C!==0,Y=re=>{var be,De;T(B?!1:re),B||((be=t.onOpenChange)===null||be===void 0||be.call(t,re),(De=t.onVisibleChange)===null||De===void 0||De.call(t,re))},F=_.useMemo(()=>{var re,be;let De=A;return typeof S=="object"&&(De=(be=(re=S.pointAtCenter)!==null&&re!==void 0?re:S.arrowPointAtCenter)!==null&&be!==void 0?be:A),x||vA({arrowPointAtCenter:De,autoAdjustOverflow:O,arrowWidth:M?N.sizePopupArrow:0,borderRadius:N.borderRadius,offset:N.marginXXS,visibleFirst:!0})},[A,S,x,N]),V=_.useMemo(()=>C===0?C:m||C||"",[m,C]),j=_.createElement(IC,{space:!0},typeof V=="function"?V():V),{getPopupContainer:z,placement:q="top",mouseEnterDelay:G=.1,mouseLeaveDelay:K=.1,overlayStyle:ee,rootClassName:X}=t,oe=TA(t,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),Ie=b("tooltip",i),le=b(),Ge=t["data-popover-inject"];let it=P;!("open"in t)&&!("visible"in t)&&B&&(it=!1);const et=_.isValidElement(h)&&!Pv(h)?h:_.createElement("span",null,h),ze=et.props,ke=!ze.className||typeof ze.className=="string"?Je(ze.className,o||`${Ie}-open`):ze.className,[Ke,Me,ht]=ry(Ie,!Ge),Ue=iy(Ie,l),pt=Ue.arrowStyle,Qe=Object.assign(Object.assign({},u),Ue.overlayStyle),_t=Je(a,{[`${Ie}-rtl`]:v==="rtl"},Ue.className,X,Me,ht),[Re,ve]=vS("Tooltip",oe.zIndex),ot=_.createElement(uA,Object.assign({},oe,{zIndex:Re,showArrow:M,placement:q,mouseEnterDelay:G,mouseLeaveDelay:K,prefixCls:Ie,overlayClassName:_t,overlayStyle:Object.assign(Object.assign({},pt),ee),getTooltipContainer:z||s||k,ref:I,builtinPlacements:F,overlay:j,visible:it,onVisibleChange:Y,afterVisibleChange:f??g,overlayInnerStyle:Qe,arrowContent:_.createElement("span",{className:`${Ie}-arrow-content`}),motion:{motionName:PS(le,"zoom-big-fast",t.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!E}),it?Kh(et,{className:ke}):et);return Ke(_.createElement(xv.Provider,{value:ve},ot))}),IA=SA;IA._InternalPanelDoNotUseOrYouWillBeFired=wA;function CA(t){return Sn(t,{inputAffixPadding:t.paddingXXS})}const AA=t=>{const{controlHeight:e,fontSize:n,lineHeight:r,lineWidth:i,controlHeightSM:o,controlHeightLG:s,fontSizeLG:a,lineHeightLG:l,paddingSM:u,controlPaddingHorizontalSM:h,controlPaddingHorizontal:f,colorFillAlter:g,colorPrimaryHover:E,colorPrimary:S,controlOutlineWidth:C,controlOutline:m,colorErrorOutline:x,colorWarningOutline:A,colorBgContainer:O}=t;return{paddingBlock:Math.max(Math.round((e-n*r)/2*10)/10-i,0),paddingBlockSM:Math.max(Math.round((o-n*r)/2*10)/10-i,0),paddingBlockLG:Math.ceil((s-a*l)/2*10)/10-i,paddingInline:u-i,paddingInlineSM:h-i,paddingInlineLG:f-i,addonBg:g,activeBorderColor:S,hoverBorderColor:E,activeShadow:`0 0 0 ${C}px ${m}`,errorActiveShadow:`0 0 0 ${C}px ${x}`,warningActiveShadow:`0 0 0 ${C}px ${A}`,hoverBg:O,activeBg:O,inputFontSize:n,inputFontSizeLG:a,inputFontSizeSM:n}},RA=t=>({borderColor:t.hoverBorderColor,backgroundColor:t.hoverBg}),Jh=t=>({color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},RA(Sn(t,{hoverBorderColor:t.colorBorder,hoverBg:t.colorBgContainerDisabled})))}),oy=(t,e)=>({background:t.colorBgContainer,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:e.borderColor,"&:hover":{borderColor:e.hoverBorderColor,backgroundColor:t.hoverBg},"&:focus, &:focus-within":{borderColor:e.activeBorderColor,boxShadow:e.activeShadow,outline:0,backgroundColor:t.activeBg}}),Up=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},oy(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}}),[`&${t.componentCls}-status-${e.status}${t.componentCls}-disabled`]:{borderColor:e.borderColor}}),PA=(t,e)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},oy(t,{borderColor:t.colorBorder,hoverBorderColor:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeShadow:t.activeShadow})),{[`&${t.componentCls}-disabled, &[disabled]`]:Object.assign({},Jh(t))}),Up(t,{status:"error",borderColor:t.colorError,hoverBorderColor:t.colorErrorBorderHover,activeBorderColor:t.colorError,activeShadow:t.errorActiveShadow,affixColor:t.colorError})),Up(t,{status:"warning",borderColor:t.colorWarning,hoverBorderColor:t.colorWarningBorderHover,activeBorderColor:t.colorWarning,activeShadow:t.warningActiveShadow,affixColor:t.colorWarning})),e)}),Bp=(t,e)=>({[`&${t.componentCls}-group-wrapper-status-${e.status}`]:{[`${t.componentCls}-group-addon`]:{borderColor:e.addonBorderColor,color:e.addonColor}}}),xA=t=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${t.componentCls}-group`]:{"&-addon":{background:t.addonBg,border:`${Se(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},Bp(t,{status:"error",addonBorderColor:t.colorError,addonColor:t.colorErrorText})),Bp(t,{status:"warning",addonBorderColor:t.colorWarning,addonColor:t.colorWarningText})),{[`&${t.componentCls}-group-wrapper-disabled`]:{[`${t.componentCls}-group-addon`]:Object.assign({},Jh(t))}})}),OA=(t,e)=>{const{componentCls:n}=t;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${n}-disabled, &[disabled]`]:{color:t.colorTextDisabled},[`&${n}-status-error`]:{"&, & input, & textarea":{color:t.colorError}},[`&${n}-status-warning`]:{"&, & input, & textarea":{color:t.colorWarning}}},e)}},sy=(t,e)=>({background:e.bg,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:e==null?void 0:e.inputColor},"&:hover":{background:e.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:e.activeBorderColor,backgroundColor:t.activeBg}}),zp=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},sy(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}})}),MA=(t,e)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},sy(t,{bg:t.colorFillTertiary,hoverBg:t.colorFillSecondary,activeBorderColor:t.activeBorderColor})),{[`&${t.componentCls}-disabled, &[disabled]`]:Object.assign({},Jh(t))}),zp(t,{status:"error",bg:t.colorErrorBg,hoverBg:t.colorErrorBgHover,activeBorderColor:t.colorError,inputColor:t.colorErrorText,affixColor:t.colorError})),zp(t,{status:"warning",bg:t.colorWarningBg,hoverBg:t.colorWarningBgHover,activeBorderColor:t.colorWarning,inputColor:t.colorWarningText,affixColor:t.colorWarning})),e)}),Hp=(t,e)=>({[`&${t.componentCls}-group-wrapper-status-${e.status}`]:{[`${t.componentCls}-group-addon`]:{background:e.addonBg,color:e.addonColor}}}),NA=t=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${t.componentCls}-group`]:{"&-addon":{background:t.colorFillTertiary},[`${t.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${Se(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${Se(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}}},Hp(t,{status:"error",addonBg:t.colorErrorBg,addonColor:t.colorErrorText})),Hp(t,{status:"warning",addonBg:t.colorWarningBg,addonColor:t.colorWarningText})),{[`&${t.componentCls}-group-wrapper-disabled`]:{[`${t.componentCls}-group`]:{"&-addon":{background:t.colorFillTertiary,color:t.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${Se(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderTop:`${Se(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderBottom:`${Se(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${Se(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderTop:`${Se(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderBottom:`${Se(t.lineWidth)} ${t.lineType} ${t.colorBorder}`}}}})}),kA=t=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:t,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),ay=t=>{const{paddingBlockLG:e,lineHeightLG:n,borderRadiusLG:r,paddingInlineLG:i}=t;return{padding:`${Se(e)} ${Se(i)}`,fontSize:t.inputFontSizeLG,lineHeight:n,borderRadius:r}},cy=t=>({padding:`${Se(t.paddingBlockSM)} ${Se(t.paddingInlineSM)}`,fontSize:t.inputFontSizeSM,borderRadius:t.borderRadiusSM}),ly=t=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${Se(t.paddingBlock)} ${Se(t.paddingInline)}`,color:t.colorText,fontSize:t.inputFontSize,lineHeight:t.lineHeight,borderRadius:t.borderRadius,transition:`all ${t.motionDurationMid}`},kA(t.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:t.controlHeight,lineHeight:t.lineHeight,verticalAlign:"bottom",transition:`all ${t.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},ay(t)),"&-sm":Object.assign({},cy(t)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),DA=t=>{const{componentCls:e,antCls:n}=t;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:t.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:Object.assign({},ay(t)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:Object.assign({},cy(t)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${Se(t.paddingInline)}`,color:t.colorText,fontWeight:"normal",fontSize:t.inputFontSize,textAlign:"center",borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`${Se(t.calc(t.paddingBlock).add(1).mul(-1).equal())} ${Se(t.calc(t.paddingInline).mul(-1).equal())}`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${Se(t.lineWidth)} ${t.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${n}-select-selector`]:{color:t.colorPrimary}}},[`${n}-cascader-picker`]:{margin:`-9px ${Se(t.calc(t.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[e]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:Object.assign(Object.assign({display:"block"},Jw()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:t.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${e}-affix-wrapper,
        & > ${e}-number-affix-wrapper,
        & > ${n}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderInlineEndWidth:t.lineWidth},[e]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,
      & > ${n}-select-auto-complete ${e},
      & > ${n}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:t.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${n}-select:first-child > ${n}-select-selector,
      & > ${n}-select-auto-complete:first-child ${e},
      & > ${n}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius},[`& > *:last-child,
      & > ${n}-select:last-child > ${n}-select-selector,
      & > ${n}-cascader-picker:last-child ${e},
      & > ${n}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:t.lineWidth,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius},[`& > ${n}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:t.calc(t.lineWidth).mul(-1).equal(),[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:t.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:t.borderRadius}}}})}},VA=t=>{const{componentCls:e,controlHeightSM:n,lineWidth:r,calc:i}=t,s=i(n).sub(i(r).mul(2)).sub(16).div(2).equal();return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},qh(t)),ly(t)),PA(t)),MA(t)),OA(t)),{'&[type="color"]':{height:t.controlHeight,[`&${e}-lg`]:{height:t.controlHeightLG},[`&${e}-sm`]:{height:n,paddingTop:s,paddingBottom:s}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},LA=t=>{const{componentCls:e}=t;return{[`${e}-clear-icon`]:{margin:0,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"&:hover":{color:t.colorTextTertiary},"&:active":{color:t.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${Se(t.inputAffixPadding)}`}}}},FA=t=>{const{componentCls:e,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:i,colorIcon:o,colorIconHover:s,iconCls:a}=t,l=`${e}-affix-wrapper`,u=`${e}-affix-wrapper-disabled`;return{[l]:Object.assign(Object.assign(Object.assign(Object.assign({},ly(t)),{display:"inline-flex",[`&:not(${e}-disabled):hover`]:{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${e}`]:{padding:0},[`> input${e}, > textarea${e}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[e]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:t.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:t.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),LA(t)),{[`${a}${e}-password-icon`]:{color:o,cursor:"pointer",transition:`all ${i}`,"&:hover":{color:s}}}),[u]:{[`${a}${e}-password-icon`]:{color:o,cursor:"not-allowed","&:hover":{color:o}}}}},$A=t=>{const{componentCls:e,borderRadiusLG:n,borderRadiusSM:r}=t;return{[`${e}-group`]:Object.assign(Object.assign(Object.assign({},qh(t)),DA(t)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:n,fontSize:t.inputFontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:r}}},xA(t)),NA(t)),{[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}}})})}},jA=t=>{const{componentCls:e,antCls:n}=t,r=`${e}-search`;return{[r]:{[e]:{"&:hover, &:focus":{borderColor:t.colorPrimaryHover,[`+ ${e}-group-addon ${r}-button:not(${n}-btn-primary)`]:{borderInlineStartColor:t.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{borderRadius:0},[`${e}-lg`]:{lineHeight:t.calc(t.lineHeightLG).sub(2e-4).equal()},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${n}-btn-primary)`]:{color:t.colorTextDescription,"&:hover":{color:t.colorPrimaryHover},"&:active":{color:t.colorPrimaryActive},[`&${n}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:t.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${r}-button`]:{height:t.controlHeightLG},[`&-small ${r}-button`]:{height:t.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}},UA=t=>{const{componentCls:e,paddingLG:n}=t,r=`${e}-textarea`;return{[r]:{position:"relative","&-show-count":{[`> ${e}`]:{height:"100%"},[`${e}-data-count`]:{position:"absolute",bottom:t.calc(t.fontSize).mul(t.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:t.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${e},
        &-affix-wrapper${r}-has-feedback ${e}
      `]:{paddingInlineEnd:n},[`&-affix-wrapper${e}-affix-wrapper`]:{padding:0,[`> textarea${e}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent","&:focus":{boxShadow:"none !important"}},[`${e}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${e}-clear-icon`]:{position:"absolute",insetInlineEnd:t.paddingInline,insetBlockStart:t.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:t.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${e}-affix-wrapper-sm`]:{[`${e}-suffix`]:{[`${e}-clear-icon`]:{insetInlineEnd:t.paddingInlineSM}}}}}},BA=t=>{const{componentCls:e}=t;return{[`${e}-out-of-range`]:{[`&, & input, & textarea, ${e}-show-count-suffix, ${e}-data-count`]:{color:t.colorError}}}},Ok=Bo("Input",t=>{const e=Sn(t,CA(t));return[VA(e),UA(e),FA(e),$A(e),jA(e),BA(e),Bv(e)]},AA,{resetFont:!1}),uy=_.createContext({}),zA=t=>{const{componentCls:e}=t;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},HA=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},WA=(t,e)=>{const{prefixCls:n,componentCls:r,gridColumns:i}=t,o={};for(let s=i;s>=0;s--)s===0?(o[`${r}${e}-${s}`]={display:"none"},o[`${r}-push-${s}`]={insetInlineStart:"auto"},o[`${r}-pull-${s}`]={insetInlineEnd:"auto"},o[`${r}${e}-push-${s}`]={insetInlineStart:"auto"},o[`${r}${e}-pull-${s}`]={insetInlineEnd:"auto"},o[`${r}${e}-offset-${s}`]={marginInlineStart:0},o[`${r}${e}-order-${s}`]={order:0}):(o[`${r}${e}-${s}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${s/i*100}%`,maxWidth:`${s/i*100}%`}],o[`${r}${e}-push-${s}`]={insetInlineStart:`${s/i*100}%`},o[`${r}${e}-pull-${s}`]={insetInlineEnd:`${s/i*100}%`},o[`${r}${e}-offset-${s}`]={marginInlineStart:`${s/i*100}%`},o[`${r}${e}-order-${s}`]={order:s});return o[`${r}${e}-flex`]={flex:`var(--${n}${e}-flex)`},o},ih=(t,e)=>WA(t,e),qA=(t,e,n)=>({[`@media (min-width: ${Se(e)})`]:Object.assign({},ih(t,n))}),GA=()=>({}),KA=()=>({}),QA=Bo("Grid",zA,GA),XA=Bo("Grid",t=>{const e=Sn(t,{gridColumns:24}),n={"-sm":e.screenSMMin,"-md":e.screenMDMin,"-lg":e.screenLGMin,"-xl":e.screenXLMin,"-xxl":e.screenXXLMin};return[HA(e),ih(e,""),ih(e,"-xs"),Object.keys(n).map(r=>qA(e,n[r],r)).reduce((r,i)=>Object.assign(Object.assign({},r),i),{})]},KA);var YA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Wp(t){return typeof t=="number"?`${t} ${t} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?`0 0 ${t}`:t}const JA=["xs","sm","md","lg","xl","xxl"],Mk=_.forwardRef((t,e)=>{const{getPrefixCls:n,direction:r}=_.useContext(Zt),{gutter:i,wrap:o}=_.useContext(uy),{prefixCls:s,span:a,order:l,offset:u,push:h,pull:f,className:g,children:E,flex:S,style:C}=t,m=YA(t,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),x=n("col",s),[A,O,M]=XA(x),N={};let k={};JA.forEach(y=>{let I={};const R=t[y];typeof R=="number"?I.span=R:typeof R=="object"&&(I=R||{}),delete m[y],k=Object.assign(Object.assign({},k),{[`${x}-${y}-${I.span}`]:I.span!==void 0,[`${x}-${y}-order-${I.order}`]:I.order||I.order===0,[`${x}-${y}-offset-${I.offset}`]:I.offset||I.offset===0,[`${x}-${y}-push-${I.push}`]:I.push||I.push===0,[`${x}-${y}-pull-${I.pull}`]:I.pull||I.pull===0,[`${x}-rtl`]:r==="rtl"}),I.flex&&(k[`${x}-${y}-flex`]=!0,N[`--${x}-${y}-flex`]=Wp(I.flex))});const b=Je(x,{[`${x}-${a}`]:a!==void 0,[`${x}-order-${l}`]:l,[`${x}-offset-${u}`]:u,[`${x}-push-${h}`]:h,[`${x}-pull-${f}`]:f},g,k,O,M),v={};if(i&&i[0]>0){const y=i[0]/2;v.paddingLeft=y,v.paddingRight=y}return S&&(v.flex=Wp(S),o===!1&&!v.minWidth&&(v.minWidth=0)),A(_.createElement("div",Object.assign({},m,{style:Object.assign(Object.assign(Object.assign({},v),C),N),className:b,ref:e}),E))});var ZA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function qp(t,e){const[n,r]=_.useState(typeof t=="string"?t:""),i=()=>{if(typeof t=="string"&&r(t),typeof t=="object")for(let o=0;o<js.length;o++){const s=js[o];if(!e[s])continue;const a=t[s];if(a!==void 0){r(a);return}}};return _.useEffect(()=>{i()},[JSON.stringify(t),e]),n}const Nk=_.forwardRef((t,e)=>{const{prefixCls:n,justify:r,align:i,className:o,style:s,children:a,gutter:l=0,wrap:u}=t,h=ZA(t,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:f,direction:g}=_.useContext(Zt),[E,S]=_.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[C,m]=_.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),x=qp(i,C),A=qp(r,C),O=_.useRef(l),M=sA();_.useEffect(()=>{const V=M.subscribe(j=>{m(j);const z=O.current||0;(!Array.isArray(z)&&typeof z=="object"||Array.isArray(z)&&(typeof z[0]=="object"||typeof z[1]=="object"))&&S(j)});return()=>M.unsubscribe(V)},[]);const N=()=>{const V=[void 0,void 0];return(Array.isArray(l)?l:[l,void 0]).forEach((z,q)=>{if(typeof z=="object")for(let G=0;G<js.length;G++){const K=js[G];if(E[K]&&z[K]!==void 0){V[q]=z[K];break}}else V[q]=z}),V},k=f("row",n),[b,v,y]=QA(k),I=N(),R=Je(k,{[`${k}-no-wrap`]:u===!1,[`${k}-${A}`]:A,[`${k}-${x}`]:x,[`${k}-rtl`]:g==="rtl"},o,v,y),P={},T=I[0]!=null&&I[0]>0?I[0]/-2:void 0;T&&(P.marginLeft=T,P.marginRight=T);const[B,Y]=I;P.rowGap=Y;const F=_.useMemo(()=>({gutter:[B,Y],wrap:u}),[B,Y,u]);return b(_.createElement(uy.Provider,{value:F},_.createElement("div",Object.assign({},h,{className:R,style:Object.assign(Object.assign({},P),s),ref:e}),a)))});var Gp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},e1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},dy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=o>>2,f=(o&3)<<4|a>>4;let g=(a&15)<<2|u>>6,E=u&63;l||(E=64,s||(g=64)),r.push(n[h],n[f],n[g],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):e1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new t1;const g=o<<2|a>>4;if(r.push(g),u!==64){const E=a<<4&240|u>>2;if(r.push(E),f!==64){const S=u<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class t1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n1=function(t){const e=hy(t);return dy.encodeByteArray(e,!0)},_c=function(t){return n1(t).replace(/\./g,"")},fy=function(t){try{return dy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=()=>r1().__FIREBASE_DEFAULTS__,o1=()=>{if(typeof process>"u"||typeof Gp>"u")return;const t=Gp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fy(t[1]);return e&&JSON.parse(e)},Zc=()=>{try{return i1()||o1()||s1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},py=t=>{var e,n;return(n=(e=Zc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gy=t=>{const e=py(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},my=()=>{var t;return(t=Zc())===null||t===void 0?void 0:t.config},vy=t=>{var e;return(e=Zc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_c(JSON.stringify(n)),_c(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function l1(){var t;const e=(t=Zc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function u1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function d1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function f1(){const t=Ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function p1(){return!l1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g1(){try{return typeof indexedDB=="object"}catch{return!1}}function m1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="FirebaseError";class mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=v1,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,na.prototype.create)}}class na{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?y1(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new mr(i,a,r)}}function y1(t,e){return t.replace(_1,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _1=/\{\$([^}]+)}/g;function b1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Kp(o)&&Kp(s)){if(!bc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Kp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function us(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function hs(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function E1(t,e){const n=new w1(t,e);return n.subscribe.bind(n)}class w1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");T1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ql),i.error===void 0&&(i.error=Ql),i.complete===void 0&&(i.complete=Ql);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T1(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ql(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t&&t._delegate?t._delegate:t}class mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new a1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C1(e))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mi){return this.instances.has(e)}getOptions(e=Mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:I1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mi){return this.component?this.component.multipleInstances?e:Mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function I1(t){return t===Mi?void 0:t}function C1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new S1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const R1={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},P1=Te.INFO,x1={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},O1=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=x1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zh{constructor(e){this.name=e,this._logLevel=P1,this._logHandler=O1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const M1=(t,e)=>e.some(n=>t instanceof n);let Qp,Xp;function N1(){return Qp||(Qp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k1(){return Xp||(Xp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _y=new WeakMap,oh=new WeakMap,by=new WeakMap,Xl=new WeakMap,ed=new WeakMap;function D1(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(di(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&_y.set(n,t)}).catch(()=>{}),ed.set(e,t),e}function V1(t){if(oh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});oh.set(t,e)}let sh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return oh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||by.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function L1(t){sh=t(sh)}function F1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yl(this),e,...n);return by.set(r,e.sort?e.sort():[e]),di(r)}:k1().includes(t)?function(...e){return t.apply(Yl(this),e),di(_y.get(this))}:function(...e){return di(t.apply(Yl(this),e))}}function $1(t){return typeof t=="function"?F1(t):(t instanceof IDBTransaction&&V1(t),M1(t,N1())?new Proxy(t,sh):t)}function di(t){if(t instanceof IDBRequest)return D1(t);if(Xl.has(t))return Xl.get(t);const e=$1(t);return e!==t&&(Xl.set(t,e),ed.set(e,t)),e}const Yl=t=>ed.get(t);function j1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=di(s);return r&&s.addEventListener("upgradeneeded",l=>{r(di(s.result),l.oldVersion,l.newVersion,di(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const U1=["get","getKey","getAll","getAllKeys","count"],B1=["put","add","delete","clear"],Jl=new Map;function Yp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jl.get(e))return Jl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=B1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||U1.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Jl.set(e,o),o}L1(t=>({...t,get:(e,n,r)=>Yp(e,n)||t.get(e,n,r),has:(e,n)=>!!Yp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(H1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function H1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ah="@firebase/app",Jp="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=new Zh("@firebase/app"),W1="@firebase/app-compat",q1="@firebase/analytics-compat",G1="@firebase/analytics",K1="@firebase/app-check-compat",Q1="@firebase/app-check",X1="@firebase/auth",Y1="@firebase/auth-compat",J1="@firebase/database",Z1="@firebase/database-compat",eR="@firebase/functions",tR="@firebase/functions-compat",nR="@firebase/installations",rR="@firebase/installations-compat",iR="@firebase/messaging",oR="@firebase/messaging-compat",sR="@firebase/performance",aR="@firebase/performance-compat",cR="@firebase/remote-config",lR="@firebase/remote-config-compat",uR="@firebase/storage",hR="@firebase/storage-compat",dR="@firebase/firestore",fR="@firebase/vertexai-preview",pR="@firebase/firestore-compat",gR="firebase",mR="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="[DEFAULT]",vR={[ah]:"fire-core",[W1]:"fire-core-compat",[G1]:"fire-analytics",[q1]:"fire-analytics-compat",[Q1]:"fire-app-check",[K1]:"fire-app-check-compat",[X1]:"fire-auth",[Y1]:"fire-auth-compat",[J1]:"fire-rtdb",[Z1]:"fire-rtdb-compat",[eR]:"fire-fn",[tR]:"fire-fn-compat",[nR]:"fire-iid",[rR]:"fire-iid-compat",[iR]:"fire-fcm",[oR]:"fire-fcm-compat",[sR]:"fire-perf",[aR]:"fire-perf-compat",[cR]:"fire-rc",[lR]:"fire-rc-compat",[uR]:"fire-gcs",[hR]:"fire-gcs-compat",[dR]:"fire-fst",[pR]:"fire-fst-compat",[fR]:"fire-vertex","fire-js":"fire-js",[gR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Map,yR=new Map,lh=new Map;function Zp(t,e){try{t.container.addComponent(e)}catch(n){kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ui(t){const e=t.name;if(lh.has(e))return kr.debug(`There were multiple attempts to register component ${e}.`),!1;lh.set(e,t);for(const n of Ec.values())Zp(n,t);for(const n of yR.values())Zp(n,t);return!0}function el(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ar(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fi=new na("app","Firebase",_R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=mR;function Ey(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ch,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw fi.create("bad-app-name",{appName:String(i)});if(n||(n=my()),!n)throw fi.create("no-options");const o=Ec.get(i);if(o){if(bc(n,o.options)&&bc(r,o.config))return o;throw fi.create("duplicate-app",{appName:i})}const s=new A1(i);for(const l of lh.values())s.addComponent(l);const a=new bR(n,r,s);return Ec.set(i,a),a}function td(t=ch){const e=Ec.get(t);if(!e&&t===ch&&my())return Ey();if(!e)throw fi.create("no-app",{appName:t});return e}function cr(t,e,n){var r;let i=(r=vR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kr.warn(a.join(" "));return}Ui(new mi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="firebase-heartbeat-database",wR=1,Us="firebase-heartbeat-store";let Zl=null;function wy(){return Zl||(Zl=j1(ER,wR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Us)}catch(n){console.warn(n)}}}}).catch(t=>{throw fi.create("idb-open",{originalErrorMessage:t.message})})),Zl}async function TR(t){try{const n=(await wy()).transaction(Us),r=await n.objectStore(Us).get(Ty(t));return await n.done,r}catch(e){if(e instanceof mr)kr.warn(e.message);else{const n=fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});kr.warn(n.message)}}}async function eg(t,e){try{const r=(await wy()).transaction(Us,"readwrite");await r.objectStore(Us).put(e,Ty(t)),await r.done}catch(n){if(n instanceof mr)kr.warn(n.message);else{const r=fi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});kr.warn(r.message)}}}function Ty(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=1024,IR=30*24*60*60*1e3;class CR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=tg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=IR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){kr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tg(),{heartbeatsToSend:r,unsentEntries:i}=AR(this._heartbeatsCache.heartbeats),o=_c(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return kr.warn(n),""}}}function tg(){return new Date().toISOString().substring(0,10)}function AR(t,e=SR){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ng(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ng(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g1()?m1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return eg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return eg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ng(t){return _c(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t){Ui(new mi("platform-logger",e=>new z1(e),"PRIVATE")),Ui(new mi("heartbeat",e=>new CR(e),"PRIVATE")),cr(ah,Jp,t),cr(ah,Jp,"esm2017"),cr("fire-js","")}PR("");function nd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Sy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xR=Sy,Iy=new na("auth","Firebase",Sy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Zh("@firebase/auth");function OR(t,...e){wc.logLevel<=Te.WARN&&wc.warn(`Auth (${Xi}): ${t}`,...e)}function Za(t,...e){wc.logLevel<=Te.ERROR&&wc.error(`Auth (${Xi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t,...e){throw rd(t,...e)}function lr(t,...e){return rd(t,...e)}function Cy(t,e,n){const r=Object.assign(Object.assign({},xR()),{[e]:n});return new na("auth","Firebase",r).create(e,{appName:t.name})}function pi(t){return Cy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rd(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Iy.create(t,...e)}function he(t,e,...n){if(!t)throw rd(e,...n)}function Rr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Za(e),new Error(e)}function Dr(t,e){t||Rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function MR(){return rg()==="http:"||rg()==="https:"}function rg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MR()||h1()||"connection"in navigator)?navigator.onLine:!0}function kR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this.shortDelay=e,this.longDelay=n,Dr(n>e,"Short delay should be less than long delay!"),this.isMobile=c1()||d1()}get(){return NR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t,e){Dr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=new ia(3e4,6e4);function Yi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $r(t,e,n,r,i={}){return Ry(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=ra(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return u1()||(u.referrerPolicy="no-referrer"),Ay.fetch()(Py(t,t.config.apiHost,n,a),u)})}async function Ry(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},DR),e);try{const i=new FR(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Va(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Va(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Va(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Va(t,"user-disabled",s);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Cy(t,h,u);Yn(t,h)}}catch(i){if(i instanceof mr)throw i;Yn(t,"network-request-failed",{message:String(i)})}}async function tl(t,e,n,r,i={}){const o=await $r(t,e,n,r,i);return"mfaPendingCredential"in o&&Yn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function Py(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?id(t.config,i):`${t.config.apiScheme}://${i}`}function LR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),VR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Va(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=lr(t,e,r);return i.customData._tokenResponse=n,i}function ig(t){return t!==void 0&&t.enterprise!==void 0}class $R{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function jR(t,e){return $r(t,"GET","/v2/recaptchaConfig",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(t,e){return $r(t,"POST","/v1/accounts:delete",e)}async function xy(t,e){return $r(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BR(t,e=!1){const n=Ze(t),r=await n.getIdToken(e),i=od(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:bs(eu(i.auth_time)),issuedAtTime:bs(eu(i.iat)),expirationTime:bs(eu(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function eu(t){return Number(t)*1e3}function od(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Za("JWT malformed, contained fewer than 3 sections"),null;try{const i=fy(n);return i?JSON.parse(i):(Za("Failed to decode base64 JWT payload"),null)}catch(i){return Za("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function og(t){const e=od(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mr&&zR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bs(this.lastLoginAt),this.creationTime=bs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Oo(t,xy(n,{idToken:r}));he(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Oy(o.providerUserInfo):[],a=qR(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new hh(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function WR(t){const e=Ze(t);await Tc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qR(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Oy(t){return t.map(e=>{var{providerId:n}=e,r=nd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(t,e){const n=await Ry(t,{},async()=>{const r=ra({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Py(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ay.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KR(t,e){return $r(t,"POST","/v2/accounts:revokeToken",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):og(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=og(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await GR(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new bo;return r&&(he(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(he(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return Rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=nd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new hh(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Oo(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BR(this,e)}reload(){return WR(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Tc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ar(this.auth.app))return Promise.reject(pi(this.auth));const e=await this.getIdToken();return await Oo(this,UR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,C=(a=n.tenantId)!==null&&a!==void 0?a:void 0,m=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,A=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:O,emailVerified:M,isAnonymous:N,providerData:k,stsTokenManager:b}=n;he(O&&b,e,"internal-error");const v=bo.fromJSON(this.name,b);he(typeof O=="string",e,"internal-error"),ei(f,e.name),ei(g,e.name),he(typeof M=="boolean",e,"internal-error"),he(typeof N=="boolean",e,"internal-error"),ei(E,e.name),ei(S,e.name),ei(C,e.name),ei(m,e.name),ei(x,e.name),ei(A,e.name);const y=new Pr({uid:O,auth:e,email:g,emailVerified:M,displayName:f,isAnonymous:N,photoURL:S,phoneNumber:E,tenantId:C,stsTokenManager:v,createdAt:x,lastLoginAt:A});return k&&Array.isArray(k)&&(y.providerData=k.map(I=>Object.assign({},I))),m&&(y._redirectEventId=m),y}static async _fromIdTokenResponse(e,n,r=!1){const i=new bo;i.updateFromServerResponse(n);const o=new Pr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Tc(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];he(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Oy(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new bo;a.updateFromIdToken(r);const l=new Pr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new hh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=new Map;function xr(t){Dr(t instanceof Function,"Expected a class definition");let e=sg.get(t);return e?(Dr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}My.type="NONE";const ag=My;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t,e,n){return`firebase:${t}:${e}:${n}`}class Eo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ec(this.userKey,i.apiKey,o),this.fullPersistenceKey=ec("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Pr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Eo(xr(ag),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||xr(ag);const s=ec(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(s);if(h){const f=Pr._fromJSON(e,h);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Eo(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Eo(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Vy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ny(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fy(e))return"Blackberry";if($y(e))return"Webos";if(ky(e))return"Safari";if((e.includes("chrome/")||Dy(e))&&!e.includes("edge/"))return"Chrome";if(Ly(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ny(t=Ht()){return/firefox\//i.test(t)}function ky(t=Ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dy(t=Ht()){return/crios\//i.test(t)}function Vy(t=Ht()){return/iemobile/i.test(t)}function Ly(t=Ht()){return/android/i.test(t)}function Fy(t=Ht()){return/blackberry/i.test(t)}function $y(t=Ht()){return/webos/i.test(t)}function sd(t=Ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QR(t=Ht()){var e;return sd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XR(){return f1()&&document.documentMode===10}function jy(t=Ht()){return sd(t)||Ly(t)||$y(t)||Fy(t)||/windows phone/i.test(t)||Vy(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t,e=[]){let n;switch(t){case"Browser":n=cg(Ht());break;case"Worker":n=`${cg(Ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(t,e={}){return $r(t,"GET","/v2/passwordPolicy",Yi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=6;class eP{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:ZR,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lg(this),this.idTokenSubscription=new lg(this),this.beforeStateQueue=new YR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Iy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xy(this,{idToken:e}),r=await Pr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ar(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Tc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ar(this.app))return Promise.reject(pi(this));const n=e?Ze(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ar(this.app)?Promise.reject(pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ar(this.app)?Promise.reject(pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JR(this),n=new eP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new na("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xr(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Uy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&OR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ho(t){return Ze(t)}class lg{constructor(e){this.auth=e,this.observer=null,this.addObserver=E1(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nP(t){nl=t}function By(t){return nl.loadJS(t)}function rP(){return nl.recaptchaEnterpriseScript}function iP(){return nl.gapiScript}function oP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const sP="recaptcha-enterprise",aP="NO_RECAPTCHA";class cP{constructor(e){this.type=sP,this.auth=Ho(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{jR(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new $R(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;ig(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(aP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&ig(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=rP();l.length!==0&&(l+=a),By(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function ug(t,e,n,r=!1){const i=new cP(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function hg(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await ug(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await ug(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(t,e){const n=el(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(bc(o,e??{}))return i;Yn(i,"already-initialized")}return n.initialize({options:e})}function uP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function hP(t,e,n){const r=Ho(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=zy(e),{host:s,port:a}=dP(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),fP()}function zy(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dP(t){const e=zy(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:dg(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:dg(s)}}}function dg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rr("not implemented")}_getIdTokenResponse(e){return Rr("not implemented")}_linkToIdToken(e,n){return Rr("not implemented")}_getReauthenticationResolver(e){return Rr("not implemented")}}async function pP(t,e){return $r(t,"POST","/v1/accounts:update",e)}async function gP(t,e){return $r(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(t,e){return tl(t,"POST","/v1/accounts:signInWithPassword",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vP(t,e){return tl(t,"POST","/v1/accounts:signInWithEmailLink",Yi(t,e))}async function yP(t,e){return tl(t,"POST","/v1/accounts:signInWithEmailLink",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends ad{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Bs(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bs(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hg(e,n,"signInWithPassword",mP);case"emailLink":return vP(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hg(e,r,"signUpPassword",gP);case"emailLink":return yP(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(t,e){return tl(t,"POST","/v1/accounts:signInWithIdp",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="http://localhost";class Bi extends ad{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=nd(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Bi(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:_P,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ra(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EP(t){const e=us(hs(t)).link,n=e?us(hs(e)).deep_link_id:null,r=us(hs(t)).deep_link_id;return(r?us(hs(r)).link:null)||r||n||e||t}class cd{constructor(e){var n,r,i,o,s,a;const l=us(hs(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=bP((i=l.mode)!==null&&i!==void 0?i:null);he(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=EP(e);try{return new cd(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.providerId=Wo.PROVIDER_ID}static credential(e,n){return Bs._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=cd.parseLink(n);return he(r,"argument-error"),Bs._fromEmailAndCode(e,r.code,r.tenantId)}}Wo.PROVIDER_ID="password";Wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends Hy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends oa{constructor(){super("facebook.com")}static credential(e){return Bi._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends oa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bi._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ri.credential(n,r)}catch{return null}}}ri.GOOGLE_SIGN_IN_METHOD="google.com";ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends oa{constructor(){super("github.com")}static credential(e){return Bi._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.GITHUB_SIGN_IN_METHOD="github.com";ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends oa{constructor(){super("twitter.com")}static credential(e,n){return Bi._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oi.credential(n,r)}catch{return null}}}oi.TWITTER_SIGN_IN_METHOD="twitter.com";oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Pr._fromIdTokenResponse(e,r,i),s=fg(r);return new Mo({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=fg(r);return new Mo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function fg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends mr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Sc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Sc(e,n,r,i)}}function Wy(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Sc._fromErrorAndOperation(t,o,e,r):o})}async function wP(t,e,n=!1){const r=await Oo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Mo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(t,e,n=!1){const{auth:r}=t;if(Ar(r.app))return Promise.reject(pi(r));const i="reauthenticate";try{const o=await Oo(t,Wy(r,i,e,t),n);he(o.idToken,r,"internal-error");const s=od(o.idToken);he(s,r,"internal-error");const{sub:a}=s;return he(t.uid===a,r,"user-mismatch"),Mo._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Yn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qy(t,e,n=!1){if(Ar(t.app))return Promise.reject(pi(t));const r="signIn",i=await Wy(t,r,e),o=await Mo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function SP(t,e){return qy(Ho(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP(t){const e=Ho(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function kk(t,e,n){return Ar(t.app)?Promise.reject(pi(t)):SP(Ze(t),Wo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&IP(t),r})}function Dk(t,e){return CP(Ze(t),null,e)}async function CP(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(o.password=n);const s=await Oo(t,pP(r,o));await t._updateTokensIfNecessary(s,!0)}function AP(t,e,n,r){return Ze(t).onIdTokenChanged(e,n,r)}function RP(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}function Vk(t){return Ze(t).signOut()}const Ic="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ic,"1"),this.storage.removeItem(Ic),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=1e3,xP=10;class Ky extends Gy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);XR()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,xP):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ky.type="LOCAL";const OP=Ky;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy extends Gy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Qy.type="SESSION";const Xy=Qy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new rl(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await MP(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=ld("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function kP(t){ur().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function DP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function LP(){return Yy()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="firebaseLocalStorageDb",FP=1,Cc="firebaseLocalStorage",Zy="fbase_key";class sa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function il(t,e){return t.transaction([Cc],e?"readwrite":"readonly").objectStore(Cc)}function $P(){const t=indexedDB.deleteDatabase(Jy);return new sa(t).toPromise()}function dh(){const t=indexedDB.open(Jy,FP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Cc,{keyPath:Zy})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Cc)?e(r):(r.close(),await $P(),e(await dh()))})})}async function pg(t,e,n){const r=il(t,!0).put({[Zy]:e,value:n});return new sa(r).toPromise()}async function jP(t,e){const n=il(t,!1).get(e),r=await new sa(n).toPromise();return r===void 0?null:r.value}function gg(t,e){const n=il(t,!0).delete(e);return new sa(n).toPromise()}const UP=800,BP=3;class e0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>BP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Yy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rl._getInstance(LP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DP(),!this.activeServiceWorker)return;this.sender=new NP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dh();return await pg(e,Ic,"1"),await gg(e,Ic),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>pg(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=il(i,!1).getAll();return new sa(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e0.type="LOCAL";const zP=e0;new ia(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t,e){return e?xr(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud extends ad{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WP(t){return qy(t.auth,new ud(t),t.bypassAuthState)}function qP(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),TP(n,new ud(t),t.bypassAuthState)}async function GP(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),wP(n,new ud(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WP;case"linkViaPopup":case"linkViaRedirect":return GP;case"reauthViaPopup":case"reauthViaRedirect":return qP;default:Yn(this.auth,"internal-error")}}resolve(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=new ia(2e3,1e4);class yo extends t0{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){Dr(this.filter.length===1,"Popup operations only handle one event");const e=ld();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KP.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="pendingRedirect",tc=new Map;class XP extends t0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=tc.get(this.auth._key());if(!e){try{const r=await YP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tc.set(this.auth._key(),e)}return this.bypassAuthState||tc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YP(t,e){const n=ex(e),r=ZP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function JP(t,e){tc.set(t._key(),e)}function ZP(t){return xr(t._redirectPersistence)}function ex(t){return ec(QP,t.config.apiKey,t.name)}async function tx(t,e,n=!1){if(Ar(t.app))return Promise.reject(pi(t));const r=Ho(t),i=HP(r,e),s=await new XP(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=10*60*1e3;class rx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ix(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!n0(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nx&&this.cachedEventUids.clear(),this.cachedEventUids.has(mg(e))}saveEventToCache(e){this.cachedEventUids.add(mg(e)),this.lastProcessedEventTime=Date.now()}}function mg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function n0({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ix(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(t,e={}){return $r(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ax=/^https?/;async function cx(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ox(t);for(const n of e)try{if(lx(n))return}catch{}Yn(t,"unauthorized-domain")}function lx(t){const e=uh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!ax.test(n))return!1;if(sx.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=new ia(3e4,6e4);function vg(){const t=ur().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hx(t){return new Promise((e,n)=>{var r,i,o;function s(){vg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vg(),n(lr(t,"network-request-failed"))},timeout:ux.get()})}if(!((i=(r=ur().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ur().gapi)===null||o===void 0)&&o.load)s();else{const a=oP("iframefcb");return ur()[a]=()=>{gapi.load?s():n(lr(t,"network-request-failed"))},By(`${iP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw nc=null,e})}let nc=null;function dx(t){return nc=nc||hx(t),nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=new ia(5e3,15e3),px="__/auth/iframe",gx="emulator/auth/iframe",mx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yx(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?id(e,gx):`https://${t.config.authDomain}/${px}`,r={apiKey:e.apiKey,appName:t.name,v:Xi},i=vx.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ra(r).slice(1)}`}async function _x(t){const e=await dx(t),n=ur().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:yx(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mx,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=lr(t,"network-request-failed"),a=ur().setTimeout(()=>{o(s)},fx.get());function l(){ur().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ex=500,wx=600,Tx="_blank",Sx="http://localhost";class yg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ix(t,e,n,r=Ex,i=wx){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},bx),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Ht().toLowerCase();n&&(a=Dy(u)?Tx:n),Ny(u)&&(e=e||Sx,l.scrollbars="yes");const h=Object.entries(l).reduce((g,[E,S])=>`${g}${E}=${S},`,"");if(QR(u)&&a!=="_self")return Cx(e||"",a),new yg(null);const f=window.open(e||"",a,h);he(f,t,"popup-blocked");try{f.focus()}catch{}return new yg(f)}function Cx(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="__/auth/handler",Rx="emulator/auth/handler",Px=encodeURIComponent("fac");async function _g(t,e,n,r,i,o){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xi,eventId:i};if(e instanceof Hy){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",b1(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))s[h]=f}if(e instanceof oa){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${Px}=${encodeURIComponent(l)}`:"";return`${xx(t)}?${ra(a).slice(1)}${u}`}function xx({config:t}){return t.emulator?id(t,Rx):`https://${t.authDomain}/${Ax}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu="webStorageSupport";class Ox{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xy,this._completeRedirectFn=tx,this._overrideRedirectResult=JP}async _openPopup(e,n,r,i){var o;Dr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await _g(e,n,r,uh(),i);return Ix(e,s,ld())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await _g(e,n,r,uh(),i);return kP(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Dr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _x(e),r=new rx(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tu,{type:tu},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[tu];s!==void 0&&n(!!s),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jy()||ky()||sd()}}const Mx=Ox;var bg="@firebase/auth",Eg="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Dx(t){Ui(new mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;he(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Uy(t)},u=new tP(r,i,o,l);return uP(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ui(new mi("auth-internal",e=>{const n=Ho(e.getProvider("auth").getImmediate());return(r=>new Nx(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(bg,Eg,kx(t)),cr(bg,Eg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=5*60,Lx=vy("authIdTokenMaxAge")||Vx;let wg=null;const Fx=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Lx)return;const i=n==null?void 0:n.token;wg!==i&&(wg=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $x(t=td()){const e=el(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lP(t,{popupRedirectResolver:Mx,persistence:[zP,OP,Xy]}),r=vy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Fx(o.toString());RP(n,s,()=>s(n.currentUser)),AP(n,a=>s(a))}}const i=py("auth");return i&&hP(n,`http://${i}`),n}function jx(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}nP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=lr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",jx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Dx("Browser");var Ux="firebase",Bx="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr(Ux,Bx,"app");var Tg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fi,r0;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,v){function y(){}y.prototype=v.prototype,b.D=v.prototype,b.prototype=new y,b.prototype.constructor=b,b.C=function(I,R,P){for(var T=Array(arguments.length-2),B=2;B<arguments.length;B++)T[B-2]=arguments[B];return v.prototype[R].apply(I,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,v,y){y||(y=0);var I=Array(16);if(typeof v=="string")for(var R=0;16>R;++R)I[R]=v.charCodeAt(y++)|v.charCodeAt(y++)<<8|v.charCodeAt(y++)<<16|v.charCodeAt(y++)<<24;else for(R=0;16>R;++R)I[R]=v[y++]|v[y++]<<8|v[y++]<<16|v[y++]<<24;v=b.g[0],y=b.g[1],R=b.g[2];var P=b.g[3],T=v+(P^y&(R^P))+I[0]+3614090360&4294967295;v=y+(T<<7&4294967295|T>>>25),T=P+(R^v&(y^R))+I[1]+3905402710&4294967295,P=v+(T<<12&4294967295|T>>>20),T=R+(y^P&(v^y))+I[2]+606105819&4294967295,R=P+(T<<17&4294967295|T>>>15),T=y+(v^R&(P^v))+I[3]+3250441966&4294967295,y=R+(T<<22&4294967295|T>>>10),T=v+(P^y&(R^P))+I[4]+4118548399&4294967295,v=y+(T<<7&4294967295|T>>>25),T=P+(R^v&(y^R))+I[5]+1200080426&4294967295,P=v+(T<<12&4294967295|T>>>20),T=R+(y^P&(v^y))+I[6]+2821735955&4294967295,R=P+(T<<17&4294967295|T>>>15),T=y+(v^R&(P^v))+I[7]+4249261313&4294967295,y=R+(T<<22&4294967295|T>>>10),T=v+(P^y&(R^P))+I[8]+1770035416&4294967295,v=y+(T<<7&4294967295|T>>>25),T=P+(R^v&(y^R))+I[9]+2336552879&4294967295,P=v+(T<<12&4294967295|T>>>20),T=R+(y^P&(v^y))+I[10]+4294925233&4294967295,R=P+(T<<17&4294967295|T>>>15),T=y+(v^R&(P^v))+I[11]+2304563134&4294967295,y=R+(T<<22&4294967295|T>>>10),T=v+(P^y&(R^P))+I[12]+1804603682&4294967295,v=y+(T<<7&4294967295|T>>>25),T=P+(R^v&(y^R))+I[13]+4254626195&4294967295,P=v+(T<<12&4294967295|T>>>20),T=R+(y^P&(v^y))+I[14]+2792965006&4294967295,R=P+(T<<17&4294967295|T>>>15),T=y+(v^R&(P^v))+I[15]+1236535329&4294967295,y=R+(T<<22&4294967295|T>>>10),T=v+(R^P&(y^R))+I[1]+4129170786&4294967295,v=y+(T<<5&4294967295|T>>>27),T=P+(y^R&(v^y))+I[6]+3225465664&4294967295,P=v+(T<<9&4294967295|T>>>23),T=R+(v^y&(P^v))+I[11]+643717713&4294967295,R=P+(T<<14&4294967295|T>>>18),T=y+(P^v&(R^P))+I[0]+3921069994&4294967295,y=R+(T<<20&4294967295|T>>>12),T=v+(R^P&(y^R))+I[5]+3593408605&4294967295,v=y+(T<<5&4294967295|T>>>27),T=P+(y^R&(v^y))+I[10]+38016083&4294967295,P=v+(T<<9&4294967295|T>>>23),T=R+(v^y&(P^v))+I[15]+3634488961&4294967295,R=P+(T<<14&4294967295|T>>>18),T=y+(P^v&(R^P))+I[4]+3889429448&4294967295,y=R+(T<<20&4294967295|T>>>12),T=v+(R^P&(y^R))+I[9]+568446438&4294967295,v=y+(T<<5&4294967295|T>>>27),T=P+(y^R&(v^y))+I[14]+3275163606&4294967295,P=v+(T<<9&4294967295|T>>>23),T=R+(v^y&(P^v))+I[3]+4107603335&4294967295,R=P+(T<<14&4294967295|T>>>18),T=y+(P^v&(R^P))+I[8]+1163531501&4294967295,y=R+(T<<20&4294967295|T>>>12),T=v+(R^P&(y^R))+I[13]+2850285829&4294967295,v=y+(T<<5&4294967295|T>>>27),T=P+(y^R&(v^y))+I[2]+4243563512&4294967295,P=v+(T<<9&4294967295|T>>>23),T=R+(v^y&(P^v))+I[7]+1735328473&4294967295,R=P+(T<<14&4294967295|T>>>18),T=y+(P^v&(R^P))+I[12]+2368359562&4294967295,y=R+(T<<20&4294967295|T>>>12),T=v+(y^R^P)+I[5]+4294588738&4294967295,v=y+(T<<4&4294967295|T>>>28),T=P+(v^y^R)+I[8]+2272392833&4294967295,P=v+(T<<11&4294967295|T>>>21),T=R+(P^v^y)+I[11]+1839030562&4294967295,R=P+(T<<16&4294967295|T>>>16),T=y+(R^P^v)+I[14]+4259657740&4294967295,y=R+(T<<23&4294967295|T>>>9),T=v+(y^R^P)+I[1]+2763975236&4294967295,v=y+(T<<4&4294967295|T>>>28),T=P+(v^y^R)+I[4]+1272893353&4294967295,P=v+(T<<11&4294967295|T>>>21),T=R+(P^v^y)+I[7]+4139469664&4294967295,R=P+(T<<16&4294967295|T>>>16),T=y+(R^P^v)+I[10]+3200236656&4294967295,y=R+(T<<23&4294967295|T>>>9),T=v+(y^R^P)+I[13]+681279174&4294967295,v=y+(T<<4&4294967295|T>>>28),T=P+(v^y^R)+I[0]+3936430074&4294967295,P=v+(T<<11&4294967295|T>>>21),T=R+(P^v^y)+I[3]+3572445317&4294967295,R=P+(T<<16&4294967295|T>>>16),T=y+(R^P^v)+I[6]+76029189&4294967295,y=R+(T<<23&4294967295|T>>>9),T=v+(y^R^P)+I[9]+3654602809&4294967295,v=y+(T<<4&4294967295|T>>>28),T=P+(v^y^R)+I[12]+3873151461&4294967295,P=v+(T<<11&4294967295|T>>>21),T=R+(P^v^y)+I[15]+530742520&4294967295,R=P+(T<<16&4294967295|T>>>16),T=y+(R^P^v)+I[2]+3299628645&4294967295,y=R+(T<<23&4294967295|T>>>9),T=v+(R^(y|~P))+I[0]+4096336452&4294967295,v=y+(T<<6&4294967295|T>>>26),T=P+(y^(v|~R))+I[7]+1126891415&4294967295,P=v+(T<<10&4294967295|T>>>22),T=R+(v^(P|~y))+I[14]+2878612391&4294967295,R=P+(T<<15&4294967295|T>>>17),T=y+(P^(R|~v))+I[5]+4237533241&4294967295,y=R+(T<<21&4294967295|T>>>11),T=v+(R^(y|~P))+I[12]+1700485571&4294967295,v=y+(T<<6&4294967295|T>>>26),T=P+(y^(v|~R))+I[3]+2399980690&4294967295,P=v+(T<<10&4294967295|T>>>22),T=R+(v^(P|~y))+I[10]+4293915773&4294967295,R=P+(T<<15&4294967295|T>>>17),T=y+(P^(R|~v))+I[1]+2240044497&4294967295,y=R+(T<<21&4294967295|T>>>11),T=v+(R^(y|~P))+I[8]+1873313359&4294967295,v=y+(T<<6&4294967295|T>>>26),T=P+(y^(v|~R))+I[15]+4264355552&4294967295,P=v+(T<<10&4294967295|T>>>22),T=R+(v^(P|~y))+I[6]+2734768916&4294967295,R=P+(T<<15&4294967295|T>>>17),T=y+(P^(R|~v))+I[13]+1309151649&4294967295,y=R+(T<<21&4294967295|T>>>11),T=v+(R^(y|~P))+I[4]+4149444226&4294967295,v=y+(T<<6&4294967295|T>>>26),T=P+(y^(v|~R))+I[11]+3174756917&4294967295,P=v+(T<<10&4294967295|T>>>22),T=R+(v^(P|~y))+I[2]+718787259&4294967295,R=P+(T<<15&4294967295|T>>>17),T=y+(P^(R|~v))+I[9]+3951481745&4294967295,b.g[0]=b.g[0]+v&4294967295,b.g[1]=b.g[1]+(R+(T<<21&4294967295|T>>>11))&4294967295,b.g[2]=b.g[2]+R&4294967295,b.g[3]=b.g[3]+P&4294967295}r.prototype.u=function(b,v){v===void 0&&(v=b.length);for(var y=v-this.blockSize,I=this.B,R=this.h,P=0;P<v;){if(R==0)for(;P<=y;)i(this,b,P),P+=this.blockSize;if(typeof b=="string"){for(;P<v;)if(I[R++]=b.charCodeAt(P++),R==this.blockSize){i(this,I),R=0;break}}else for(;P<v;)if(I[R++]=b[P++],R==this.blockSize){i(this,I),R=0;break}}this.h=R,this.o+=v},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var v=1;v<b.length-8;++v)b[v]=0;var y=8*this.o;for(v=b.length-8;v<b.length;++v)b[v]=y&255,y/=256;for(this.u(b),b=Array(16),v=y=0;4>v;++v)for(var I=0;32>I;I+=8)b[y++]=this.g[v]>>>I&255;return b};function o(b,v){var y=a;return Object.prototype.hasOwnProperty.call(y,b)?y[b]:y[b]=v(b)}function s(b,v){this.h=v;for(var y=[],I=!0,R=b.length-1;0<=R;R--){var P=b[R]|0;I&&P==v||(y[R]=P,I=!1)}this.g=y}var a={};function l(b){return-128<=b&&128>b?o(b,function(v){return new s([v|0],0>v?-1:0)}):new s([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return m(u(-b));for(var v=[],y=1,I=0;b>=y;I++)v[I]=b/y|0,y*=4294967296;return new s(v,0)}function h(b,v){if(b.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(b.charAt(0)=="-")return m(h(b.substring(1),v));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=u(Math.pow(v,8)),I=f,R=0;R<b.length;R+=8){var P=Math.min(8,b.length-R),T=parseInt(b.substring(R,R+P),v);8>P?(P=u(Math.pow(v,P)),I=I.j(P).add(u(T))):(I=I.j(y),I=I.add(u(T)))}return I}var f=l(0),g=l(1),E=l(16777216);t=s.prototype,t.m=function(){if(C(this))return-m(this).m();for(var b=0,v=1,y=0;y<this.g.length;y++){var I=this.i(y);b+=(0<=I?I:4294967296+I)*v,v*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S(this))return"0";if(C(this))return"-"+m(this).toString(b);for(var v=u(Math.pow(b,6)),y=this,I="";;){var R=M(y,v).g;y=x(y,R.j(v));var P=((0<y.g.length?y.g[0]:y.h)>>>0).toString(b);if(y=R,S(y))return P+I;for(;6>P.length;)P="0"+P;I=P+I}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function S(b){if(b.h!=0)return!1;for(var v=0;v<b.g.length;v++)if(b.g[v]!=0)return!1;return!0}function C(b){return b.h==-1}t.l=function(b){return b=x(this,b),C(b)?-1:S(b)?0:1};function m(b){for(var v=b.g.length,y=[],I=0;I<v;I++)y[I]=~b.g[I];return new s(y,~b.h).add(g)}t.abs=function(){return C(this)?m(this):this},t.add=function(b){for(var v=Math.max(this.g.length,b.g.length),y=[],I=0,R=0;R<=v;R++){var P=I+(this.i(R)&65535)+(b.i(R)&65535),T=(P>>>16)+(this.i(R)>>>16)+(b.i(R)>>>16);I=T>>>16,P&=65535,T&=65535,y[R]=T<<16|P}return new s(y,y[y.length-1]&-2147483648?-1:0)};function x(b,v){return b.add(m(v))}t.j=function(b){if(S(this)||S(b))return f;if(C(this))return C(b)?m(this).j(m(b)):m(m(this).j(b));if(C(b))return m(this.j(m(b)));if(0>this.l(E)&&0>b.l(E))return u(this.m()*b.m());for(var v=this.g.length+b.g.length,y=[],I=0;I<2*v;I++)y[I]=0;for(I=0;I<this.g.length;I++)for(var R=0;R<b.g.length;R++){var P=this.i(I)>>>16,T=this.i(I)&65535,B=b.i(R)>>>16,Y=b.i(R)&65535;y[2*I+2*R]+=T*Y,A(y,2*I+2*R),y[2*I+2*R+1]+=P*Y,A(y,2*I+2*R+1),y[2*I+2*R+1]+=T*B,A(y,2*I+2*R+1),y[2*I+2*R+2]+=P*B,A(y,2*I+2*R+2)}for(I=0;I<v;I++)y[I]=y[2*I+1]<<16|y[2*I];for(I=v;I<2*v;I++)y[I]=0;return new s(y,0)};function A(b,v){for(;(b[v]&65535)!=b[v];)b[v+1]+=b[v]>>>16,b[v]&=65535,v++}function O(b,v){this.g=b,this.h=v}function M(b,v){if(S(v))throw Error("division by zero");if(S(b))return new O(f,f);if(C(b))return v=M(m(b),v),new O(m(v.g),m(v.h));if(C(v))return v=M(b,m(v)),new O(m(v.g),v.h);if(30<b.g.length){if(C(b)||C(v))throw Error("slowDivide_ only works with positive integers.");for(var y=g,I=v;0>=I.l(b);)y=N(y),I=N(I);var R=k(y,1),P=k(I,1);for(I=k(I,2),y=k(y,2);!S(I);){var T=P.add(I);0>=T.l(b)&&(R=R.add(y),P=T),I=k(I,1),y=k(y,1)}return v=x(b,R.j(v)),new O(R,v)}for(R=f;0<=b.l(v);){for(y=Math.max(1,Math.floor(b.m()/v.m())),I=Math.ceil(Math.log(y)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),P=u(y),T=P.j(v);C(T)||0<T.l(b);)y-=I,P=u(y),T=P.j(v);S(P)&&(P=g),R=R.add(P),b=x(b,T)}return new O(R,b)}t.A=function(b){return M(this,b).h},t.and=function(b){for(var v=Math.max(this.g.length,b.g.length),y=[],I=0;I<v;I++)y[I]=this.i(I)&b.i(I);return new s(y,this.h&b.h)},t.or=function(b){for(var v=Math.max(this.g.length,b.g.length),y=[],I=0;I<v;I++)y[I]=this.i(I)|b.i(I);return new s(y,this.h|b.h)},t.xor=function(b){for(var v=Math.max(this.g.length,b.g.length),y=[],I=0;I<v;I++)y[I]=this.i(I)^b.i(I);return new s(y,this.h^b.h)};function N(b){for(var v=b.g.length+1,y=[],I=0;I<v;I++)y[I]=b.i(I)<<1|b.i(I-1)>>>31;return new s(y,b.h)}function k(b,v){var y=v>>5;v%=32;for(var I=b.g.length-y,R=[],P=0;P<I;P++)R[P]=0<v?b.i(P+y)>>>v|b.i(P+y+1)<<32-v:b.i(P+y);return new s(R,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,r0=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,Fi=s}).apply(typeof Tg<"u"?Tg:typeof self<"u"?self:typeof window<"u"?window:{});var La=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i0,o0,ds,s0,rc,fh,a0,c0,l0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,p){return c==Array.prototype||c==Object.prototype||(c[d]=p.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof La=="object"&&La];for(var d=0;d<c.length;++d){var p=c[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var p=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var D=c[w];if(!(D in p))break e;p=p[D]}c=c[c.length-1],w=p[c],d=d(w),d!=w&&d!=null&&e(p,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var p=0,w=!1,D={next:function(){if(!w&&p<c.length){var $=p++;return{value:d($,c[$]),done:!1}}return w=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,p){return c.call.apply(c.bind,arguments)}function f(c,d,p){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,w),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function g(c,d,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,g.apply(null,arguments)}function E(c,d){var p=Array.prototype.slice.call(arguments,1);return function(){var w=p.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function S(c,d){function p(){}p.prototype=d.prototype,c.aa=d.prototype,c.prototype=new p,c.prototype.constructor=c,c.Qb=function(w,D,$){for(var Q=Array(arguments.length-2),We=2;We<arguments.length;We++)Q[We-2]=arguments[We];return d.prototype[D].apply(w,Q)}}function C(c){const d=c.length;if(0<d){const p=Array(d);for(let w=0;w<d;w++)p[w]=c[w];return p}return[]}function m(c,d){for(let p=1;p<arguments.length;p++){const w=arguments[p];if(l(w)){const D=c.length||0,$=w.length||0;c.length=D+$;for(let Q=0;Q<$;Q++)c[D+Q]=w[Q]}else c.push(w)}}class x{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function A(c){return/^[\s\xa0]*$/.test(c)}function O(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function M(c){return M[" "](c),c}M[" "]=function(){};var N=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function k(c,d,p){for(const w in c)d.call(p,c[w],w,c)}function b(c,d){for(const p in c)d.call(void 0,c[p],p,c)}function v(c){const d={};for(const p in c)d[p]=c[p];return d}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let p,w;for(let D=1;D<arguments.length;D++){w=arguments[D];for(p in w)c[p]=w[p];for(let $=0;$<y.length;$++)p=y[$],Object.prototype.hasOwnProperty.call(w,p)&&(c[p]=w[p])}}function R(c){var d=1;c=c.split(":");const p=[];for(;0<d&&c.length;)p.push(c.shift()),d--;return c.length&&p.push(c.join(":")),p}function P(c){a.setTimeout(()=>{throw c},0)}function T(){var c=z;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class B{constructor(){this.h=this.g=null}add(d,p){const w=Y.get();w.set(d,p),this.h?this.h.next=w:this.g=w,this.h=w}}var Y=new x(()=>new F,c=>c.reset());class F{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let V,j=!1,z=new B,q=()=>{const c=a.Promise.resolve(void 0);V=()=>{c.then(G)}};var G=()=>{for(var c;c=T();){try{c.h.call(c.g)}catch(p){P(p)}var d=Y;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}j=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const p=()=>{};a.addEventListener("test",p,d),a.removeEventListener("test",p,d)}catch{}return c}();function oe(c,d){if(ee.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var p=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(N){e:{try{M(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else p=="mouseover"?d=c.fromElement:p=="mouseout"&&(d=c.toElement);this.relatedTarget=d,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ie[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&oe.aa.h.call(this)}}S(oe,ee);var Ie={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function it(c,d,p,w,D){this.listener=c,this.proxy=null,this.src=d,this.type=p,this.capture=!!w,this.ha=D,this.key=++Ge,this.da=this.fa=!1}function et(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c){this.src=c,this.g={},this.h=0}ze.prototype.add=function(c,d,p,w,D){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var Q=Ke(c,d,w,D);return-1<Q?(d=c[Q],p||(d.fa=!1)):(d=new it(d,this.src,$,!!w,D),d.fa=p,c.push(d)),d};function ke(c,d){var p=d.type;if(p in c.g){var w=c.g[p],D=Array.prototype.indexOf.call(w,d,void 0),$;($=0<=D)&&Array.prototype.splice.call(w,D,1),$&&(et(d),c.g[p].length==0&&(delete c.g[p],c.h--))}}function Ke(c,d,p,w){for(var D=0;D<c.length;++D){var $=c[D];if(!$.da&&$.listener==d&&$.capture==!!p&&$.ha==w)return D}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),ht={};function Ue(c,d,p,w,D){if(Array.isArray(d)){for(var $=0;$<d.length;$++)Ue(c,d[$],p,w,D);return null}return p=De(p),c&&c[le]?c.K(d,p,u(w)?!!w.capture:!!w,D):pt(c,d,p,!1,w,D)}function pt(c,d,p,w,D,$){if(!d)throw Error("Invalid event type");var Q=u(D)?!!D.capture:!!D,We=re(c);if(We||(c[Me]=We=new ze(c)),p=We.add(d,p,w,Q,$),p.proxy)return p;if(w=Qe(),p.proxy=w,w.src=c,w.listener=p,c.addEventListener)X||(D=Q),D===void 0&&(D=!1),c.addEventListener(d.toString(),w,D);else if(c.attachEvent)c.attachEvent(ve(d.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Qe(){function c(p){return d.call(c.src,c.listener,p)}const d=ot;return c}function _t(c,d,p,w,D){if(Array.isArray(d))for(var $=0;$<d.length;$++)_t(c,d[$],p,w,D);else w=u(w)?!!w.capture:!!w,p=De(p),c&&c[le]?(c=c.i,d=String(d).toString(),d in c.g&&($=c.g[d],p=Ke($,p,w,D),-1<p&&(et($[p]),Array.prototype.splice.call($,p,1),$.length==0&&(delete c.g[d],c.h--)))):c&&(c=re(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Ke(d,p,w,D)),(p=-1<c?d[c]:null)&&Re(p))}function Re(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[le])ke(d.i,c);else{var p=c.type,w=c.proxy;d.removeEventListener?d.removeEventListener(p,w,c.capture):d.detachEvent?d.detachEvent(ve(p),w):d.addListener&&d.removeListener&&d.removeListener(w),(p=re(d))?(ke(p,c),p.h==0&&(p.src=null,d[Me]=null)):et(c)}}}function ve(c){return c in ht?ht[c]:ht[c]="on"+c}function ot(c,d){if(c.da)c=!0;else{d=new oe(d,this);var p=c.listener,w=c.ha||c.src;c.fa&&Re(c),c=p.call(w,d)}return c}function re(c){return c=c[Me],c instanceof ze?c:null}var be="__closure_events_fn_"+(1e9*Math.random()>>>0);function De(c){return typeof c=="function"?c:(c[be]||(c[be]=function(d){return c.handleEvent(d)}),c[be])}function _e(){K.call(this),this.i=new ze(this),this.M=this,this.F=null}S(_e,K),_e.prototype[le]=!0,_e.prototype.removeEventListener=function(c,d,p,w){_t(this,c,d,p,w)};function Xe(c,d){var p,w=c.F;if(w)for(p=[];w;w=w.F)p.push(w);if(c=c.M,w=d.type||d,typeof d=="string")d=new ee(d,c);else if(d instanceof ee)d.target=d.target||c;else{var D=d;d=new ee(w,c),I(d,D)}if(D=!0,p)for(var $=p.length-1;0<=$;$--){var Q=d.g=p[$];D=Vt(Q,w,!0,d)&&D}if(Q=d.g=c,D=Vt(Q,w,!0,d)&&D,D=Vt(Q,w,!1,d)&&D,p)for($=0;$<p.length;$++)Q=d.g=p[$],D=Vt(Q,w,!1,d)&&D}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var p=c.g[d],w=0;w<p.length;w++)et(p[w]);delete c.g[d],c.h--}}this.F=null},_e.prototype.K=function(c,d,p,w){return this.i.add(String(c),d,!1,p,w)},_e.prototype.L=function(c,d,p,w){return this.i.add(String(c),d,!0,p,w)};function Vt(c,d,p,w){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,$=0;$<d.length;++$){var Q=d[$];if(Q&&!Q.da&&Q.capture==p){var We=Q.listener,xt=Q.ha||Q.src;Q.fa&&ke(c.i,Q),D=We.call(xt,w)!==!1&&D}}return D&&!w.defaultPrevented}function jr(c,d,p){if(typeof c=="function")p&&(c=g(c,p));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Ur(c){c.g=jr(()=>{c.g=null,c.i&&(c.i=!1,Ur(c))},c.l);const d=c.h;c.h=null,c.m.apply(null,d)}class Br extends K{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Ur(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bt(c){K.call(this),this.h=c,this.g={}}S(bt,K);var Lt=[];function At(c){k(c.g,function(d,p){this.g.hasOwnProperty(p)&&Re(d)},c),c.g={}}bt.prototype.N=function(){bt.aa.N.call(this),At(this)},bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vr=a.JSON.stringify,Fn=a.JSON.parse,Ft=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function tn(){}tn.prototype.h=null;function zr(c){return c.h||(c.h=c.i())}function Zn(){}var Gt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cn(){ee.call(this,"d")}S(cn,ee);function Tt(){ee.call(this,"c")}S(Tt,ee);var tt={},Kt=null;function He(){return Kt=Kt||new _e}tt.La="serverreachability";function ln(c){ee.call(this,tt.La,c)}S(ln,ee);function se(c){const d=He();Xe(d,new ln(d))}tt.STAT_EVENT="statevent";function Oe(c,d){ee.call(this,tt.STAT_EVENT,c),this.stat=d}S(Oe,ee);function Ve(c){const d=He();Xe(d,new Oe(d,c))}tt.Ma="timingevent";function Ne(c,d){ee.call(this,tt.Ma,c),this.size=d}S(Ne,ee);function Le(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Fe(){this.g=!0}Fe.prototype.xa=function(){this.g=!1};function Rt(c,d,p,w,D,$){c.info(function(){if(c.g)if($)for(var Q="",We=$.split("&"),xt=0;xt<We.length;xt++){var Pe=We[xt].split("=");if(1<Pe.length){var $t=Pe[0];Pe=Pe[1];var jt=$t.split("_");Q=2<=jt.length&&jt[1]=="type"?Q+($t+"="+Pe+"&"):Q+($t+"=redacted&")}}else Q=null;else Q=$;return"XMLHTTP REQ ("+w+") [attempt "+D+"]: "+d+`
`+p+`
`+Q})}function In(c,d,p,w,D,$,Q){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+D+"]: "+d+`
`+p+`
`+$+" "+Q})}function Pt(c,d,p,w){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+_r(c,p)+(w?" "+w:"")})}function yr(c,d){c.info(function(){return"TIMEOUT: "+d})}Fe.prototype.info=function(){};function _r(c,d){if(!c.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(c=0;c<p.length;c++)if(Array.isArray(p[c])){var w=p[c];if(!(2>w.length)){var D=w[1];if(Array.isArray(D)&&!(1>D.length)){var $=D[0];if($!="noop"&&$!="stop"&&$!="close")for(var Q=1;Q<D.length;Q++)D[Q]=""}}}}return vr(p)}catch{return d}}var un={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$n={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function nn(){}S(nn,tn),nn.prototype.g=function(){return new XMLHttpRequest},nn.prototype.i=function(){return{}},jn=new nn;function Ye(c,d,p,w){this.j=c,this.i=d,this.l=p,this.R=w||1,this.U=new bt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cn}function Cn(){this.i=null,this.g="",this.h=!1}var br={},Un={};function Hr(c,d,p){c.L=1,c.v=Qr(dn(d)),c.m=p,c.P=!0,gt(c,null)}function gt(c,d){c.F=Date.now(),An(c),c.A=dn(c.v);var p=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Pi(p.i,"t",w),c.C=0,p=c.j.J,c.h=new Cn,c.g=gf(c.j,p?d:null,!c.m),0<c.O&&(c.M=new Br(g(c.Y,c,c.g),c.O)),d=c.U,p=c.g,w=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(Lt[0]=D.toString()),D=Lt);for(var $=0;$<D.length;$++){var Q=Ue(p,D[$],w||d.handleEvent,!1,d.h||d);if(!Q)break;d.g[Q.key]=Q}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),se(),Rt(c.i,c.u,c.A,c.l,c.R,c.m)}Ye.prototype.ca=function(c){c=c.target;const d=this.M;d&&Sr(c)==3?d.j():this.Y(c)},Ye.prototype.Y=function(c){try{if(c==this.g)e:{const jt=Sr(this.g);var d=this.g.Ba();const ro=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||rf(this.g)))){this.J||jt!=4||d==7||(d==8||0>=ro?se(3):se(2)),Si(this);var p=this.g.Z();this.X=p;t:if(wi(this)){var w=rf(this.g);c="";var D=w.length,$=Sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),er(this);var Q="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(w[d],{stream:!($&&d==D-1)});w.length=0,this.h.g+=c,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=p==200,In(this.i,this.u,this.A,this.l,this.R,jt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var We,xt=this.g;if((We=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(We)){var Pe=We;break t}}Pe=null}if(p=Pe)Pt(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bn(this,p);else{this.o=!1,this.s=3,Ve(12),Rn(this),er(this);break e}}if(this.P){p=!0;let Hn;for(;!this.J&&this.C<Q.length;)if(Hn=Xo(this,Q),Hn==Un){jt==4&&(this.s=4,Ve(14),p=!1),Pt(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==br){this.s=4,Ve(15),Pt(this.i,this.l,Q,"[Invalid Chunk]"),p=!1;break}else Pt(this.i,this.l,Hn,null),Bn(this,Hn);if(wi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||Q.length!=0||this.h.h||(this.s=1,Ve(16),p=!1),this.o=this.o&&p,!p)Pt(this.i,this.l,Q,"[Invalid Chunked Response]"),Rn(this),er(this);else if(0<Q.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),Sl($t),$t.M=!0,Ve(11))}}else Pt(this.i,this.l,Q,null),Bn(this,Q);jt==4&&Rn(this),this.o&&!this.J&&(jt==4?hf(this.j,this):(this.o=!1,An(this)))}else K_(this.g),p==400&&0<Q.indexOf("Unknown SID")?(this.s=3,Ve(12)):(this.s=0,Ve(13)),Rn(this),er(this)}}}catch{}finally{}};function wi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Xo(c,d){var p=c.C,w=d.indexOf(`
`,p);return w==-1?Un:(p=Number(d.substring(p,w)),isNaN(p)?br:(w+=1,w+p>d.length?Un:(d=d.slice(w,w+p),c.C=w+p,d)))}Ye.prototype.cancel=function(){this.J=!0,Rn(this)};function An(c){c.S=Date.now()+c.I,Ti(c,c.I)}function Ti(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Le(g(c.ba,c),d)}function Si(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ye.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(yr(this.i,this.A),this.L!=2&&(se(),Ve(17)),Rn(this),this.s=2,er(this)):Ti(this,this.S-c)};function er(c){c.j.G==0||c.J||hf(c.j,c)}function Rn(c){Si(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,At(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Bn(c,d){try{var p=c.j;if(p.G!=0&&(p.g==c||Wr(p.h,c))){if(!c.K&&Wr(p.h,c)&&p.G==3){try{var w=p.Da.g.parse(d)}catch{w=null}if(Array.isArray(w)&&w.length==3){var D=w;if(D[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<c.F)Ea(p),_a(p);else break e;Tl(p),Ve(18)}}else p.za=D[1],0<p.za-p.T&&37500>D[2]&&p.F&&p.v==0&&!p.C&&(p.C=Le(g(p.Za,p),6e3));if(1>=Ii(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else xi(p,11)}else if((c.K||p.g==c)&&Ea(p),!A(d))for(D=p.Da.g.parse(d),d=0;d<D.length;d++){let Pe=D[d];if(p.T=Pe[0],Pe=Pe[1],p.G==2)if(Pe[0]=="c"){p.K=Pe[1],p.ia=Pe[2];const $t=Pe[3];$t!=null&&(p.la=$t,p.j.info("VER="+p.la));const jt=Pe[4];jt!=null&&(p.Aa=jt,p.j.info("SVER="+p.Aa));const ro=Pe[5];ro!=null&&typeof ro=="number"&&0<ro&&(w=1.5*ro,p.L=w,p.j.info("backChannelRequestTimeoutMs_="+w)),w=p;const Hn=c.g;if(Hn){const Ta=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ta){var $=w.h;$.g||Ta.indexOf("spdy")==-1&&Ta.indexOf("quic")==-1&&Ta.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(rn($,$.h),$.h=null))}if(w.D){const Il=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Il&&(w.ya=Il,$e(w.I,w.D,Il))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-c.F,p.j.info("Handshake RTT: "+p.R+"ms")),w=p;var Q=c;if(w.qa=pf(w,w.J?w.ia:null,w.W),Q.K){on(w.h,Q);var We=Q,xt=w.L;xt&&(We.I=xt),We.B&&(Si(We),An(We)),w.g=Q}else lf(w);0<p.i.length&&ba(p)}else Pe[0]!="stop"&&Pe[0]!="close"||xi(p,7);else p.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?xi(p,7):wl(p):Pe[0]!="noop"&&p.l&&p.l.ta(Pe),p.v=0)}}se(4)}catch{}}var eo=class{constructor(c,d){this.g=c,this.map=d}};function Er(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ii(c){return c.h?1:c.g?c.g.size:0}function Wr(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function rn(c,d){c.g?c.g.add(d):c.h=d}function on(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Er.prototype.cancel=function(){if(this.i=wr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function wr(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(const p of c.g.values())d=d.concat(p.D);return d}return C(c.i)}function qr(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],p=c.length,w=0;w<p;w++)d.push(c[w]);return d}d=[],p=0;for(w in c)d[p++]=c[w];return d}function xn(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var p=0;p<c;p++)d.push(p);return d}d=[],p=0;for(const w in c)d[p++]=w;return d}}}function to(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var p=xn(c),w=qr(c),D=w.length,$=0;$<D;$++)d.call(void 0,w[$],p&&p[$],c)}var Ci=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yo(c,d){if(c){c=c.split("&");for(var p=0;p<c.length;p++){var w=c[p].indexOf("="),D=null;if(0<=w){var $=c[p].substring(0,w);D=c[p].substring(w+1)}else $=c[p];d($,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function hn(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof hn){this.h=c.h,Gr(this,c.j),this.o=c.o,this.g=c.g,Kr(this,c.s),this.l=c.l;var d=c.i,p=new zn;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),Ai(this,p),this.m=c.m}else c&&(d=String(c).match(Ci))?(this.h=!1,Gr(this,d[1]||"",!0),this.o=tr(d[2]||""),this.g=tr(d[3]||"",!0),Kr(this,d[4]),this.l=tr(d[5]||"",!0),Ai(this,d[6]||"",!0),this.m=tr(d[7]||"")):(this.h=!1,this.i=new zn(null,this.h))}hn.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Tr(d,Xr,!0),":");var p=this.g;return(p||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Tr(d,Xr,!0),"@"),c.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&c.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&c.push("/"),c.push(Tr(p,p.charAt(0)=="/"?Zo:On,!0))),(p=this.i.toString())&&c.push("?",p),(p=this.m)&&c.push("#",Tr(p,Yr)),c.join("")};function dn(c){return new hn(c)}function Gr(c,d,p){c.j=p?tr(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Kr(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Ai(c,d,p){d instanceof zn?(c.i=d,es(c.i,c.h)):(p||(d=Tr(d,sn)),c.i=new zn(d,c.h))}function $e(c,d,p){c.i.set(d,p)}function Qr(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function tr(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Tr(c,d,p){return typeof c=="string"?(c=encodeURI(c).replace(d,Jo),p&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Jo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Xr=/[#\/\?@]/g,On=/[#\?:]/g,Zo=/[#\?]/g,sn=/[#\?@]/g,Yr=/#/g;function zn(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function St(c){c.g||(c.g=new Map,c.h=0,c.i&&Yo(c.i,function(d,p){c.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}t=zn.prototype,t.add=function(c,d){St(this),this.i=null,c=rr(this,c);var p=this.g.get(c);return p||this.g.set(c,p=[]),p.push(d),this.h+=1,this};function nr(c,d){St(c),d=rr(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Ri(c,d){return St(c),d=rr(c,d),c.g.has(d)}t.forEach=function(c,d){St(this),this.g.forEach(function(p,w){p.forEach(function(D){c.call(d,D,w,this)},this)},this)},t.na=function(){St(this);const c=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let w=0;w<d.length;w++){const D=c[w];for(let $=0;$<D.length;$++)p.push(d[w])}return p},t.V=function(c){St(this);let d=[];if(typeof c=="string")Ri(this,c)&&(d=d.concat(this.g.get(rr(this,c))));else{c=Array.from(this.g.values());for(let p=0;p<c.length;p++)d=d.concat(c[p])}return d},t.set=function(c,d){return St(this),this.i=null,c=rr(this,c),Ri(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Pi(c,d,p){nr(c,d),0<p.length&&(c.i=null,c.g.set(rr(c,d),C(p)),c.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var w=d[p];const $=encodeURIComponent(String(w)),Q=this.V(w);for(w=0;w<Q.length;w++){var D=$;Q[w]!==""&&(D+="="+encodeURIComponent(String(Q[w]))),c.push(D)}}return this.i=c.join("&")};function rr(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function es(c,d){d&&!c.j&&(St(c),c.i=null,c.g.forEach(function(p,w){var D=w.toLowerCase();w!=D&&(nr(this,w),Pi(this,D,p))},c)),c.j=d}function te(c,d){const p=new Fe;if(a.Image){const w=new Image;w.onload=E(Ae,p,"TestLoadImage: loaded",!0,d,w),w.onerror=E(Ae,p,"TestLoadImage: error",!1,d,w),w.onabort=E(Ae,p,"TestLoadImage: abort",!1,d,w),w.ontimeout=E(Ae,p,"TestLoadImage: timeout",!1,d,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else d(!1)}function ae(c,d){const p=new Fe,w=new AbortController,D=setTimeout(()=>{w.abort(),Ae(p,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:w.signal}).then($=>{clearTimeout(D),$.ok?Ae(p,"TestPingServer: ok",!0,d):Ae(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Ae(p,"TestPingServer: error",!1,d)})}function Ae(c,d,p,w,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),w(p)}catch{}}function st(){this.g=new Ft}function rt(c,d,p){const w=p||"";try{to(c,function(D,$){let Q=D;u(D)&&(Q=vr(D)),d.push(w+$+"="+encodeURIComponent(Q))})}catch(D){throw d.push(w+"type="+encodeURIComponent("_badmap")),D}}function ir(c){this.l=c.Ub||null,this.j=c.eb||!1}S(ir,tn),ir.prototype.g=function(){return new Jr(this.l,this.j)},ir.prototype.i=function(c){return function(){return c}}({});function Jr(c,d){_e.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Jr,_e),t=Jr.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ns(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,or(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ns(this)),this.g&&(this.readyState=3,ns(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ts(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ts(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?or(this):ns(this),this.readyState==3&&ts(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,or(this))},t.Qa=function(c){this.g&&(this.response=c,or(this))},t.ga=function(){this.g&&or(this)};function or(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ns(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,c.push(p[0]+": "+p[1]),p=d.next();return c.join(`\r
`)};function ns(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Jd(c){let d="";return k(c,function(p,w){d+=w,d+=":",d+=p,d+=`\r
`}),d}function El(c,d,p){e:{for(w in p){var w=!1;break e}w=!0}w||(p=Jd(p),typeof c=="string"?p!=null&&encodeURIComponent(String(p)):$e(c,d,p))}function ct(c){_e.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(ct,_e);var q_=/^https?$/i,G_=["POST","PUT"];t=ct.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,p,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?zr(this.o):zr(jn),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch($){Zd(this,$);return}if(c=p||"",p=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var D in w)p.set(D,w[D]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())p.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(p.keys()).find($=>$.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(G_,d,void 0))||w||D||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,Q]of p)this.g.setRequestHeader($,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nf(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Zd(this,$)}};function Zd(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,ef(c),ya(c)}function ef(c){c.A||(c.A=!0,Xe(c,"complete"),Xe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Xe(this,"complete"),Xe(this,"abort"),ya(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ya(this,!0)),ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tf(this):this.bb())},t.bb=function(){tf(this)};function tf(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Sr(c)!=4||c.Z()!=2)){if(c.u&&Sr(c)==4)jr(c.Ea,0,c);else if(Xe(c,"readystatechange"),Sr(c)==4){c.h=!1;try{const Q=c.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var w;if(w=Q===0){var D=String(c.D).match(Ci)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),w=!q_.test(D?D.toLowerCase():"")}p=w}if(p)Xe(c,"complete"),Xe(c,"success");else{c.m=6;try{var $=2<Sr(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",ef(c)}}finally{ya(c)}}}}function ya(c,d){if(c.g){nf(c);const p=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Xe(c,"ready");try{p.onreadystatechange=w}catch{}}}function nf(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Sr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),Fn(d)}};function rf(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function K_(c){const d={};c=(c.g&&2<=Sr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(A(c[w]))continue;var p=R(c[w]);const D=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const $=d[D]||[];d[D]=$,$.push(p)}b(d,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rs(c,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[c]||d}function of(c){this.Aa=0,this.i=[],this.j=new Fe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rs("baseRetryDelayMs",5e3,c),this.cb=rs("retryDelaySeedMs",1e4,c),this.Wa=rs("forwardChannelMaxRetries",2,c),this.wa=rs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Er(c&&c.concurrentRequestLimit),this.Da=new st,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=of.prototype,t.la=8,t.G=1,t.connect=function(c,d,p,w){Ve(0),this.W=c,this.H=d||{},p&&w!==void 0&&(this.H.OSID=p,this.H.OAID=w),this.F=this.X,this.I=pf(this,null,this.W),ba(this)};function wl(c){if(sf(c),c.G==3){var d=c.U++,p=dn(c.I);if($e(p,"SID",c.K),$e(p,"RID",d),$e(p,"TYPE","terminate"),is(c,p),d=new Ye(c,c.j,d),d.L=2,d.v=Qr(dn(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=d.v,p=!0),p||(d.g=gf(d.j,null),d.g.ea(d.v)),d.F=Date.now(),An(d)}ff(c)}function _a(c){c.g&&(Sl(c),c.g.cancel(),c.g=null)}function sf(c){_a(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ea(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function ba(c){if(!Pn(c.h)&&!c.s){c.s=!0;var d=c.Ga;V||q(),j||(V(),j=!0),z.add(d,c),c.B=0}}function Q_(c,d){return Ii(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Le(g(c.Ga,c,d),df(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const D=new Ye(this,this.j,c);let $=this.o;if(this.S&&($?($=v($),I($,this.S)):$=this.S),this.m!==null||this.O||(D.H=$,$=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var w=this.i[p];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(d+=w,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=cf(this,D,d),p=dn(this.I),$e(p,"RID",c),$e(p,"CVER",22),this.D&&$e(p,"X-HTTP-Session-Id",this.D),is(this,p),$&&(this.O?d="headers="+encodeURIComponent(String(Jd($)))+"&"+d:this.m&&El(p,this.m,$)),rn(this.h,D),this.Ua&&$e(p,"TYPE","init"),this.P?($e(p,"$req",d),$e(p,"SID","null"),D.T=!0,Hr(D,p,null)):Hr(D,p,d),this.G=2}}else this.G==3&&(c?af(this,c):this.i.length==0||Pn(this.h)||af(this))};function af(c,d){var p;d?p=d.l:p=c.U++;const w=dn(c.I);$e(w,"SID",c.K),$e(w,"RID",p),$e(w,"AID",c.T),is(c,w),c.m&&c.o&&El(w,c.m,c.o),p=new Ye(c,c.j,p,c.B+1),c.m===null&&(p.H=c.o),d&&(c.i=d.D.concat(c.i)),d=cf(c,p,1e3),p.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),rn(c.h,p),Hr(p,w,d)}function is(c,d){c.H&&k(c.H,function(p,w){$e(d,w,p)}),c.l&&to({},function(p,w){$e(d,w,p)})}function cf(c,d,p){p=Math.min(c.i.length,p);var w=c.l?g(c.l.Na,c.l,c):null;e:{var D=c.i;let $=-1;for(;;){const Q=["count="+p];$==-1?0<p?($=D[0].g,Q.push("ofs="+$)):$=0:Q.push("ofs="+$);let We=!0;for(let xt=0;xt<p;xt++){let Pe=D[xt].g;const $t=D[xt].map;if(Pe-=$,0>Pe)$=Math.max(0,D[xt].g-100),We=!1;else try{rt($t,Q,"req"+Pe+"_")}catch{w&&w($t)}}if(We){w=Q.join("&");break e}}}return c=c.i.splice(0,p),d.D=c,w}function lf(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;V||q(),j||(V(),j=!0),z.add(d,c),c.v=0}}function Tl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Le(g(c.Fa,c),df(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,uf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Le(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ve(10),_a(this),uf(this))};function Sl(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function uf(c){c.g=new Ye(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=dn(c.qa);$e(d,"RID","rpc"),$e(d,"SID",c.K),$e(d,"AID",c.T),$e(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(d,"TO",c.ja),$e(d,"TYPE","xmlhttp"),is(c,d),c.m&&c.o&&El(d,c.m,c.o),c.L&&(c.g.I=c.L);var p=c.g;c=c.ia,p.L=1,p.v=Qr(dn(d)),p.m=null,p.P=!0,gt(p,c)}t.Za=function(){this.C!=null&&(this.C=null,_a(this),Tl(this),Ve(19))};function Ea(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function hf(c,d){var p=null;if(c.g==d){Ea(c),Sl(c),c.g=null;var w=2}else if(Wr(c.h,d))p=d.D,on(c.h,d),w=1;else return;if(c.G!=0){if(d.o)if(w==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;w=He(),Xe(w,new Ne(w,p)),ba(c)}else lf(c);else if(D=d.s,D==3||D==0&&0<d.X||!(w==1&&Q_(c,d)||w==2&&Tl(c)))switch(p&&0<p.length&&(d=c.h,d.i=d.i.concat(p)),D){case 1:xi(c,5);break;case 4:xi(c,10);break;case 3:xi(c,6);break;default:xi(c,2)}}}function df(c,d){let p=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(p*=2),p*d}function xi(c,d){if(c.j.info("Error code "+d),d==2){var p=g(c.fb,c),w=c.Xa;const D=!w;w=new hn(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Gr(w,"https"),Qr(w),D?te(w.toString(),p):ae(w.toString(),p)}else Ve(2);c.G=0,c.l&&c.l.sa(d),ff(c),sf(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function ff(c){if(c.G=0,c.ka=[],c.l){const d=wr(c.h);(d.length!=0||c.i.length!=0)&&(m(c.ka,d),m(c.ka,c.i),c.h.i.length=0,C(c.i),c.i.length=0),c.l.ra()}}function pf(c,d,p){var w=p instanceof hn?dn(p):new hn(p);if(w.g!="")d&&(w.g=d+"."+w.g),Kr(w,w.s);else{var D=a.location;w=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var $=new hn(null);w&&Gr($,w),d&&($.g=d),D&&Kr($,D),p&&($.l=p),w=$}return p=c.D,d=c.ya,p&&d&&$e(w,p,d),$e(w,"VER",c.la),is(c,w),w}function gf(c,d,p){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new ct(new ir({eb:p})):new ct(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mf(){}t=mf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wa(){}wa.prototype.g=function(c,d){return new fn(c,d)};function fn(c,d){_e.call(this),this.g=new of(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!A(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!A(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new no(this)}S(fn,_e),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){wl(this.g)},fn.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var p={};p.__data__=c,c=p}else this.u&&(p={},p.__data__=vr(c),c=p);d.i.push(new eo(d.Ya++,c)),d.G==3&&ba(d)},fn.prototype.N=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,fn.aa.N.call(this)};function vf(c){cn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(const p in d){c=p;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(vf,cn);function yf(){Tt.call(this),this.status=1}S(yf,Tt);function no(c){this.g=c}S(no,mf),no.prototype.ua=function(){Xe(this.g,"a")},no.prototype.ta=function(c){Xe(this.g,new vf(c))},no.prototype.sa=function(c){Xe(this.g,new yf)},no.prototype.ra=function(){Xe(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,l0=function(){return new wa},c0=function(){return He()},a0=tt,fh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},un.NO_ERROR=0,un.TIMEOUT=8,un.HTTP_ERROR=6,rc=un,$n.COMPLETE="complete",s0=$n,Zn.EventType=Gt,Gt.OPEN="a",Gt.CLOSE="b",Gt.ERROR="c",Gt.MESSAGE="d",_e.prototype.listen=_e.prototype.K,ds=Zn,o0=ir,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,i0=ct}).apply(typeof La<"u"?La:typeof self<"u"?self:typeof window<"u"?window:{});const Sg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new Zh("@firebase/firestore");function as(){return zi.logLevel}function ne(t,...e){if(zi.logLevel<=Te.DEBUG){const n=e.map(hd);zi.debug(`Firestore (${qo}): ${t}`,...n)}}function Vr(t,...e){if(zi.logLevel<=Te.ERROR){const n=e.map(hd);zi.error(`Firestore (${qo}): ${t}`,...n)}}function No(t,...e){if(zi.logLevel<=Te.WARN){const n=e.map(hd);zi.warn(`Firestore (${qo}): ${t}`,...n)}}function hd(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t="Unexpected state"){const e=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: `+t;throw Vr(e),new Error(e)}function qe(t,e){t||de()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class Hx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Wx{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Mr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Mr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new u0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Bt(e)}}class qx{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Gx{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new qx(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qx{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ne("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.R=n.token,new Kx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Xx(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function ko(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Et(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fe(e)}static min(){return new fe(new Et(0,0))}static max(){return new fe(new Et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(),r===void 0?r=e.length-n:r>e.length-n&&de(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class nt extends zs{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const Yx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends zs{construct(e,n,r){return new Mt(e,n,r)}static isValidIdentifier(e){return Yx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Z(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Z(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(n)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(nt.fromString(e))}static fromName(e){return new ie(nt.fromString(e).popFirst(5))}static empty(){return new ie(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new nt(e.slice()))}}function Jx(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new Et(n+1,0):new Et(n,r));return new vi(i,ie.empty(),e)}function Zx(t){return new vi(t.readTime,t.key,-1)}class vi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vi(fe.min(),ie.empty(),-1)}static max(){return new vi(fe.max(),ie.empty(),-1)}}function eO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aa(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==tO)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(i=>i?W.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new W((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new W((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function rO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ca(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}dd.oe=-1;function ol(t){return t==null}function Ac(t){return t===0&&1/t==-1/0}function iO(t){return typeof t=="number"&&Number.isInteger(t)&&!Ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ji(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function d0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fa(this.root,e,this.comparator,!0)}}class Fa{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ot.RED,this.left=i??Ot.EMPTY,this.right=o??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ot(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ot.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cg(this.data.getIterator())}getIteratorFrom(e){return new Cg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class Cg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new bn([])}unionWith(e){let n=new kt(Mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new f0("Invalid base64 string: "+o):o}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const oO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yi(t){if(qe(!!t),typeof t=="string"){let e=0;const n=oO.exec(t);if(qe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(t.seconds),nanos:ft(t.nanos)}}function ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hi(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pd(t){const e=t.mapValue.fields.__previous_value__;return fd(e)?pd(e):e}function Hs(t){const e=yi(t.mapValue.fields.__local_write_time__.timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ws{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ws("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ws&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fd(t)?4:cO(t)?9007199254740991:aO(t)?10:11:de()}function pr(t,e){if(t===e)return!0;const n=Wi(t);if(n!==Wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hs(t).isEqual(Hs(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=yi(i.timestampValue),a=yi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Hi(i.bytesValue).isEqual(Hi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ft(i.geoPointValue.latitude)===ft(o.geoPointValue.latitude)&&ft(i.geoPointValue.longitude)===ft(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ft(i.integerValue)===ft(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ft(i.doubleValue),a=ft(o.doubleValue);return s===a?Ac(s)===Ac(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ko(t.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Ig(s)!==Ig(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!pr(s[l],a[l])))return!1;return!0}(t,e);default:return de()}}function qs(t,e){return(t.values||[]).find(n=>pr(n,e))!==void 0}function Do(t,e){if(t===e)return 0;const n=Wi(t),r=Wi(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ft(o.integerValue||o.doubleValue),l=ft(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Ag(t.timestampValue,e.timestampValue);case 4:return Ag(Hs(t),Hs(e));case 5:return xe(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Hi(o),l=Hi(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=xe(a[u],l[u]);if(h!==0)return h}return xe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=xe(ft(o.latitude),ft(s.latitude));return a!==0?a:xe(ft(o.longitude),ft(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Rg(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,h;const f=o.fields||{},g=s.fields||{},E=(a=f.value)===null||a===void 0?void 0:a.arrayValue,S=(l=g.value)===null||l===void 0?void 0:l.arrayValue,C=xe(((u=E==null?void 0:E.values)===null||u===void 0?void 0:u.length)||0,((h=S==null?void 0:S.values)===null||h===void 0?void 0:h.length)||0);return C!==0?C:Rg(E,S)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===$a.mapValue&&s===$a.mapValue)return 0;if(o===$a.mapValue)return 1;if(s===$a.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const g=xe(l[f],h[f]);if(g!==0)return g;const E=Do(a[l[f]],u[h[f]]);if(E!==0)return E}return xe(l.length,h.length)}(t.mapValue,e.mapValue);default:throw de()}}function Ag(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=yi(t),r=yi(e),i=xe(n.seconds,r.seconds);return i!==0?i:xe(n.nanos,r.nanos)}function Rg(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Do(n[i],r[i]);if(o)return o}return xe(n.length,r.length)}function Vo(t){return ph(t)}function ph(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=yi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=ph(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${ph(n.fields[s])}`;return i+"}"}(t.mapValue):de()}function Pg(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gh(t){return!!t&&"integerValue"in t}function gd(t){return!!t&&"arrayValue"in t}function xg(t){return!!t&&"nullValue"in t}function Og(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ic(t){return!!t&&"mapValue"in t}function aO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Es(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ji(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Es(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Es(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ic(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Es(n)}setAll(e){let n=Mt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Es(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());ic(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ic(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ji(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new an(Es(this.value))}}function p0(t){const e=[];return Ji(t.fields,(n,r)=>{const i=new Mt([n]);if(ic(r)){const o=p0(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new zt(e,0,fe.min(),fe.min(),fe.min(),an.empty(),0)}static newFoundDocument(e,n,r,i){return new zt(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new zt(e,2,n,fe.min(),fe.min(),an.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,fe.min(),fe.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n){this.position=e,this.inclusive=n}}function Mg(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ie.comparator(ie.fromName(s.referenceValue),n.key):r=Do(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ng(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function lO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{}class yt extends g0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hO(e,n,r):n==="array-contains"?new pO(e,r):n==="in"?new gO(e,r):n==="not-in"?new mO(e,r):n==="array-contains-any"?new vO(e,r):new yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dO(e,r):new fO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Do(n,this.value)):n!==null&&Wi(this.value)===Wi(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends g0{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Jn(e,n)}matches(e){return m0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function m0(t){return t.op==="and"}function v0(t){return uO(t)&&m0(t)}function uO(t){for(const e of t.filters)if(e instanceof Jn)return!1;return!0}function mh(t){if(t instanceof yt)return t.field.canonicalString()+t.op.toString()+Vo(t.value);if(v0(t))return t.filters.map(e=>mh(e)).join(",");{const e=t.filters.map(n=>mh(n)).join(",");return`${t.op}(${e})`}}function y0(t,e){return t instanceof yt?function(r,i){return i instanceof yt&&r.op===i.op&&r.field.isEqual(i.field)&&pr(r.value,i.value)}(t,e):t instanceof Jn?function(r,i){return i instanceof Jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&y0(s,i.filters[a]),!0):!1}(t,e):void de()}function _0(t){return t instanceof yt?function(n){return`${n.field.canonicalString()} ${n.op} ${Vo(n.value)}`}(t):t instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(_0).join(" ,")+"}"}(t):"Filter"}class hO extends yt{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class dO extends yt{constructor(e,n){super(e,"in",n),this.keys=b0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fO extends yt{constructor(e,n){super(e,"not-in",n),this.keys=b0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function b0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class pO extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gd(n)&&qs(n.arrayValue,this.value)}}class gO extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qs(this.value.arrayValue,n)}}class mO extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(qs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!qs(this.value.arrayValue,n)}}class vO extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function kg(t,e=null,n=[],r=[],i=null,o=null,s=null){return new yO(t,e,n,r,i,o,s)}function md(t){const e=ge(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ol(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vo(r)).join(",")),e.ue=n}return e.ue}function vd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!y0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ng(t.startAt,e.startAt)&&Ng(t.endAt,e.endAt)}function vh(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _O(t,e,n,r,i,o,s,a){return new la(t,e,n,r,i,o,s,a)}function yd(t){return new la(t)}function Dg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function E0(t){return t.collectionGroup!==null}function ws(t){const e=ge(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new kt(Mt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Pc(o,r))}),n.has(Mt.keyField().canonicalString())||e.ce.push(new Pc(Mt.keyField(),r))}return e.ce}function hr(t){const e=ge(t);return e.le||(e.le=bO(e,ws(t))),e.le}function bO(t,e){if(t.limitType==="F")return kg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Pc(i.field,o)});const n=t.endAt?new Rc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Rc(t.startAt.position,t.startAt.inclusive):null;return kg(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function yh(t,e){const n=t.filters.concat([e]);return new la(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _h(t,e,n){return new la(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sl(t,e){return vd(hr(t),hr(e))&&t.limitType===e.limitType}function w0(t){return`${md(hr(t))}|lt:${t.limitType}`}function ho(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_0(i)).join(", ")}]`),ol(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vo(i)).join(",")),`Target(${r})`}(hr(t))}; limitType=${t.limitType})`}function al(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ws(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=Mg(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,ws(r),i)||r.endAt&&!function(s,a,l){const u=Mg(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,ws(r),i))}(t,e)}function EO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function T0(t){return(e,n)=>{let r=!1;for(const i of ws(t)){const o=wO(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function wO(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Do(l,u):de()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return d0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new at(ie.comparator);function Lr(){return TO}const S0=new at(ie.comparator);function fs(...t){let e=S0;for(const n of t)e=e.insert(n.key,n);return e}function I0(t){let e=S0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vi(){return Ts()}function C0(){return Ts()}function Ts(){return new Go(t=>t.toString(),(t,e)=>t.isEqual(e))}const SO=new at(ie.comparator),IO=new kt(ie.comparator);function Ee(...t){let e=IO;for(const n of t)e=e.add(n);return e}const CO=new kt(xe);function AO(){return CO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ac(e)?"-0":e}}function A0(t){return{integerValue:""+t}}function RO(t,e){return iO(e)?A0(e):_d(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this._=void 0}}function PO(t,e,n){return t instanceof xc?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&fd(o)&&(o=pd(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Gs?P0(t,e):t instanceof Ks?x0(t,e):function(i,o){const s=R0(i,o),a=Vg(s)+Vg(i.Pe);return gh(s)&&gh(i.Pe)?A0(a):_d(i.serializer,a)}(t,e)}function xO(t,e,n){return t instanceof Gs?P0(t,e):t instanceof Ks?x0(t,e):n}function R0(t,e){return t instanceof Oc?function(r){return gh(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class xc extends cl{}class Gs extends cl{constructor(e){super(),this.elements=e}}function P0(t,e){const n=O0(e);for(const r of t.elements)n.some(i=>pr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ks extends cl{constructor(e){super(),this.elements=e}}function x0(t,e){let n=O0(e);for(const r of t.elements)n=n.filter(i=>!pr(i,r));return{arrayValue:{values:n}}}class Oc extends cl{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Vg(t){return ft(t.integerValue||t.doubleValue)}function O0(t){return gd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function OO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gs&&i instanceof Gs||r instanceof Ks&&i instanceof Ks?ko(r.elements,i.elements,pr):r instanceof Oc&&i instanceof Oc?pr(r.Pe,i.Pe):r instanceof xc&&i instanceof xc}(t.transform,e.transform)}class MO{constructor(e,n){this.version=e,this.transformResults=n}}class Yt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yt}static exists(e){return new Yt(void 0,e)}static updateTime(e){return new Yt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ll{}function M0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ul(t.key,Yt.none()):new ua(t.key,t.data,Yt.none());{const n=t.data,r=an.empty();let i=new kt(Mt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new bi(t.key,r,new bn(i.toArray()),Yt.none())}}function NO(t,e,n){t instanceof ua?function(i,o,s){const a=i.value.clone(),l=Fg(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof bi?function(i,o,s){if(!oc(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Fg(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(N0(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ss(t,e,n,r){return t instanceof ua?function(o,s,a,l){if(!oc(o.precondition,s))return a;const u=o.value.clone(),h=$g(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof bi?function(o,s,a,l){if(!oc(o.precondition,s))return a;const u=$g(o.fieldTransforms,l,s),h=s.data;return h.setAll(N0(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return oc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function kO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=R0(r.transform,i||null);o!=null&&(n===null&&(n=an.empty()),n.set(r.field,o))}return n||null}function Lg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ko(r,i,(o,s)=>OO(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ua extends ll{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bi extends ll{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function N0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Fg(t,e,n){const r=new Map;qe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,xO(s,a,n[i]))}return r}function $g(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,PO(o,s,e))}return r}class ul extends ll{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DO extends ll{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&NO(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ss(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ss(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=C0();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=M0(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,(n,r)=>Lg(n,r))&&ko(this.baseMutations,e.baseMutations,(n,r)=>Lg(n,r))}}class bd{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){qe(e.mutations.length===r.length);let i=function(){return SO}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new bd(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Ce;function $O(t){switch(t){default:return de();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function k0(t){if(t===void 0)return Vr("GRPC error has no .code"),H.UNKNOWN;switch(t){case mt.OK:return H.OK;case mt.CANCELLED:return H.CANCELLED;case mt.UNKNOWN:return H.UNKNOWN;case mt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case mt.INTERNAL:return H.INTERNAL;case mt.UNAVAILABLE:return H.UNAVAILABLE;case mt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case mt.NOT_FOUND:return H.NOT_FOUND;case mt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case mt.ABORTED:return H.ABORTED;case mt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case mt.DATA_LOSS:return H.DATA_LOSS;default:return de()}}(Ce=mt||(mt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=new Fi([4294967295,4294967295],0);function jg(t){const e=jO().encode(t),n=new r0;return n.update(e),new Uint8Array(n.digest())}function Ug(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fi([n,r],0),new Fi([i,o],0)]}class Ed{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ps(`Invalid padding: ${n}`);if(r<0)throw new ps(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ps(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ps(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Fi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Fi.fromNumber(r)));return i.compare(UO)===1&&(i=new Fi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=jg(e),[r,i]=Ug(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Ed(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=jg(e),[r,i]=Ug(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ps extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ha.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hl(fe.min(),i,new at(xe),Lr(),Ee())}}class ha{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ha(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class D0{constructor(e,n){this.targetId=e,this.me=n}}class V0{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Bg{constructor(){this.fe=0,this.ge=Hg(),this.pe=Dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ee(),n=Ee(),r=Ee();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:de()}}),new ha(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Hg()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class BO{constructor(e){this.Le=e,this.Be=new Map,this.ke=Lr(),this.qe=zg(),this.Qe=new at(xe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(vh(o))if(r===0){const s=new ie(o.path);this.Ue(n,s,zt.newNoDocument(s,fe.min()))}else qe(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Hi(r).toUint8Array()}catch(l){if(l instanceof f0)return No("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ed(s,i,o)}catch(l){return No(l instanceof ps?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&vh(a.target)){const l=new ie(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,zt.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Ee();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new hl(e,n,this.Qe,this.ke,r);return this.ke=Lr(),this.qe=zg(),this.Qe=new at(xe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Bg,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new kt(xe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Bg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function zg(){return new at(ie.comparator)}function Hg(){return new at(ie.comparator)}const zO={asc:"ASCENDING",desc:"DESCENDING"},HO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WO={and:"AND",or:"OR"};class qO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bh(t,e){return t.useProto3Json||ol(e)?e:{value:e}}function Mc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GO(t,e){return Mc(t,e.toTimestamp())}function dr(t){return qe(!!t),fe.fromTimestamp(function(n){const r=yi(n);return new Et(r.seconds,r.nanos)}(t))}function wd(t,e){return Eh(t,e).canonicalString()}function Eh(t,e){const n=function(i){return new nt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function F0(t){const e=nt.fromString(t);return qe(z0(e)),e}function wh(t,e){return wd(t.databaseId,e.path)}function nu(t,e){const n=F0(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(j0(n))}function $0(t,e){return wd(t.databaseId,e)}function KO(t){const e=F0(t);return e.length===4?nt.emptyPath():j0(e)}function Th(t){return new nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function j0(t){return qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Wg(t,e,n){return{name:wh(t,e),fields:n.value.mapValue.fields}}function QO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(qe(h===void 0||typeof h=="string"),Dt.fromBase64String(h||"")):(qe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Dt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const h=u.code===void 0?H.UNKNOWN:k0(u.code);return new Z(h,u.message||"")}(s);n=new V0(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=nu(t,r.document.name),o=dr(r.document.updateTime),s=r.document.createTime?dr(r.document.createTime):fe.min(),a=new an({mapValue:{fields:r.document.fields}}),l=zt.newFoundDocument(i,o,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new sc(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=nu(t,r.document),o=r.readTime?dr(r.readTime):fe.min(),s=zt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new sc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=nu(t,r.document),o=r.removedTargetIds||[];n=new sc([],o,i,null)}else{if(!("filter"in e))return de();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new FO(i,o),a=r.targetId;n=new D0(a,s)}}return n}function XO(t,e){let n;if(e instanceof ua)n={update:Wg(t,e.key,e.value)};else if(e instanceof ul)n={delete:wh(t,e.key)};else if(e instanceof bi)n={update:Wg(t,e.key,e.data),updateMask:o2(e.fieldMask)};else{if(!(e instanceof DO))return de();n={verify:wh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof xc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ks)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Oc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw de()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:GO(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:de()}(t,e.precondition)),n}function YO(t,e){return t&&t.length>0?(qe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?dr(i.updateTime):dr(o);return s.isEqual(fe.min())&&(s=dr(o)),new MO(s,i.transformResults||[])}(n,e))):[]}function JO(t,e){return{documents:[$0(t,e.path)]}}function ZO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$0(t,i);const o=function(u){if(u.length!==0)return B0(Jn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(h=>function(g){return{field:fo(g.field),direction:n2(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=bh(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function e2(t){let e=KO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qe(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(f){const g=U0(f);return g instanceof Jn&&v0(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(g=>function(S){return new Pc(po(S.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,ol(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(f){const g=!!f.before,E=f.values||[];return new Rc(E,g)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const g=!f.before,E=f.values||[];return new Rc(E,g)}(n.endAt)),_O(e,i,s,o,a,"F",l,u)}function t2(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function U0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=po(n.unaryFilter.field);return yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=po(n.unaryFilter.field);return yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=po(n.unaryFilter.field);return yt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=po(n.unaryFilter.field);return yt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(t):t.fieldFilter!==void 0?function(n){return yt.create(po(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(r=>U0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(t):de()}function n2(t){return zO[t]}function r2(t){return HO[t]}function i2(t){return WO[t]}function fo(t){return{fieldPath:t.canonicalString()}}function po(t){return Mt.fromServerFormat(t.fieldPath)}function B0(t){return t instanceof yt?function(n){if(n.op==="=="){if(Og(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if(xg(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Og(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if(xg(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:r2(n.op),value:n.value}}}(t):t instanceof Jn?function(n){const r=n.getFilters().map(i=>B0(i));return r.length===1?r[0]:{compositeFilter:{op:i2(n.op),filters:r}}}(t):de()}function o2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function z0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,r,i,o=fe.min(),s=fe.min(),a=Dt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.ct=e}}function a2(t){const e=e2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_h(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.un=new l2}addToCollectionParentIndex(e,n){return this.un.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(vi.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(vi.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class l2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kt(nt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Lo(0)}static kn(){return new Lo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.changes=new Go(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ss(r.mutation,i,bn.empty(),Et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=Vi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=fs();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Lr();const s=Ts(),a=function(){return Ts()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof bi)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),Ss(h.mutation,u,h.mutation.getFieldMask(),Et.now())):s.set(u.key,bn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new h2(h,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ts();let i=new at((s,a)=>s-a),o=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||bn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(i.get(a.batchId)||Ee()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=C0();h.forEach(g=>{if(!o.has(g)){const E=M0(n.get(g),r.get(g));E!==null&&f.set(g,E),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return W.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):E0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):W.resolve(Vi());let a=-1,l=o;return s.next(u=>W.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?W.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ee())).next(h=>({batchId:a,changes:I0(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=fs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=fs();return this.indexManager.getCollectionParents(e,o).next(a=>W.forEach(a,l=>{const u=function(f,g){return new la(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((f,g)=>{s=s.insert(f,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const h=u.getKey();s.get(h)===null&&(s=s.insert(h,zt.newInvalidDocument(h)))});let a=fs();return s.forEach((l,u)=>{const h=o.get(l);h!==void 0&&Ss(h.mutation,u,bn.empty(),Et.now()),al(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return W.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:dr(i.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:a2(i.bundledQuery),readTime:dr(i.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.overlays=new at(ie.comparator),this.Ir=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vi();return W.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const i=Vi(),o=n.length+1,s=new ie(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return W.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new at((u,h)=>u-h);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=Vi(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Vi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return W.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new LO(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ee(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this.Tr=new kt(It.Er),this.dr=new kt(It.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new It(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new It(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ie(new nt([])),r=new It(n,e),i=new It(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ie(new nt([])),r=new It(n,e),i=new It(n,e+1);let o=Ee();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new It(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ie.comparator(e.key,n.key)||xe(e.wr,n.wr)}static Ar(e,n){return xe(e.wr,n.wr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new kt(It.Er)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new VO(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new It(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(s)}lookupMutationBatch(e,n){return W.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return W.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),i=new It(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),W.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(xe);return n.forEach(i=>{const o=new It(i,0),s=new It(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),W.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ie.isDocumentKey(o)||(o=o.child(""));const s=new It(new ie(o),0);let a=new kt(xe);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),W.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){qe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return W.forEach(n.mutations,i=>{const o=new It(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new It(n,0),i=this.br.firstAfterOrEqual(r);return W.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.Mr=e,this.docs=function(){return new at(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=Lr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():zt.newInvalidDocument(i))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Lr();const s=n.path,a=new ie(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||eO(Zx(h),r)<=0||(i.has(h.key)||al(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return W.resolve(o)}getAllFromCollectionGroup(e,n,r,i){de()}Or(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new y2(this)}getSize(e){return W.resolve(this.size)}}class y2 extends u2{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.persistence=e,this.Nr=new Go(n=>md(n),vd),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Td,this.targetCount=0,this.kr=Lo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),W.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Lo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Kn(n),W.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),W.waitFor(o).next(()=>i)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),W.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n){this.qr={},this.overlays={},this.Qr=new dd(0),this.Kr=!1,this.Kr=!0,this.$r=new g2,this.referenceDelegate=e(this),this.Ur=new _2(this),this.indexManager=new c2,this.remoteDocumentCache=function(i){return new v2(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new s2(n),this.Gr=new f2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new p2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new m2(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const i=new E2(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return W.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class E2 extends nO{constructor(e){super(),this.currentSequenceNumber=e}}class Sd{constructor(e){this.persistence=e,this.Jr=new Td,this.Yr=null}static Zr(e){return new Sd(e)}get Xr(){if(this.Yr)return this.Yr;throw de()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),W.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Xr,r=>{const i=ie.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,fe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return W.or([()=>W.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ee(),i=Ee();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Id(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return p1()?8:rO(Ht())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new w2;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(as()<=Te.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),W.resolve()):(as()<=Te.DEBUG&&ne("QueryEngine","Query:",ho(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(as()<=Te.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):W.resolve())}Yi(e,n){if(Dg(n))return W.resolve(null);let r=hr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=_h(n,null,"F"),r=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ee(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,_h(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return Dg(n)||i.isEqual(fe.min())?W.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?W.resolve(null):(as()<=Te.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ho(n)),this.rs(e,s,n,Jx(i,-1)).next(a=>a))})}ts(e,n){let r=new kt(T0(e));return n.forEach((i,o)=>{al(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return as()<=Te.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",ho(n)),this.Ji.getDocumentsMatchingQuery(e,n,vi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new at(xe),this._s=new Go(o=>md(o),vd),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new d2(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function I2(t,e,n,r){return new S2(t,e,n,r)}async function H0(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ee();for(const u of i){s.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of o){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function C2(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const f=u.batch,g=f.keys();let E=W.resolve();return g.forEach(S=>{E=E.next(()=>h.getEntry(l,S)).next(C=>{const m=u.docVersions.get(S);qe(m!==null),C.version.compareTo(m)<0&&(f.applyToRemoteDocument(C,u),C.isValidDocument()&&(C.setReadTime(u.commitVersion),h.addEntry(C)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ee();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function W0(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function A2(t,e){const n=ge(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const g=i.get(f);if(!g)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,f)));let E=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?E=E.withResumeToken(Dt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):h.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(h.resumeToken,r)),i=i.insert(f,E),function(C,m,x){return C.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(g,E,h)&&a.push(n.Ur.updateTargetData(o,E))});let l=Lr(),u=Ee();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(R2(o,s,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(fe.min())){const h=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return W.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function R2(t,e,n){let r=Ee(),i=Ee();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Lr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function P2(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function x2(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,W.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new hi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Sh(t,e,n){const r=ge(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ca(s))throw s;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function qg(t,e,n){const r=ge(t);let i=fe.min(),o=Ee();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){const f=ge(l),g=f._s.get(h);return g!==void 0?W.resolve(f.os.get(g)):f.Ur.getTargetData(u,h)}(r,s,hr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:fe.min(),n?o:Ee())).next(a=>(O2(r,EO(e),a),{documents:a,Ts:o})))}function O2(t,e,n){let r=t.us.get(e)||fe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class Gg{constructor(){this.activeTargetIds=AO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M2{constructor(){this.so=new Gg,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Gg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ja=null;function ru(){return ja===null?ja=function(){return 268435456+Math.round(2147483648*Math.random())}():ja++,"0x"+ja.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class V2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=ru(),l=this.xo(n,r.toUriEncodedString());ne("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(h=>(ne("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw No("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=k2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=ru();return new Promise((s,a)=>{const l=new i0;l.setWithCredentials(!0),l.listenOnce(s0.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case rc.NO_ERROR:const h=l.getResponseJson();ne(Ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case rc.TIMEOUT:ne(Ut,`RPC '${e}' ${o} timed out`),a(new Z(H.DEADLINE_EXCEEDED,"Request time out"));break;case rc.HTTP_ERROR:const f=l.getStatus();if(ne(Ut,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const E=g==null?void 0:g.error;if(E&&E.status&&E.message){const S=function(m){const x=m.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(x)>=0?x:H.UNKNOWN}(E.status);a(new Z(S,E.message))}else a(new Z(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Z(H.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{ne(Ut,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ne(Ut,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=ru(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=l0(),a=c0(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new o0({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=o.join("");ne(Ut,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=s.createWebChannel(h,l);let g=!1,E=!1;const S=new D2({Io:m=>{E?ne(Ut,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(g||(ne(Ut,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),ne(Ut,`RPC '${e}' stream ${i} sending:`,m),f.send(m))},To:()=>f.close()}),C=(m,x,A)=>{m.listen(x,O=>{try{A(O)}catch(M){setTimeout(()=>{throw M},0)}})};return C(f,ds.EventType.OPEN,()=>{E||(ne(Ut,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),C(f,ds.EventType.CLOSE,()=>{E||(E=!0,ne(Ut,`RPC '${e}' stream ${i} transport closed`),S.So())}),C(f,ds.EventType.ERROR,m=>{E||(E=!0,No(Ut,`RPC '${e}' stream ${i} transport errored:`,m),S.So(new Z(H.UNAVAILABLE,"The operation could not be completed")))}),C(f,ds.EventType.MESSAGE,m=>{var x;if(!E){const A=m.data[0];qe(!!A);const O=A,M=O.error||((x=O[0])===null||x===void 0?void 0:x.error);if(M){ne(Ut,`RPC '${e}' stream ${i} received error:`,M);const N=M.status;let k=function(y){const I=mt[y];if(I!==void 0)return k0(I)}(N),b=M.message;k===void 0&&(k=H.INTERNAL,b="Unknown error status: "+N+" with message "+M.message),E=!0,S.So(new Z(k,b)),f.close()}else ne(Ut,`RPC '${e}' stream ${i} received:`,A),S.bo(A)}}),C(a,a0.STAT_EVENT,m=>{m.stat===fh.PROXY?ne(Ut,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===fh.NOPROXY&&ne(Ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}}function iu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(t){return new qO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new q0(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Vr(n.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Z(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class L2 extends G0{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=QO(this.serializer,e),r=function(o){if(!("targetChange"in o))return fe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?fe.min():s.readTime?dr(s.readTime):fe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Th(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=vh(l)?{documents:JO(o,l)}:{query:ZO(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=L0(o,s.resumeToken);const u=bh(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(fe.min())>0){a.readTime=Mc(o,s.snapshotVersion.toTimestamp());const u=bh(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=t2(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Th(this.serializer),n.removeTarget=e,this.a_(n)}}class F2 extends G0{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=YO(e.writeResults,e.commitTime),r=dr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Th(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>XO(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Z(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Eh(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(H.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Eh(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(H.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class j2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vr(n),this.D_=!1):ne("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{Zi(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ge(l);u.L_.add(4),await da(u),u.q_.set("Unknown"),u.L_.delete(4),await fl(u)}(this))})}),this.q_=new j2(r,i)}}async function fl(t){if(Zi(t))for(const e of t.B_)await e(!0)}async function da(t){for(const e of t.B_)await e(!1)}function K0(t,e){const n=ge(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Pd(n)?Rd(n):Ko(n).r_()&&Ad(n,e))}function Cd(t,e){const n=ge(t),r=Ko(n);n.N_.delete(e),r.r_()&&Q0(n,e),n.N_.size===0&&(r.r_()?r.o_():Zi(n)&&n.q_.set("Unknown"))}function Ad(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ko(t).A_(e)}function Q0(t,e){t.Q_.xe(e),Ko(t).R_(e)}function Rd(t){t.Q_=new BO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ko(t).start(),t.q_.v_()}function Pd(t){return Zi(t)&&!Ko(t).n_()&&t.N_.size>0}function Zi(t){return ge(t).L_.size===0}function X0(t){t.Q_=void 0}async function B2(t){t.q_.set("Online")}async function z2(t){t.N_.forEach((e,n)=>{Ad(t,e)})}async function H2(t,e){X0(t),Pd(t)?(t.q_.M_(e),Rd(t)):t.q_.set("Unknown")}async function W2(t,e,n){if(t.q_.set("Online"),e instanceof V0&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nc(t,r)}else if(e instanceof sc?t.Q_.Ke(e):e instanceof D0?t.Q_.He(e):t.Q_.We(e),!n.isEqual(fe.min()))try{const r=await W0(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.N_.get(u);h&&o.N_.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const h=o.N_.get(l);if(!h)return;o.N_.set(l,h.withResumeToken(Dt.EMPTY_BYTE_STRING,h.snapshotVersion)),Q0(o,l);const f=new hi(h.target,l,u,h.sequenceNumber);Ad(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),await Nc(t,r)}}async function Nc(t,e,n){if(!ca(e))throw e;t.L_.add(1),await da(t),t.q_.set("Offline"),n||(n=()=>W0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await fl(t)})}function Y0(t,e){return e().catch(n=>Nc(t,n,e))}async function pl(t){const e=ge(t),n=_i(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;q2(e);)try{const i=await P2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,G2(e,i)}catch(i){await Nc(e,i)}J0(e)&&Z0(e)}function q2(t){return Zi(t)&&t.O_.length<10}function G2(t,e){t.O_.push(e);const n=_i(t);n.r_()&&n.V_&&n.m_(e.mutations)}function J0(t){return Zi(t)&&!_i(t).n_()&&t.O_.length>0}function Z0(t){_i(t).start()}async function K2(t){_i(t).p_()}async function Q2(t){const e=_i(t);for(const n of t.O_)e.m_(n.mutations)}async function X2(t,e,n){const r=t.O_.shift(),i=bd.from(r,e,n);await Y0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await pl(t)}async function Y2(t,e){e&&_i(t).V_&&await async function(r,i){if(function(s){return $O(s)&&s!==H.ABORTED}(i.code)){const o=r.O_.shift();_i(r).s_(),await Y0(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await pl(r)}}(t,e),J0(t)&&Z0(t)}async function Qg(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=Zi(n);n.L_.add(3),await da(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await fl(n)}async function J2(t,e){const n=ge(t);e?(n.L_.delete(2),await fl(n)):e||(n.L_.add(2),await da(n),n.q_.set("Unknown"))}function Ko(t){return t.K_||(t.K_=function(n,r,i){const o=ge(n);return o.w_(),new L2(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:B2.bind(null,t),Ro:z2.bind(null,t),mo:H2.bind(null,t),d_:W2.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Pd(t)?Rd(t):t.q_.set("Unknown")):(await t.K_.stop(),X0(t))})),t.K_}function _i(t){return t.U_||(t.U_=function(n,r,i){const o=ge(n);return o.w_(),new F2(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:K2.bind(null,t),mo:Y2.bind(null,t),f_:Q2.bind(null,t),g_:X2.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await pl(t)):(await t.U_.stop(),t.O_.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new xd(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Od(t,e){if(Vr("AsyncQueue",`${e}: ${t}`),ca(t))return new Z(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=fs(),this.sortedSet=new at(this.comparator)}static emptySet(e){return new To(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new To;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(){this.W_=new at(ie.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):de():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fo{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Fo(e,n,To.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class eM{constructor(){this.queries=Yg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ge(n),o=i.queries;i.queries=Yg(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Z(H.ABORTED,"Firestore shutting down"))}}function Yg(){return new Go(t=>w0(t),sl)}async function e_(t,e){const n=ge(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Z2,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Od(s,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Md(n)}async function t_(t,e){const n=ge(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tM(t,e){const n=ge(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Md(n)}function nM(t,e,n){const r=ge(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Md(t){t.Y_.forEach(e=>{e.next()})}var Ih,Jg;(Jg=Ih||(Ih={})).ea="default",Jg.Cache="cache";class n_{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Fo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ih.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e){this.key=e}}class i_{constructor(e){this.key=e}}class rM{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ee(),this.mutatedKeys=Ee(),this.Aa=T0(e),this.Ra=new To(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Xg,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const g=i.get(h),E=al(this.query,f)?f:null,S=!!g&&this.mutatedKeys.has(g.key),C=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let m=!1;g&&E?g.data.isEqual(E.data)?S!==C&&(r.track({type:3,doc:E}),m=!0):this.ga(g,E)||(r.track({type:2,doc:E}),m=!0,(l&&this.Aa(E,l)>0||u&&this.Aa(E,u)<0)&&(a=!0)):!g&&E?(r.track({type:0,doc:E}),m=!0):g&&!E&&(r.track({type:1,doc:g}),m=!0,(l||u)&&(a=!0)),m&&(E?(s=s.add(E),o=C?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((h,f)=>function(E,S){const C=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return C(E)-C(S)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new Fo(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Xg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ee(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new i_(r))}),this.da.forEach(r=>{e.has(r)||n.push(new r_(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ee();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Fo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class iM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class oM{constructor(e){this.key=e,this.va=!1}}class sM{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Go(a=>w0(a),sl),this.Ma=new Map,this.xa=new Set,this.Oa=new at(ie.comparator),this.Na=new Map,this.La=new Td,this.Ba={},this.ka=new Map,this.qa=Lo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function aM(t,e,n=!0){const r=u_(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await o_(r,e,n,!0),i}async function cM(t,e){const n=u_(t);await o_(n,e,!0,!1)}async function o_(t,e,n,r){const i=await x2(t.localStore,hr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await lM(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&K0(t.remoteStore,i),a}async function lM(t,e,n,r,i){t.Ka=(f,g,E)=>async function(C,m,x,A){let O=m.view.ma(x);O.ns&&(O=await qg(C.localStore,m.query,!1).then(({documents:b})=>m.view.ma(b,O)));const M=A&&A.targetChanges.get(m.targetId),N=A&&A.targetMismatches.get(m.targetId)!=null,k=m.view.applyChanges(O,C.isPrimaryClient,M,N);return em(C,m.targetId,k.wa),k.snapshot}(t,f,g,E);const o=await qg(t.localStore,e,!0),s=new rM(e,o.Ts),a=s.ma(o.documents),l=ha.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);em(t,n,u.wa);const h=new iM(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function uM(t,e,n){const r=ge(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!sl(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Sh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Cd(r.remoteStore,i.targetId),Ch(r,i.targetId)}).catch(aa)):(Ch(r,i.targetId),await Sh(r.localStore,i.targetId,!0))}async function hM(t,e){const n=ge(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Cd(n.remoteStore,r.targetId))}async function dM(t,e,n){const r=_M(t);try{const i=await function(s,a){const l=ge(s),u=Et.now(),h=a.reduce((E,S)=>E.add(S.key),Ee());let f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",E=>{let S=Lr(),C=Ee();return l.cs.getEntries(E,h).next(m=>{S=m,S.forEach((x,A)=>{A.isValidDocument()||(C=C.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(E,S)).next(m=>{f=m;const x=[];for(const A of a){const O=kO(A,f.get(A.key).overlayedDocument);O!=null&&x.push(new bi(A.key,O,p0(O.value.mapValue),Yt.exists(!0)))}return l.mutationQueue.addMutationBatch(E,u,x,a)}).next(m=>{g=m;const x=m.applyToLocalDocumentSet(f,C);return l.documentOverlayCache.saveOverlays(E,m.batchId,x)})}).then(()=>({batchId:g.batchId,changes:I0(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new at(xe)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await fa(r,i.changes),await pl(r.remoteStore)}catch(i){const o=Od(i,"Failed to persist write");n.reject(o)}}async function s_(t,e){const n=ge(t);try{const r=await A2(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?qe(s.va):i.removedDocuments.size>0&&(qe(s.va),s.va=!1))}),await fa(n,r,e)}catch(r){await aa(r)}}function Zg(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=ge(s);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(const g of f.j_)g.Z_(a)&&(u=!0)}),u&&Md(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fM(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new at(ie.comparator);s=s.insert(o,zt.newNoDocument(o,fe.min()));const a=Ee().add(o),l=new hl(fe.min(),new Map,new at(xe),s,a);await s_(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),Nd(r)}else await Sh(r.localStore,e,!1).then(()=>Ch(r,e,n)).catch(aa)}async function pM(t,e){const n=ge(t),r=e.batch.batchId;try{const i=await C2(n.localStore,e);c_(n,r,null),a_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fa(n,i)}catch(i){await aa(i)}}async function gM(t,e,n){const r=ge(t);try{const i=await function(s,a){const l=ge(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(qe(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);c_(r,e,n),a_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fa(r,i)}catch(i){await aa(i)}}function a_(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function c_(t,e,n){const r=ge(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Ch(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||l_(t,r)})}function l_(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Cd(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Nd(t))}function em(t,e,n){for(const r of n)r instanceof r_?(t.La.addReference(r.key,e),mM(t,r)):r instanceof i_?(ne("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||l_(t,r.key)):de()}function mM(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ne("SyncEngine","New document in limbo: "+n),t.xa.add(r),Nd(t))}function Nd(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ie(nt.fromString(e)),r=t.qa.next();t.Na.set(r,new oM(n)),t.Oa=t.Oa.insert(n,r),K0(t.remoteStore,new hi(hr(yd(n.path)),r,"TargetPurposeLimboResolution",dd.oe))}}async function fa(t,e,n){const r=ge(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Id.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const h=ge(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>W.forEach(u,g=>W.forEach(g.$i,E=>h.persistence.referenceDelegate.addReference(f,g.targetId,E)).next(()=>W.forEach(g.Ui,E=>h.persistence.referenceDelegate.removeReference(f,g.targetId,E)))))}catch(f){if(!ca(f))throw f;ne("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const g=f.targetId;if(!f.fromCache){const E=h.os.get(g),S=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(g,C)}}}(r.localStore,o))}async function vM(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const r=await H0(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new Z(H.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fa(n,r.hs)}}function yM(t,e){const n=ge(t),r=n.Na.get(e);if(r&&r.va)return Ee().add(r.key);{let i=Ee();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function u_(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=s_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fM.bind(null,e),e.Ca.d_=tM.bind(null,e.eventManager),e.Ca.$a=nM.bind(null,e.eventManager),e}function _M(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gM.bind(null,e),e}class tm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=dl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return I2(this.persistence,new T2,e.initialUser,this.serializer)}createPersistence(e){return new b2(Sd.Zr,this.serializer)}createSharedClientState(e){return new M2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class bM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vM.bind(null,this.syncEngine),await J2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eM}()}createDatastore(e){const n=dl(e.databaseInfo.databaseId),r=function(o){return new V2(o)}(e.databaseInfo);return function(o,s,a,l){return new $2(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new U2(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Zg(this.syncEngine,n,0),function(){return Kg.D()?new Kg:new N2}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,h){const f=new sM(i,o,s,a,l,u);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ge(i);ne("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await da(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=h0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ne("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ne("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Od(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ou(t,e){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await H0(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function nm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await TM(t);ne("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Qg(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Qg(e.remoteStore,i)),t._onlineComponents=e}function wM(t){return t.name==="FirebaseError"?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function TM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await ou(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!wM(n))throw n;No("Error using user provided cache. Falling back to memory cache: "+n),await ou(t,new tm)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),await ou(t,new tm);return t._offlineComponents}async function d_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),await nm(t,t._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),await nm(t,new bM))),t._onlineComponents}function SM(t){return d_(t).then(e=>e.syncEngine)}async function f_(t){const e=await d_(t),n=e.eventManager;return n.onListen=aM.bind(null,e.syncEngine),n.onUnlisten=uM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hM.bind(null,e.syncEngine),n}function IM(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const h=new h_({next:g=>{s.enqueueAndForget(()=>t_(o,f));const E=g.docs.has(a);!E&&g.fromCache?u.reject(new Z(H.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&g.fromCache&&l&&l.source==="server"?u.reject(new Z(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new n_(yd(a.path),h,{includeMetadataChanges:!0,_a:!0});return e_(o,f)}(await f_(t),t.asyncQueue,e,n,r)),r.promise}function CM(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const h=new h_({next:g=>{s.enqueueAndForget(()=>t_(o,f)),g.fromCache&&l.source==="server"?u.reject(new Z(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new n_(a,h,{includeMetadataChanges:!0,_a:!0});return e_(o,f)}(await f_(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t,e,n){if(!n)throw new Z(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AM(t,e,n,r){if(e===!0&&r===!0)throw new Z(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function im(t){if(!ie.isDocumentKey(t))throw new Z(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function om(t){if(ie.isDocumentKey(t))throw new Z(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de()}function Dn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gl(t);throw new Z(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Z(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Z(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Z(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ml{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Z(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zx;switch(r.type){case"firstParty":return new Gx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=rm.get(n);r&&(ne("ComponentProvider","Removing Datastore"),rm.delete(n),r.terminate())}(this),Promise.resolve()}}function RM(t,e,n,r={}){var i;const o=(t=Dn(t,ml))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Bt.MOCK_USER;else{a=yy(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Z(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Bt(u)}t._authCredentials=new Hx(new u0(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qo(this.firestore,e,this._query)}}class Jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}}class gi extends Qo{constructor(e,n,r){super(e,n,yd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new ie(e))}withConverter(e){return new gi(this.firestore,e,this._path)}}function jk(t,e,...n){if(t=Ze(t),g_("collection","path",e),t instanceof ml){const r=nt.fromString(e,...n);return om(r),new gi(t,null,r)}{if(!(t instanceof Jt||t instanceof gi))throw new Z(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return om(r),new gi(t.firestore,null,r)}}function PM(t,e,...n){if(t=Ze(t),arguments.length===1&&(e=h0.newId()),g_("doc","path",e),t instanceof ml){const r=nt.fromString(e,...n);return im(r),new Jt(t,null,new ie(r))}{if(!(t instanceof Jt||t instanceof gi))throw new Z(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return im(r),new Jt(t.firestore,t instanceof gi?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new q0(this,"async_queue_retry"),this.Eu=()=>{const n=iu();n&&ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=iu();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=iu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Mr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!ca(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Vr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=xd.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&de()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class Ei extends ml{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new xM}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||m_(this),this._firestoreClient.terminate()}}function OM(t,e){const n=typeof t=="object"?t:td(),r=typeof t=="string"?t:"(default)",i=el(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=gy("firestore");o&&RM(i,...o)}return i}function vl(t){return t._firestoreClient||m_(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function m_(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,h){return new sO(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,p_(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new EM(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(Dt.fromBase64String(e))}catch(n){throw new Z(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $o(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=/^__.*__$/;class NM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ua(e,this.data,n,this.fieldTransforms)}}class v_{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function y_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class Ld{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Ld(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return kc(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(y_(this.wu)&&MM.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class kM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dl(e)}Nu(e,n,r,i=!1){return new Ld({wu:e,methodName:n,Ou:r,path:Mt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ga(t){const e=t._freezeSettings(),n=dl(t._databaseId);return new kM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Fd(t,e,n,r,i,o={}){const s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);$d("Data must be an object, but it was:",s,r);const a=E_(r,s);let l,u;if(o.merge)l=new bn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const f of o.mergeFields){const g=Ah(e,f,n);if(!s.contains(g))throw new Z(H.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);T_(h,g)||h.push(g)}l=new bn(h),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new NM(new an(a),l,u)}class yl extends kd{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yl}}function __(t,e,n,r){const i=t.Nu(1,e,n);$d("Data must be an object, but it was:",i,r);const o=[],s=an.empty();Ji(r,(l,u)=>{const h=jd(e,l,n);u=Ze(u);const f=i.Cu(h);if(u instanceof yl)o.push(h);else{const g=ma(u,f);g!=null&&(o.push(h),s.set(h,g))}});const a=new bn(o);return new v_(s,a,i.fieldTransforms)}function b_(t,e,n,r,i,o){const s=t.Nu(1,e,n),a=[Ah(e,r,n)],l=[i];if(o.length%2!=0)throw new Z(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(Ah(e,o[g])),l.push(o[g+1]);const u=[],h=an.empty();for(let g=a.length-1;g>=0;--g)if(!T_(u,a[g])){const E=a[g];let S=l[g];S=Ze(S);const C=s.Cu(E);if(S instanceof yl)u.push(E);else{const m=ma(S,C);m!=null&&(u.push(E),h.set(E,m))}}const f=new bn(u);return new v_(h,f,s.fieldTransforms)}function DM(t,e,n,r=!1){return ma(n,t.Nu(r?4:3,e))}function ma(t,e){if(w_(t=Ze(t)))return $d("Unsupported field value:",e,t),E_(t,e);if(t instanceof kd)return function(r,i){if(!y_(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=ma(a,i.Fu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Et.fromDate(r);return{timestampValue:Mc(i.serializer,o)}}if(r instanceof Et){const o=new Et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mc(i.serializer,o)}}if(r instanceof Dd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $o)return{bytesValue:L0(i.serializer,r._byteString)};if(r instanceof Jt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wd(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Vd)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return _d(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${gl(r)}`)}(t,e)}function E_(t,e){const n={};return d0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(t,(r,i)=>{const o=ma(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function w_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof Dd||t instanceof $o||t instanceof Jt||t instanceof kd||t instanceof Vd)}function $d(t,e,n){if(!w_(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=gl(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Ah(t,e,n){if((e=Ze(e))instanceof pa)return e._internalPath;if(typeof e=="string")return jd(t,e);throw kc("Field path arguments must be of type string or ",t,!1,void 0,n)}const VM=new RegExp("[~\\*/\\[\\]]");function jd(t,e,n){if(e.search(VM)>=0)throw kc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pa(...e.split("."))._internalPath}catch{throw kc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kc(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Z(H.INVALID_ARGUMENT,a+t+l)}function T_(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ud("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LM extends S_{data(){return super.data()}}function Ud(t,e){return typeof e=="string"?jd(t,e):e instanceof pa?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bd{}class $M extends Bd{}function Uk(t,e,...n){let r=[];e instanceof Bd&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof zd).length,a=o.filter(l=>l instanceof _l).length;if(s>1||s>0&&a>0)throw new Z(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class _l extends $M{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _l(e,n,r)}_apply(e){const n=this._parse(e);return I_(e._query,n),new Qo(e.firestore,e.converter,yh(e._query,n))}_parse(e){const n=ga(e.firestore);return function(o,s,a,l,u,h,f){let g;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Z(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){cm(f,h);const E=[];for(const S of f)E.push(am(l,o,S));g={arrayValue:{values:E}}}else g=am(l,o,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||cm(f,h),g=DM(a,s,f,h==="in"||h==="not-in");return yt.create(u,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Bk(t,e,n){const r=e,i=Ud("where",t);return _l._create(i,r,n)}class zd extends Bd{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zd(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)I_(s,l),s=yh(s,l)}(e._query,n),new Qo(e.firestore,e.converter,yh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function am(t,e,n){if(typeof(n=Ze(n))=="string"){if(n==="")throw new Z(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!E0(e)&&n.indexOf("/")!==-1)throw new Z(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nt.fromString(n));if(!ie.isDocumentKey(r))throw new Z(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pg(t,new ie(r))}if(n instanceof Jt)return Pg(t,n._key);throw new Z(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gl(n)}.`)}function cm(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function I_(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jM{convertValue(e,n="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ji(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ft(s.doubleValue));return new Vd(o)}convertGeoPoint(e){return new Dd(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hs(e));default:return null}}convertTimestamp(e){const n=yi(e);return new Et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);qe(z0(r));const i=new Ws(r.get(1),r.get(3)),o=new ie(r.popFirst(5));return i.isEqual(n)||Vr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class C_ extends S_{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ud("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ac extends C_{data(e={}){return super.data(e)}}class UM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new gs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ac(this._firestore,this._userDataWriter,r.key,r,new gs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new ac(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new ac(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:BM(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function BM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t){t=Dn(t,Jt);const e=Dn(t.firestore,Ei);return IM(vl(e),t._key).then(n=>zM(e,t,n))}class A_ extends jM{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function Hk(t){t=Dn(t,Qo);const e=Dn(t.firestore,Ei),n=vl(e),r=new A_(e);return FM(t._query),CM(n,t._query).then(i=>new UM(e,r,t,i))}function Wk(t,e,n){t=Dn(t,Jt);const r=Dn(t.firestore,Ei),i=Hd(t.converter,e,n);return va(r,[Fd(ga(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Yt.none())])}function qk(t,e,n,...r){t=Dn(t,Jt);const i=Dn(t.firestore,Ei),o=ga(i);let s;return s=typeof(e=Ze(e))=="string"||e instanceof pa?b_(o,"updateDoc",t._key,e,n,r):__(o,"updateDoc",t._key,e),va(i,[s.toMutation(t._key,Yt.exists(!0))])}function Gk(t){return va(Dn(t.firestore,Ei),[new ul(t._key,Yt.none())])}function Kk(t,e){const n=Dn(t.firestore,Ei),r=PM(t),i=Hd(t.converter,e);return va(n,[Fd(ga(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Yt.exists(!1))]).then(()=>r)}function va(t,e){return function(r,i){const o=new Mr;return r.asyncQueue.enqueueAndForget(async()=>dM(await SM(r),i,o)),o.promise}(vl(t),e)}function zM(t,e,n){const r=n.docs.get(e._key),i=new A_(t);return new C_(t,i,e._key,r,new gs(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ga(e)}set(e,n,r){this._verifyNotCommitted();const i=su(e,this._firestore),o=Hd(i.converter,n,r),s=Fd(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Yt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=su(e,this._firestore);let s;return s=typeof(n=Ze(n))=="string"||n instanceof pa?b_(this._dataReader,"WriteBatch.update",o._key,n,r,i):__(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Yt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=su(e,this._firestore);return this._mutations=this._mutations.concat(new ul(n._key,Yt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Z(H.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function su(t,e){if((t=Ze(t)).firestore!==e)throw new Z(H.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(t){return vl(t=Dn(t,Ei)),new HM(t,e=>va(t,e))}(function(e,n=!0){(function(i){qo=i})(Xi),Ui(new mi("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ei(new Wx(r.getProvider("auth-internal")),new Qx(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ws(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),cr(Sg,"4.7.2",e),cr(Sg,"4.7.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="firebasestorage.googleapis.com",P_="storageBucket",WM=2*60*1e3,qM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut extends mr{constructor(e,n,r=0){super(au(e),`Firebase Storage: ${n} (${au(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return au(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var lt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(lt||(lt={}));function au(t){return"storage/"+t}function Wd(){const t="An unknown error occurred, please check the error payload for server response.";return new ut(lt.UNKNOWN,t)}function GM(t){return new ut(lt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function KM(t){return new ut(lt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function QM(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ut(lt.UNAUTHENTICATED,t)}function XM(){return new ut(lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function YM(t){return new ut(lt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function JM(){return new ut(lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZM(){return new ut(lt.CANCELED,"User canceled the upload/download.")}function eN(t){return new ut(lt.INVALID_URL,"Invalid URL '"+t+"'.")}function tN(t){return new ut(lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function nN(){return new ut(lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+P_+"' property when initializing the app?")}function rN(){return new ut(lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iN(){return new ut(lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function oN(t){return new ut(lt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Rh(t){return new ut(lt.INVALID_ARGUMENT,t)}function x_(){return new ut(lt.APP_DELETED,"The Firebase app was deleted.")}function sN(t){return new ut(lt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Is(t,e){return new ut(lt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function cs(t){throw new ut(lt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=En.makeFromUrl(e,n)}catch{return new En(e,"")}if(r.path==="")return r;throw tN(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(M){M.path_=decodeURIComponent(M.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",E=new RegExp(`^https?://${f}/${h}/b/${i}/o${g}`,"i"),S={bucket:1,path:3},C=n===R_?"(?:storage.googleapis.com|storage.cloud.google.com)":n,m="([^?#]*)",x=new RegExp(`^https?://${C}/${i}/${m}`,"i"),O=[{regex:a,indices:l,postModify:o},{regex:E,indices:S,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let M=0;M<O.length;M++){const N=O[M],k=N.regex.exec(e);if(k){const b=k[N.indices.bucket];let v=k[N.indices.path];v||(v=""),r=new En(b,v),N.postModify(r);break}}if(r==null)throw eN(e);return r}}class aN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function h(...m){u||(u=!0,e.apply(null,m))}function f(m){i=setTimeout(()=>{i=null,t(E,l())},m)}function g(){o&&clearTimeout(o)}function E(m,...x){if(u){g();return}if(m){g(),h.call(null,m,...x);return}if(l()||s){g(),h.call(null,m,...x);return}r<64&&(r*=2);let O;a===1?(a=2,O=0):O=(r+Math.random())*1e3,f(O)}let S=!1;function C(m){S||(S=!0,g(),!u&&(i!==null?(m||(a=2),clearTimeout(i),f(0)):m||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,C(!0)},n),C}function lN(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t){return t!==void 0}function hN(t){return typeof t=="object"&&!Array.isArray(t)}function qd(t){return typeof t=="string"||t instanceof String}function lm(t){return Gd()&&t instanceof Blob}function Gd(){return typeof Blob<"u"}function um(t,e,n,r){if(r<e)throw Rh(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Rh(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function O_(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var $i;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($i||($i={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n,r,i,o,s,a,l,u,h,f,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=f,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,S)=>{this.resolve_=E,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ua(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===$i.NO_ERROR,l=o.getStatus();if(!a||dN(l,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===$i.ABORT;r(!1,new Ua(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Ua(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());uN(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=Wd();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?x_():ZM();s(l)}else{const l=JM();s(l)}};this.canceled_?n(!1,new Ua(!1,null,!0)):this.backoffId_=cN(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ua{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function pN(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function gN(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mN(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vN(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function yN(t,e,n,r,i,o,s=!0){const a=O_(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return mN(u,e),pN(u,n),gN(u,o),vN(u,r),new fN(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function bN(...t){const e=_N();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Gd())return new Blob(t);throw new ut(lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function EN(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t){if(typeof atob>"u")throw oN("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cu{constructor(e,n){this.data=e,this.contentType=n||null}}function M_(t,e){switch(t){case Kn.RAW:return new cu(N_(e));case Kn.BASE64:case Kn.BASE64URL:return new cu(k_(t,e));case Kn.DATA_URL:return new cu(SN(e),IN(e))}throw Wd()}function N_(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function TN(t){let e;try{e=decodeURIComponent(t)}catch{throw Is(Kn.DATA_URL,"Malformed data URL.")}return N_(e)}function k_(t,e){switch(t){case Kn.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Is(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Kn.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Is(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=wN(e)}catch(i){throw i.message.includes("polyfill")?i:Is(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class D_{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Is(Kn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=CN(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function SN(t){const e=new D_(t);return e.base64?k_(Kn.BASE64,e.rest):TN(e.rest)}function IN(t){return new D_(t).contentType}function CN(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n){let r=0,i="";lm(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(lm(this.data_)){const r=this.data_,i=EN(r,e,n);return i===null?null:new si(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new si(r,!0)}}static getBlob(...e){if(Gd()){const n=e.map(r=>r instanceof si?r.data_:r);return new si(bN.apply(null,n))}else{const n=e.map(s=>qd(s)?M_(Kn.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new si(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(t){let e;try{e=JSON.parse(t)}catch{return null}return hN(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function RN(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function L_(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t,e){return e}class Qt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||PN}}let Ba=null;function xN(t){return!qd(t)||t.length<2?t:L_(t)}function F_(){if(Ba)return Ba;const t=[];t.push(new Qt("bucket")),t.push(new Qt("generation")),t.push(new Qt("metageneration")),t.push(new Qt("name","fullPath",!0));function e(o,s){return xN(s)}const n=new Qt("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Qt("size");return i.xform=r,t.push(i),t.push(new Qt("timeCreated")),t.push(new Qt("updated")),t.push(new Qt("md5Hash",null,!0)),t.push(new Qt("cacheControl",null,!0)),t.push(new Qt("contentDisposition",null,!0)),t.push(new Qt("contentEncoding",null,!0)),t.push(new Qt("contentLanguage",null,!0)),t.push(new Qt("contentType",null,!0)),t.push(new Qt("metadata","customMetadata",!0)),Ba=t,Ba}function ON(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new En(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function MN(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return ON(r,t),r}function $_(t,e,n){const r=V_(e);return r===null?null:MN(t,r,n)}function NN(t,e,n,r){const i=V_(e);if(i===null||!qd(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const h=t.bucket,f=t.fullPath,g="/b/"+s(h)+"/o/"+s(f),E=bl(g,n,r),S=O_({alt:"media",token:u});return E+S})[0]}function kN(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class Kd{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t){if(!t)throw Wd()}function DN(t,e){function n(r,i){const o=$_(t,i,e);return j_(o!==null),o}return n}function VN(t,e){function n(r,i){const o=$_(t,i,e);return j_(o!==null),NN(o,i,t.host,t._protocol)}return n}function U_(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=XM():i=QM():n.getStatus()===402?i=KM(t.bucket):n.getStatus()===403?i=YM(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function B_(t){const e=U_(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=GM(t.path)),o.serverResponse=i.serverResponse,o}return n}function LN(t,e,n){const r=e.fullServerUrl(),i=bl(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Kd(i,o,VN(t,n),s);return a.errorHandler=B_(e),a}function FN(t,e){const n=e.fullServerUrl(),r=bl(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function s(l,u){}const a=new Kd(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=B_(e),a}function $N(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function jN(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=$N(null,e)),r}function UN(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let O="";for(let M=0;M<2;M++)O=O+Math.random().toString().slice(2);return O}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=jN(e,r,i),h=kN(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,g=`\r
--`+l+"--",E=si.getBlob(f,r,g);if(E===null)throw rN();const S={name:u.fullPath},C=bl(o,t.host,t._protocol),m="POST",x=t.maxUploadRetryTime,A=new Kd(C,m,DN(t,n),x);return A.urlParams=S,A.headers=s,A.body=E.uploadData(),A.errorHandler=U_(e),A}class BN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$i.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$i.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$i.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw cs("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cs("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cs("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw cs("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cs("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class zN extends BN{initXhr(){this.xhr_.responseType="text"}}function Qd(){return new zN}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){this._service=e,n instanceof En?this._location=n:this._location=En.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new qi(e,n)}get root(){const e=new En(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return L_(this._location.path)}get storage(){return this._service}get parent(){const e=AN(this._location.path);if(e===null)return null;const n=new En(this._location.bucket,e);return new qi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw sN(e)}}function z_(t,e,n){t._throwIfRoot("uploadBytes");const r=UN(t.storage,t._location,F_(),new si(e,!0),n);return t.storage.makeRequestWithTokens(r,Qd).then(i=>({metadata:i,ref:t}))}function HN(t,e,n=Kn.RAW,r){t._throwIfRoot("uploadString");const i=M_(n,e),o=Object.assign({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),z_(t,i.data,o)}function WN(t){t._throwIfRoot("getDownloadURL");const e=LN(t.storage,t._location,F_());return t.storage.makeRequestWithTokens(e,Qd).then(n=>{if(n===null)throw iN();return n})}function qN(t){t._throwIfRoot("deleteObject");const e=FN(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Qd)}function GN(t,e){const n=RN(t._location.path,e),r=new En(t._location.bucket,n);return new qi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t){return/^[A-Za-z]+:\/\//.test(t)}function QN(t,e){return new qi(t,e)}function H_(t,e){if(t instanceof Xd){const n=t;if(n._bucket==null)throw nN();const r=new qi(n,n._bucket);return e!=null?H_(r,e):r}else return e!==void 0?GN(t,e):t}function XN(t,e){if(e&&KN(e)){if(t instanceof Xd)return QN(t,e);throw Rh("To use ref(service, url), the first argument must be a Storage instance.")}else return H_(t,e)}function hm(t,e){const n=e==null?void 0:e[P_];return n==null?null:En.makeFromBucketSpec(n,t)}function YN(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:yy(i,t.app.options.projectId))}class Xd{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=R_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WM,this._maxUploadRetryTime=qM,this._requests=new Set,i!=null?this._bucket=En.makeFromBucketSpec(i,this._host):this._bucket=hm(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=En.makeFromBucketSpec(this._url,e):this._bucket=hm(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){um("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){um("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qi(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new aN(x_());{const s=yN(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const dm="@firebase/storage",fm="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="storage";function Xk(t,e,n){return t=Ze(t),z_(t,e,n)}function Yk(t,e,n,r){return t=Ze(t),HN(t,e,n,r)}function Jk(t){return t=Ze(t),WN(t)}function Zk(t){return t=Ze(t),qN(t)}function eD(t,e){return t=Ze(t),XN(t,e)}function JN(t=td(),e){t=Ze(t);const r=el(t,W_).getImmediate({identifier:e}),i=gy("storage");return i&&ZN(r,...i),r}function ZN(t,e,n,r={}){YN(t,e,n,r)}function ek(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Xd(n,r,i,e,Xi)}function tk(){Ui(new mi(W_,ek,"PUBLIC").setMultipleInstances(!0)),cr(dm,fm,""),cr(dm,fm,"esm2017")}tk();const nk={apiKey:"AIzaSyCj6hYxlMJecV31KFv9_MNY0LYbuzteUvE",authDomain:"roomsalaya1.firebaseapp.com",projectId:"roomsalaya1",storageBucket:"roomsalaya1.appspot.com",messagingSenderId:"482437655803",appId:"1:482437655803:web:7c4721ad5fe6e1a09c945e"},Yd=Ey(nk),tD=$x(Yd),nD=OM(Yd),rD=JN(Yd),iD=()=>{const t=new Date().getFullYear();return bf.jsx("footer",{className:"footer",children:bf.jsxs("p",{children:["© ",t," หอพักณิชชาวีร์ สงวนลิขสิทธิ์"]})})};export{Ow as $,nT as A,zv as B,Mk as C,Zt as D,dc as E,iD as F,kv as G,fS as H,gr as I,JN as J,ue as K,Ck as L,PC as M,Ik as N,mk as O,yk as P,ce as Q,Nk as R,Xs as S,yn as T,ck as U,Jv as V,LS as W,cb as X,GE as Y,SC as Z,Ct as _,tD as a,BS as a$,Po as a0,Sk as a1,wk as a2,ea as a3,Cs as a4,xp as a5,ji as a6,Qs as a7,iT as a8,sk as a9,Ki as aA,Wt as aB,ye as aC,qt as aD,gk as aE,U as aF,pe as aG,Jw as aH,ak as aI,Ln as aJ,hc as aK,Tn as aL,Ml as aM,dk as aN,tT as aO,Nv as aP,vn as aQ,gu as aR,Oh as aS,ar as aT,Dh as aU,Mh as aV,Ek as aW,wI as aX,Fr as aY,xk as aZ,Ok as a_,IA as aa,Ro as ab,uk as ac,fk as ad,hk as ae,Mv as af,Xt as ag,Im as ah,Tk as ai,xo as aj,yc as ak,Ls as al,Xv as am,jo as an,Kh as ao,Ym as ap,gC as aq,EC as ar,Zk as as,Yk as at,Uk as au,Bk as av,wn as aw,Qi as ax,en as ay,Gi as az,nD as b,Pk as b0,IC as b1,Ak as b2,Rk as b3,CA as b4,AA as b5,Dk as b6,Of as b7,Nh as b8,UC as b9,fA as bA,ny as bB,hA as bC,vA as bD,_k as bE,US as bF,cy as bG,ly as bH,oy as bI,Jh as bJ,KE as bK,js as bL,Vk as bM,Qk as bN,PS as ba,vk as bb,pk as bc,SS as bd,Ys as be,lk as bf,bk as bg,PI as bh,jb as bi,qv as bj,ok as bk,RC as bl,jC as bm,vS as bn,xv as bo,AS as bp,rb as bq,tA as br,BE as bs,za as bt,Yw as bu,Bv as bv,sA as bw,oT as bx,EA as by,ik as bz,$x as c,PM as d,OM as e,rD as f,zk as g,Jk as h,Kk as i,jk as j,Hk as k,Gk as l,qk as m,Wk as n,fr as o,Fw as p,J as q,eD as r,kk as s,Je as t,Xk as u,L as v,Bo as w,Sn as x,Se as y,qh as z};
