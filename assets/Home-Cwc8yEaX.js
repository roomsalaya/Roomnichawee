import{R as l,j as i}from"./index-Bn6zt9jp.js";import{N as c}from"./Navbar-BpH-yYtP.js";import{F as m}from"./Footer-DEbuUpIN.js";const n=[{itemNo:1,matchNo:1,src:"src/assets/Ben_10_Upchuck.png",type:"item",matched:!1,selecting:!1},{itemNo:2,matchNo:2,src:"src/assets/Ben_10.jpg",type:"item",matched:!1,selecting:!1},{itemNo:3,matchNo:3,src:"src/assets/VHGhA7q8_400x400.jpeg",type:"item",matched:!1,selecting:!1},{itemNo:4,matchNo:4,src:"/images/lettuce.png",type:"item",matched:!1,selecting:!1},{itemNo:5,matchNo:5,src:"/images/meat.png",type:"item",matched:!1,selecting:!1},{itemNo:6,matchNo:6,src:"/images/rice.png",type:"item",matched:!1,selecting:!1},{itemNo:7,matchNo:7,src:"/images/soup.png",type:"item",matched:!1,selecting:!1},{itemNo:8,matchNo:8,src:"/images/bomb.png",type:"bomb",matched:!1,selecting:!1},{itemNo:9,matchNo:1,src:"src/assets/Ben_10_Upchuck.png",type:"item",matched:!1,selecting:!1},{itemNo:10,matchNo:2,src:"src/assets/Ben_10.jpg",type:"item",matched:!1,selecting:!1},{itemNo:11,matchNo:3,src:"/images/cheese.png",type:"item",matched:!1,selecting:!1},{itemNo:12,matchNo:4,src:"/images/lettuce.png",type:"item",matched:!1,selecting:!1},{itemNo:13,matchNo:5,src:"/images/meat.png",type:"item",matched:!1,selecting:!1},{itemNo:14,matchNo:6,src:"/images/rice.png",type:"item",matched:!1,selecting:!1},{itemNo:15,matchNo:7,src:"/images/soup.png",type:"item",matched:!1,selecting:!1},{itemNo:16,matchNo:8,src:"/images/bomb.png",type:"bomb",matched:!1,selecting:!1}];class h extends l.Component{constructor(){super(...arguments),this.state={selectingFirstNo:null,selectingSecondNo:null,selectFirst:!1,items:[],life:4,canPress:50,left:0,status:"playing"},this.handleReset=()=>{this.startGame()},this.selectItem=e=>{const t=[...this.state.items],s=t.find(a=>a.itemNo===e);s&&!s.matched&&!s.selecting&&(this.setState({canPress:this.state.canPress-1},()=>{this.state.canPress<0&&this.setState({status:"lose"})}),s.type==="bomb"?this.handleBombSelection(t.indexOf(s)):this.handleItemSelection(t.indexOf(s)))}}componentDidMount(){this.startGame(),this.audio=new Audio("src/assets/BEN10 DJ MOD REMIX.mp3"),this.audio.loop=!0,this.audio.play()}componentWillUnmount(){this.audio.pause(),this.audio.currentTime=0}startGame(){const e=n.map(t=>({...t,matched:!1,selecting:!1}));this.setState({items:this.shuffle(e),left:this.countItems(e)/3,life:4,canPress:50,status:"playing",selectFirst:!1,selectingFirstNo:null,selectingSecondNo:null})}shuffle(e){let t=e.length,s,a;for(;t!==0;)a=Math.floor(Math.random()*t),t-=1,s=e[t],e[t]=e[a],e[a]=s;return e}countItems(e){return e.filter(t=>t.type==="item").length}handleBombSelection(e){let t=[...this.state.items];t[e].selecting=!0,this.setState({items:t,life:this.state.life-1},()=>{this.state.life===0&&this.setState({status:"lose"})}),setTimeout(()=>{t[e].selecting=!1,this.setState({items:t})},750)}handleItemSelection(e){let t=[...this.state.items];this.state.selectFirst?t.forEach((s,a)=>{s.selecting&&s.itemNo!==t[e].itemNo&&(t[e].matchNo===s.matchNo?this.handleMatch(e,a):this.handleMismatch(e,a))}):(t[e].selecting=!0,this.setState({items:t,selectFirst:!0}))}handleMatch(e,t){let s=[...this.state.items];s[e].matched=!0,s[t].matched=!0,s[e].selecting=!1,s[t].selecting=!1,this.setState({items:s,left:this.state.left-1,selectFirst:!1},()=>{this.state.left===0&&this.setState({status:"win"})})}handleMismatch(e,t){let s=[...this.state.items];s[e].selecting=!0,this.setState({items:s,selectFirst:!1}),setTimeout(()=>{s[e].selecting=!1,s[t].selecting=!1,this.setState({items:s})},750)}renderLife(){let e=[];for(let t=0;t<this.state.life;t++)e.push(i.jsx("img",{src:"src/assets/heart.png",alt:"life",style:{width:32,height:32,marginRight:10}},t));return i.jsx("div",{style:{display:"flex",flexDirection:"row"},children:e})}render(){return i.jsxs("div",{className:"game-container",children:[i.jsxs("div",{className:"life-container",children:[this.renderLife(),i.jsx("span",{style:{fontSize:"32px"},children:this.state.canPress})]}),i.jsx("div",{className:"item-grid",children:this.state.items.map((e,t)=>i.jsx("div",{onClick:()=>this.selectItem(e.itemNo),className:`item ${e.matched?"matched":""} ${e.selecting?"selecting":""}`,children:e.matched||e.selecting?i.jsx("img",{src:e.src,alt:e.type,className:"item-img"}):i.jsx("img",{src:"src/assets/question.png",alt:"question",className:"item-img"})},t))}),this.state.status==="lose"&&i.jsxs("div",{className:"game-over",children:[i.jsx("h1",{children:"Game Over!"}),i.jsx("button",{onClick:this.handleReset,children:"Restart"})]}),this.state.status==="win"&&i.jsxs("div",{className:"game-over",children:[i.jsx("h1",{children:"You Win!"}),i.jsx("button",{onClick:this.handleReset,children:"Restart"})]})]})}}const d=()=>i.jsxs(i.Fragment,{children:[i.jsx(c,{}),i.jsx("h3",{children:"ตามหาเบ็นเท็น"}),i.jsx(h,{}),i.jsx(m,{})]});export{d as default};
